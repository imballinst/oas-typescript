"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[592],{1151:(Dt,et,f)=>{f.d(et,{Z:()=>V,a:()=>Z});var l=f(7294);const H={},D=l.createContext(H);function Z(X){const nt=l.useContext(D);return l.useMemo(function(){return typeof X=="function"?X(nt):{...nt,...X}},[nt,X])}function V(X){let nt;return X.disableParentContext?nt=typeof X.components=="function"?X.components(H):X.components||H:nt=Z(X.components),l.createElement(D.Provider,{value:nt},X.children)}},1644:(Dt,et,f)=>{f.d(et,{bK:()=>Xe});var l=f(870),H=f(6749),D=f(7452),Z=f(2002),V=f(7961),X=f(3836),nt=f(4379),U=f(5625);class J{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,i=e._prev;if(i!==e)return mt(i),i}enqueue(e){var i=this._sentinel;e._prev&&e._next&&mt(e),e._next=i._next,i._next._prev=e,i._next=e,e._prev=i}toString(){for(var e=[],i=this._sentinel,u=i._prev;u!==i;)e.push(JSON.stringify(u,Tt)),u=u._prev;return"["+e.join(", ")+"]"}}function mt(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function Tt(n,e){if(n!=="_next"&&n!=="_prev")return e}var rt=Z.Z(1);function ft(n,e){if(n.nodeCount()<=1)return[];var i=Xt(n,e||rt),u=lt(i.graph,i.buckets,i.zeroIdx);return V.Z(X.Z(u,function(c){return n.outEdges(c.v,c.w)}))}function lt(n,e,i){for(var u=[],c=e[e.length-1],g=e[0],m;n.nodeCount();){for(;m=g.dequeue();)Ot(n,e,i,m);for(;m=c.dequeue();)Ot(n,e,i,m);if(n.nodeCount()){for(var I=e.length-2;I>0;--I)if(m=e[I].dequeue(),m){u=u.concat(Ot(n,e,i,m,!0));break}}}return u}function Ot(n,e,i,u,c){var g=c?[]:void 0;return l.Z(n.inEdges(u.v),function(m){var I=n.edge(m),R=n.node(m.v);c&&g.push({v:m.v,w:m.w}),R.out-=I,jt(e,i,R)}),l.Z(n.outEdges(u.v),function(m){var I=n.edge(m),R=m.w,W=n.node(R);W.in-=I,jt(e,i,W)}),n.removeNode(u.v),g}function Xt(n,e){var i=new U.k,u=0,c=0;l.Z(n.nodes(),function(I){i.setNode(I,{v:I,in:0,out:0})}),l.Z(n.edges(),function(I){var R=i.edge(I.v,I.w)||0,W=e(I),tt=R+W;i.setEdge(I.v,I.w,tt),c=Math.max(c,i.node(I.v).out+=W),u=Math.max(u,i.node(I.w).in+=W)});var g=nt.Z(c+u+3).map(function(){return new J}),m=u+1;return l.Z(i.nodes(),function(I){jt(g,m,i.node(I))}),{graph:i,buckets:g,zeroIdx:m}}function jt(n,e,i){i.out?i.in?n[i.out-i.in+e].enqueue(i):n[n.length-1].enqueue(i):n[0].enqueue(i)}function rn(n){var e=n.graph().acyclicer==="greedy"?ft(n,i(n)):nn(n);l.Z(e,function(u){var c=n.edge(u);n.removeEdge(u),c.forwardName=u.name,c.reversed=!0,n.setEdge(u.w,u.v,c,H.Z("rev"))});function i(u){return function(c){return u.edge(c).weight}}}function nn(n){var e=[],i={},u={};function c(g){D.Z(u,g)||(u[g]=!0,i[g]=!0,l.Z(n.outEdges(g),function(m){D.Z(i,m.w)?e.push(m):c(m.w)}),delete i[g])}return l.Z(n.nodes(),c),e}function dt(n){l.Z(n.edges(),function(e){var i=n.edge(e);if(i.reversed){n.removeEdge(e);var u=i.forwardName;delete i.reversed,delete i.forwardName,n.setEdge(e.w,e.v,i,u)}})}var wt=f(9236),$t=f(1666),Gn=f(3688),xt=f(2714);function on(n,e,i){for(var u=-1,c=n.length;++u<c;){var g=n[u],m=e(g);if(m!=null&&(I===void 0?m===m&&!(0,xt.Z)(m):i(m,I)))var I=m,R=g}return R}const Mt=on;function Pn(n,e){return n>e}const kn=Pn;var cn=f(9203);function Wt(n){return n&&n.length?Mt(n,cn.Z,kn):void 0}const Ut=Wt;function $(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}const v=$;var K=f(4752),ct=f(2693),it=f(4765);function pt(n,e){var i={};return e=(0,it.Z)(e,3),(0,ct.Z)(n,function(u,c,g){(0,K.Z)(i,c,e(u,c,g))}),i}const Rt=pt;var kt=f(9360);function Pt(n,e){return n<e}const gn=Pt;function vn(n){return n&&n.length?Mt(n,cn.Z,gn):void 0}const Sn=vn;var yt=f(6092),_t=function(){return yt.Z.Date.now()};const An=_t;function Fn(n,e,i,u){var c;do c=H.Z(u);while(n.hasNode(c));return i.dummy=e,n.setNode(c,i),c}function Bt(n){var e=new U.k().setGraph(n.graph());return l.Z(n.nodes(),function(i){e.setNode(i,n.node(i))}),l.Z(n.edges(),function(i){var u=e.edge(i.v,i.w)||{weight:0,minlen:1},c=n.edge(i);e.setEdge(i.v,i.w,{weight:u.weight+c.weight,minlen:Math.max(u.minlen,c.minlen)})}),e}function M(n){var e=new U.k({multigraph:n.isMultigraph()}).setGraph(n.graph());return l.Z(n.nodes(),function(i){n.children(i).length||e.setNode(i,n.node(i))}),l.Z(n.edges(),function(i){e.setEdge(i,n.edge(i))}),e}function q(n){var e=_.map(n.nodes(),function(i){var u={};return _.forEach(n.outEdges(i),function(c){u[c.w]=(u[c.w]||0)+n.edge(c).weight}),u});return _.zipObject(n.nodes(),e)}function Et(n){var e=_.map(n.nodes(),function(i){var u={};return _.forEach(n.inEdges(i),function(c){u[c.v]=(u[c.v]||0)+n.edge(c).weight}),u});return _.zipObject(n.nodes(),e)}function Zt(n,e){var i=n.x,u=n.y,c=e.x-i,g=e.y-u,m=n.width/2,I=n.height/2;if(!c&&!g)throw new Error("Not possible to find intersection inside of the rectangle");var R,W;return Math.abs(g)*m>Math.abs(c)*I?(g<0&&(I=-I),R=I*c/g,W=I):(c<0&&(m=-m),R=m,W=m*g/c),{x:i+R,y:u+W}}function zt(n){var e=X.Z(nt.Z(ce(n)+1),function(){return[]});return l.Z(n.nodes(),function(i){var u=n.node(i),c=u.rank;kt.Z(c)||(e[c][u.order]=i)}),e}function Kt(n){var e=Sn(X.Z(n.nodes(),function(i){return n.node(i).rank}));l.Z(n.nodes(),function(i){var u=n.node(i);D.Z(u,"rank")&&(u.rank-=e)})}function Qt(n){var e=Sn(X.Z(n.nodes(),function(g){return n.node(g).rank})),i=[];l.Z(n.nodes(),function(g){var m=n.node(g).rank-e;i[m]||(i[m]=[]),i[m].push(g)});var u=0,c=n.graph().nodeRankFactor;l.Z(i,function(g,m){kt.Z(g)&&m%c!==0?--u:u&&l.Z(g,function(I){n.node(I).rank+=u})})}function Zn(n,e,i,u){var c={width:0,height:0};return arguments.length>=4&&(c.rank=i,c.order=u),Fn(n,"border",c,e)}function ce(n){return Ut(X.Z(n.nodes(),function(e){var i=n.node(e).rank;if(!kt.Z(i))return i}))}function Nn(n,e){var i={lhs:[],rhs:[]};return l.Z(n,function(u){e(u)?i.lhs.push(u):i.rhs.push(u)}),i}function zn(n,e){var i=An();try{return e()}finally{console.log(n+" time: "+(An()-i)+"ms")}}function wn(n,e){return e()}function Pe(n){function e(i){var u=n.children(i),c=n.node(i);if(u.length&&l.Z(u,e),D.Z(c,"minRank")){c.borderLeft=[],c.borderRight=[];for(var g=c.minRank,m=c.maxRank+1;g<m;++g)ke(n,"borderLeft","_bl",i,c,g),ke(n,"borderRight","_br",i,c,g)}}l.Z(n.children(),e)}function ke(n,e,i,u,c,g){var m={width:0,height:0,rank:g,borderType:e},I=c[e][g-1],R=Fn(n,"border",m,i);c[e][g]=R,n.setParent(R,u),I&&n.setEdge(I,R,{weight:1})}function Fe(n){var e=n.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&ne(n)}function Qn(n){var e=n.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&Ze(n),(e==="lr"||e==="rl")&&(_n(n),ne(n))}function ne(n){l.Z(n.nodes(),function(e){ae(n.node(e))}),l.Z(n.edges(),function(e){ae(n.edge(e))})}function ae(n){var e=n.width;n.width=n.height,n.height=e}function Ze(n){l.Z(n.nodes(),function(e){Jn(n.node(e))}),l.Z(n.edges(),function(e){var i=n.edge(e);l.Z(i.points,Jn),D.Z(i,"y")&&Jn(i)})}function Jn(n){n.y=-n.y}function _n(n){l.Z(n.nodes(),function(e){ye(n.node(e))}),l.Z(n.edges(),function(e){var i=n.edge(e);l.Z(i.points,ye),D.Z(i,"x")&&ye(i)})}function ye(n){var e=n.x;n.x=n.y,n.y=e}function Me(n){n.graph().dummyChains=[],l.Z(n.edges(),function(e){ee(n,e)})}function ee(n,e){var i=e.v,u=n.node(i).rank,c=e.w,g=n.node(c).rank,m=e.name,I=n.edge(e),R=I.labelRank;if(g!==u+1){n.removeEdge(e);var W,tt,ht;for(ht=0,++u;u<g;++ht,++u)I.points=[],tt={width:0,height:0,edgeLabel:I,edgeObj:e,rank:u},W=Fn(n,"edge",tt,"_d"),u===R&&(tt.width=I.width,tt.height=I.height,tt.dummy="edge-label",tt.labelpos=I.labelpos),n.setEdge(i,W,{weight:I.weight},m),ht===0&&n.graph().dummyChains.push(W),i=W;n.setEdge(i,c,{weight:I.weight},m)}}function fe(n){l.Z(n.graph().dummyChains,function(e){var i=n.node(e),u=i.edgeLabel,c;for(n.setEdge(i.edgeObj,u);i.dummy;)c=n.successors(e)[0],n.removeNode(e),u.points.push({x:i.x,y:i.y}),i.dummy==="edge-label"&&(u.x=i.x,u.y=i.y,u.width=i.width,u.height=i.height),e=c,i=n.node(e)})}function se(n,e){return n&&n.length?Mt(n,(0,it.Z)(e,2),gn):void 0}const qn=se;function Vn(n){var e={};function i(u){var c=n.node(u);if(D.Z(e,u))return c.rank;e[u]=!0;var g=Sn(X.Z(n.outEdges(u),function(m){return i(m.w)-n.edge(m).minlen}));return(g===Number.POSITIVE_INFINITY||g===void 0||g===null)&&(g=0),c.rank=g}l.Z(n.sources(),i)}function oe(n,e){return n.node(e.w).rank-n.node(e.v).rank-n.edge(e).minlen}function y(n){var e=new U.k({directed:!1}),i=n.nodes()[0],u=n.nodeCount();e.setNode(i,{});for(var c,g;r(e,n)<u;)c=b(e,n),g=e.hasNode(c.v)?oe(n,c):-oe(n,c),L(e,n,g);return e}function r(n,e){function i(u){l.Z(e.nodeEdges(u),function(c){var g=c.v,m=u===g?c.w:g;!n.hasNode(m)&&!oe(e,c)&&(n.setNode(m,{}),n.setEdge(u,m,{}),i(m))})}return l.Z(n.nodes(),i),n.nodeCount()}function b(n,e){return qn(e.edges(),function(i){if(n.hasNode(i.v)!==n.hasNode(i.w))return oe(e,i)})}function L(n,e,i){l.Z(n.nodes(),function(u){e.node(u).rank+=i})}var w=f(585),A=f(7179);function C(n){return function(e,i,u){var c=Object(e);if(!(0,w.Z)(e)){var g=(0,it.Z)(i,3);e=(0,A.Z)(e),i=function(I){return g(c[I],I,c)}}var m=n(e,i,u);return m>-1?c[g?e[m]:m]:void 0}}const z=C;var E=f(1692),F=f(4099);function j(n){var e=(0,F.Z)(n),i=e%1;return e===e?i?e-i:e:0}const Q=j;var gt=Math.max;function st(n,e,i){var u=n==null?0:n.length;if(!u)return-1;var c=i==null?0:Q(i);return c<0&&(c=gt(u+c,0)),(0,E.Z)(n,(0,it.Z)(e,3),c)}var Ft=z(st);const Ct=Ft;var vt=f(3445),Lt=Z.Z(1);function Jt(n,e,i,u){return Yt(n,String(e),i||Lt,u||function(c){return n.outEdges(c)})}function Yt(n,e,i,u){var c={},g=new PriorityQueue,m,I,R=function(W){var tt=W.v!==m?W.v:W.w,ht=c[tt],Ht=i(W),qt=I.distance+Ht;if(Ht<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+W+" Weight: "+Ht);qt<ht.distance&&(ht.distance=qt,ht.predecessor=m,g.decrease(tt,qt))};for(n.nodes().forEach(function(W){var tt=W===e?0:Number.POSITIVE_INFINITY;c[W]={distance:tt},g.add(W,tt)});g.size()>0&&(m=g.removeMin(),I=c[m],I.distance!==Number.POSITIVE_INFINITY);)u(m).forEach(R);return c}function Mn(n,e,i){return _.transform(n.nodes(),function(u,c){u[c]=dijkstra(n,c,e,i)},{})}var Bn=Z.Z(1);function Kn(n,e,i){return en(n,e||Bn,i||function(u){return n.outEdges(u)})}function en(n,e,i){var u={},c=n.nodes();return c.forEach(function(g){u[g]={},u[g][g]={distance:0},c.forEach(function(m){g!==m&&(u[g][m]={distance:Number.POSITIVE_INFINITY})}),i(g).forEach(function(m){var I=m.v===g?m.w:m.v,R=e(m);u[g][I]={distance:R,predecessor:g}})}),c.forEach(function(g){var m=u[g];c.forEach(function(I){var R=u[I];c.forEach(function(W){var tt=R[g],ht=m[W],Ht=R[W],qt=tt.distance+ht.distance;qt<Ht.distance&&(Ht.distance=qt,Ht.predecessor=ht.predecessor)})})}),u}var an=f(9473),Dn=f(3970),Wn=f(3589),xn=f(7771),re=f(8533),he="[object String]";function rr(n){return typeof n=="string"||!(0,xn.Z)(n)&&(0,re.Z)(n)&&(0,Wn.Z)(n)==he}const je=rr;var ir=f(4193),We=(0,ir.Z)("length");const ar=We;var fn="\\ud800-\\udfff",Be="\\u0300-\\u036f",sr="\\ufe20-\\ufe2f",ot="\\u20d0-\\u20ff",sn=Be+sr+ot,Hn="\\ufe0e\\ufe0f",Ce="\\u200d",De=RegExp("["+Ce+fn+sn+Hn+"]");function de(n){return De.test(n)}const Xn=de;var Se="\\ud800-\\udfff",Ae="\\u0300-\\u036f",or="\\ufe20-\\ufe2f",Ge="\\u20d0-\\u20ff",ve=Ae+or+Ge,Ve="\\ufe0e\\ufe0f",$e="["+Se+"]",Ue="["+ve+"]",Re="\\ud83c[\\udffb-\\udfff]",pe="(?:"+Ue+"|"+Re+")",ge="[^"+Se+"]",pr="(?:\\ud83c[\\udde6-\\uddff]){2}",gr="[\\ud800-\\udbff][\\udc00-\\udfff]",Br="\\u200d",mr=pe+"?",xr="["+Ve+"]?",Dr="(?:"+Br+"(?:"+[ge,pr,gr].join("|")+")"+xr+mr+")*",Rr=xr+mr+Dr,Nr="(?:"+[ge+Ue+"?",Ue,pr,gr,$e].join("|")+")",br=RegExp(Re+"(?="+Re+")|"+Nr+Rr,"g");function zr(n){for(var e=br.lastIndex=0;br.test(n);)++e;return e}const jr=zr;function Wr(n){return Xn(n)?jr(n):ar(n)}const Ur=Wr;var Kr="[object Map]",Hr="[object Set]";function Xr(n){if(n==null)return 0;if((0,w.Z)(n))return je(n)?Ur(n):n.length;var e=(0,Dn.Z)(n);return e==Kr||e==Hr?n.size:(0,an.Z)(n).length}const yr=Xr;Yr.CycleException=Qe;function Yr(n){var e={},i={},u=[];function c(g){if(D.Z(i,g))throw new Qe;D.Z(e,g)||(i[g]=!0,e[g]=!0,l.Z(n.predecessors(g),c),delete i[g],u.push(g))}if(l.Z(n.sinks(),c),yr(e)!==n.nodeCount())throw new Qe;return u}function Qe(){}Qe.prototype=new Error;function Gr(n){try{topsort(n)}catch(e){if(e instanceof CycleException)return!1;throw e}return!0}function vr(n,e,i){xn.Z(e)||(e=[e]);var u=(n.isDirected()?n.successors:n.neighbors).bind(n),c=[],g={};return l.Z(e,function(m){if(!n.hasNode(m))throw new Error("Graph does not have node: "+m);wr(n,m,i==="post",g,u,c)}),c}function wr(n,e,i,u,c,g){D.Z(u,e)||(u[e]=!0,i||g.push(e),l.Z(c(e),function(m){wr(n,m,i,u,c,g)}),i&&g.push(e))}function Vr(n,e){return vr(n,e,"post")}function Je(n,e){return vr(n,e,"pre")}var _r=f(2544);function $r(n,e){var i=new Graph,u={},c=new PriorityQueue,g;function m(R){var W=R.v===g?R.w:R.v,tt=c.priority(W);if(tt!==void 0){var ht=e(R);ht<tt&&(u[W]=g,c.decrease(W,ht))}}if(n.nodeCount()===0)return i;_.each(n.nodes(),function(R){c.add(R,Number.POSITIVE_INFINITY),i.setNode(R)}),c.decrease(n.nodes()[0],0);for(var I=!1;c.size()>0;){if(g=c.removeMin(),_.has(u,g))i.setEdge(g,u[g]);else{if(I)throw new Error("Input graph is not connected: "+n);I=!0}n.nodeEdges(g).forEach(m)}return i}Te.initLowLimValues=me,Te.initCutValues=qe,Te.calcCutValue=kr,Te.leaveEdge=Zr,Te.enterEdge=lr,Te.exchangeEdges=Cr;function Te(n){n=Bt(n),Vn(n);var e=y(n);me(e),qe(e,n);for(var i,u;i=Zr(e);)u=lr(e,n,i),Cr(e,n,i,u)}function qe(n,e){var i=Vr(n,n.nodes());i=i.slice(0,i.length-1),l.Z(i,function(u){Er(n,e,u)})}function Er(n,e,i){var u=n.node(i),c=u.parent;n.edge(i,c).cutvalue=kr(n,e,i)}function kr(n,e,i){var u=n.node(i),c=u.parent,g=!0,m=e.edge(i,c),I=0;return m||(g=!1,m=e.edge(c,i)),I=m.weight,l.Z(e.nodeEdges(i),function(R){var W=R.v===i,tt=W?R.w:R.v;if(tt!==c){var ht=W===g,Ht=e.edge(R).weight;if(I+=ht?Ht:-Ht,Jr(n,i,tt)){var qt=n.edge(i,tt).cutvalue;I+=ht?-qt:qt}}}),I}function me(n,e){arguments.length<2&&(e=n.nodes()[0]),ur(n,{},1,e)}function ur(n,e,i,u,c){var g=i,m=n.node(u);return e[u]=!0,l.Z(n.neighbors(u),function(I){D.Z(e,I)||(i=ur(n,e,i,I,u))}),m.low=g,m.lim=i++,c?m.parent=c:delete m.parent,i}function Zr(n){return Ct(n.edges(),function(e){return n.edge(e).cutvalue<0})}function lr(n,e,i){var u=i.v,c=i.w;e.hasEdge(u,c)||(u=i.w,c=i.v);var g=n.node(u),m=n.node(c),I=g,R=!1;g.lim>m.lim&&(I=m,R=!0);var W=vt.Z(e.edges(),function(tt){return R===Sr(n,n.node(tt.v),I)&&R!==Sr(n,n.node(tt.w),I)});return qn(W,function(tt){return oe(e,tt)})}function Cr(n,e,i,u){var c=i.v,g=i.w;n.removeEdge(c,g),n.setEdge(u.v,u.w,{}),me(n),qe(n,e),Qr(n,e)}function Qr(n,e){var i=Ct(n.nodes(),function(c){return!e.node(c).parent}),u=Je(n,i);u=u.slice(1),l.Z(u,function(c){var g=n.node(c).parent,m=e.edge(c,g),I=!1;m||(m=e.edge(g,c),I=!0),e.node(c).rank=e.node(g).rank+(I?m.minlen:-m.minlen)})}function Jr(n,e,i){return n.hasEdge(e,i)}function Sr(n,e,i){return i.low<=e.lim&&e.lim<=i.lim}function qr(n){switch(n.graph().ranker){case"network-simplex":Tr(n);break;case"tight-tree":Ar(n);break;case"longest-path":ti(n);break;default:Tr(n)}}var ti=Vn;function Ar(n){Vn(n),y(n)}function Tr(n){Te(n)}var Le=f(4148),tr=f(2344);function ni(n){var e=Fn(n,"root",{},"_root"),i=ei(n),u=Ut(Le.Z(i))-1,c=2*u+1;n.graph().nestingRoot=e,l.Z(n.edges(),function(m){n.edge(m).minlen*=c});var g=ri(n)+1;l.Z(n.children(),function(m){nr(n,e,c,g,u,i,m)}),n.graph().nodeRankFactor=c}function nr(n,e,i,u,c,g,m){var I=n.children(m);if(!I.length){m!==e&&n.setEdge(e,m,{weight:0,minlen:i});return}var R=Zn(n,"_bt"),W=Zn(n,"_bb"),tt=n.node(m);n.setParent(R,m),tt.borderTop=R,n.setParent(W,m),tt.borderBottom=W,l.Z(I,function(ht){nr(n,e,i,u,c,g,ht);var Ht=n.node(ht),qt=Ht.borderTop?Ht.borderTop:ht,dn=Ht.borderBottom?Ht.borderBottom:ht,$n=Ht.borderTop?u:2*u,dr=qt!==dn?1:c-g[m]+1;n.setEdge(R,qt,{weight:$n,minlen:dr,nestingEdge:!0}),n.setEdge(dn,W,{weight:$n,minlen:dr,nestingEdge:!0})}),n.parent(m)||n.setEdge(e,R,{weight:0,minlen:c+g[m]})}function ei(n){var e={};function i(u,c){var g=n.children(u);g&&g.length&&l.Z(g,function(m){i(m,c+1)}),e[u]=c}return l.Z(n.children(),function(u){i(u,1)}),e}function ri(n){return tr.Z(n.edges(),function(e,i){return e+n.edge(i).weight},0)}function ii(n){var e=n.graph();n.removeNode(e.nestingRoot),delete e.nestingRoot,l.Z(n.edges(),function(i){var u=n.edge(i);u.nestingEdge&&n.removeEdge(i)})}var cr=f(8451),ai=1,t=4;function o(n){return(0,cr.Z)(n,ai|t)}const a=o;function s(n,e,i){var u={},c;l.Z(i,function(g){for(var m=n.parent(g),I,R;m;){if(I=n.parent(m),I?(R=u[I],u[I]=m):(R=c,c=m),R&&R!==m){e.setEdge(R,m);return}m=I}})}function p(n,e,i){var u=h(n),c=new U.k({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(g){return n.node(g)});return l.Z(n.nodes(),function(g){var m=n.node(g),I=n.parent(g);(m.rank===e||m.minRank<=e&&e<=m.maxRank)&&(c.setNode(g),c.setParent(g,I||u),l.Z(n[i](g),function(R){var W=R.v===g?R.w:R.v,tt=c.edge(W,g),ht=kt.Z(tt)?0:tt.weight;c.setEdge(W,g,{weight:n.edge(R).weight+ht})}),D.Z(m,"minRank")&&c.setNode(g,{borderLeft:m.borderLeft[e],borderRight:m.borderRight[e]}))}),c}function h(n){for(var e;n.hasNode(e=H.Z("_root")););return e}var d=f(2954);function x(n,e,i){for(var u=-1,c=n.length,g=e.length,m={};++u<c;){var I=u<g?e[u]:void 0;i(m,n[u],I)}return m}const N=x;function P(n,e){return N(n||[],e||[],d.Z)}const T=P;var Y=f(626),B=f(7679),O=f(8033),un=f(1018);function ln(n,e){var i=n.length;for(n.sort(e);i--;)n[i]=n[i].value;return n}const bn=ln;var bt=f(1162);function Tn(n,e){if(n!==e){var i=n!==void 0,u=n===null,c=n===n,g=(0,xt.Z)(n),m=e!==void 0,I=e===null,R=e===e,W=(0,xt.Z)(e);if(!I&&!W&&!g&&n>e||g&&m&&R&&!I&&!W||u&&m&&R||!i&&R||!c)return 1;if(!u&&!g&&!W&&n<e||W&&i&&c&&!u&&!g||I&&i&&c||!m&&c||!R)return-1}return 0}const At=Tn;function En(n,e,i){for(var u=-1,c=n.criteria,g=e.criteria,m=c.length,I=i.length;++u<m;){var R=At(c[u],g[u]);if(R){if(u>=I)return R;var W=i[u];return R*(W=="desc"?-1:1)}}return n.index-e.index}const Cn=En;function at(n,e,i){e.length?e=(0,B.Z)(e,function(g){return(0,xn.Z)(g)?function(m){return(0,O.Z)(m,g.length===1?g[0]:g)}:g}):e=[cn.Z];var u=-1;e=(0,B.Z)(e,(0,bt.Z)(it.Z));var c=(0,un.Z)(n,function(g,m,I){var R=(0,B.Z)(e,function(W){return W(g)});return{criteria:R,index:++u,value:g}});return bn(c,function(g,m){return Cn(g,m,i)})}const mn=at;var Rn=f(9581),On=f(439),Yn=(0,Rn.Z)(function(n,e){if(n==null)return[];var i=e.length;return i>1&&(0,On.Z)(n,e[0],e[1])?e=[]:i>2&&(0,On.Z)(e[0],e[1],e[2])&&(e=[e[0]]),mn(n,(0,Y.Z)(e,1),[])});const yn=Yn;function tn(n,e){for(var i=0,u=1;u<e.length;++u)i+=It(n,e[u-1],e[u]);return i}function It(n,e,i){for(var u=T(i,X.Z(i,function(W,tt){return tt})),c=V.Z(X.Z(e,function(W){return yn(X.Z(n.outEdges(W),function(tt){return{pos:u[tt.w],weight:n.edge(tt).weight}}),"pos")})),g=1;g<i.length;)g<<=1;var m=2*g-1;g-=1;var I=X.Z(new Array(m),function(){return 0}),R=0;return l.Z(c.forEach(function(W){var tt=W.pos+g;I[tt]+=W.weight;for(var ht=0;tt>0;)tt%2&&(ht+=I[tt+1]),tt=tt-1>>1,I[tt]+=W.weight;R+=W.weight*ht})),R}function Vt(n){var e={},i=vt.Z(n.nodes(),function(I){return!n.children(I).length}),u=Ut(X.Z(i,function(I){return n.node(I).rank})),c=X.Z(nt.Z(u+1),function(){return[]});function g(I){if(!D.Z(e,I)){e[I]=!0;var R=n.node(I);c[R.rank].push(I),l.Z(n.successors(I),g)}}var m=yn(i,function(I){return n.node(I).rank});return l.Z(m,g),c}function Gt(n,e){return X.Z(e,function(i){var u=n.inEdges(i);if(u.length){var c=tr.Z(u,function(g,m){var I=n.edge(m),R=n.node(m.v);return{sum:g.sum+I.weight*R.order,weight:g.weight+I.weight}},{sum:0,weight:0});return{v:i,barycenter:c.sum/c.weight,weight:c.weight}}else return{v:i}})}function Ln(n,e){var i={};l.Z(n,function(c,g){var m=i[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:g};kt.Z(c.barycenter)||(m.barycenter=c.barycenter,m.weight=c.weight)}),l.Z(e.edges(),function(c){var g=i[c.v],m=i[c.w];!kt.Z(g)&&!kt.Z(m)&&(m.indegree++,g.out.push(i[c.w]))});var u=vt.Z(i,function(c){return!c.indegree});return jn(u)}function jn(n){var e=[];function i(g){return function(m){m.merged||(kt.Z(m.barycenter)||kt.Z(g.barycenter)||m.barycenter>=g.barycenter)&&ue(g,m)}}function u(g){return function(m){m.in.push(g),--m.indegree===0&&n.push(m)}}for(;n.length;){var c=n.pop();e.push(c),l.Z(c.in.reverse(),i(c)),l.Z(c.out,u(c))}return X.Z(vt.Z(e,function(g){return!g.merged}),function(g){return $t.Z(g,["vs","i","barycenter","weight"])})}function ue(n,e){var i=0,u=0;n.weight&&(i+=n.barycenter*n.weight,u+=n.weight),e.weight&&(i+=e.barycenter*e.weight,u+=e.weight),n.vs=e.vs.concat(n.vs),n.barycenter=i/u,n.weight=u,n.i=Math.min(e.i,n.i),e.merged=!0}function xe(n,e){var i=Nn(n,function(tt){return D.Z(tt,"barycenter")}),u=i.lhs,c=yn(i.rhs,function(tt){return-tt.i}),g=[],m=0,I=0,R=0;u.sort(ie(!!e)),R=k(g,c,R),l.Z(u,function(tt){R+=tt.vs.length,g.push(tt.vs),m+=tt.barycenter*tt.weight,I+=tt.weight,R=k(g,c,R)});var W={vs:V.Z(g)};return I&&(W.barycenter=m/I,W.weight=I),W}function k(n,e,i){for(var u;e.length&&(u=v(e)).i<=i;)e.pop(),n.push(u.vs),i++;return i}function ie(n){return function(e,i){return e.barycenter<i.barycenter?-1:e.barycenter>i.barycenter?1:n?i.i-e.i:e.i-i.i}}function be(n,e,i,u){var c=n.children(e),g=n.node(e),m=g?g.borderLeft:void 0,I=g?g.borderRight:void 0,R={};m&&(c=vt.Z(c,function(dn){return dn!==m&&dn!==I}));var W=Gt(n,c);l.Z(W,function(dn){if(n.children(dn.v).length){var $n=be(n,dn.v,i,u);R[dn.v]=$n,D.Z($n,"barycenter")&&te(dn,$n)}});var tt=Ln(W,i);S(tt,R);var ht=xe(tt,u);if(m&&(ht.vs=V.Z([m,ht.vs,I]),n.predecessors(m).length)){var Ht=n.node(n.predecessors(m)[0]),qt=n.node(n.predecessors(I)[0]);D.Z(ht,"barycenter")||(ht.barycenter=0,ht.weight=0),ht.barycenter=(ht.barycenter*ht.weight+Ht.order+qt.order)/(ht.weight+2),ht.weight+=2}return ht}function S(n,e){l.Z(n,function(i){i.vs=V.Z(i.vs.map(function(u){return e[u]?e[u].vs:u}))})}function te(n,e){kt.Z(n.barycenter)?(n.barycenter=e.barycenter,n.weight=e.weight):(n.barycenter=(n.barycenter*n.weight+e.barycenter*e.weight)/(n.weight+e.weight),n.weight+=e.weight)}function Ne(n){var e=ce(n),i=er(n,nt.Z(1,e+1),"inEdges"),u=er(n,nt.Z(e-1,-1,-1),"outEdges"),c=Vt(n);Un(n,c);for(var g=Number.POSITIVE_INFINITY,m,I=0,R=0;R<4;++I,++R){Ke(I%2?i:u,I%4>=2),c=zt(n);var W=tn(n,c);W<g&&(R=0,m=a(c),g=W)}Un(n,m)}function er(n,e,i){return X.Z(e,function(u){return p(n,u,i)})}function Ke(n,e){var i=new U.k;l.Z(n,function(u){var c=u.graph().root,g=be(u,c,i,e);l.Z(g.vs,function(m,I){u.node(m).order=I}),s(u,i,g.vs)})}function Un(n,e){l.Z(e,function(i){l.Z(i,function(u,c){n.node(u).order=c})})}function He(n){var e=ze(n);l.Z(n.graph().dummyChains,function(i){for(var u=n.node(i),c=u.edgeObj,g=we(n,e,c.v,c.w),m=g.path,I=g.lca,R=0,W=m[R],tt=!0;i!==c.w;){if(u=n.node(i),tt){for(;(W=m[R])!==I&&n.node(W).maxRank<u.rank;)R++;W===I&&(tt=!1)}if(!tt){for(;R<m.length-1&&n.node(W=m[R+1]).minRank<=u.rank;)R++;W=m[R]}n.setParent(i,W),i=n.successors(i)[0]}})}function we(n,e,i,u){var c=[],g=[],m=Math.min(e[i].low,e[u].low),I=Math.max(e[i].lim,e[u].lim),R,W;R=i;do R=n.parent(R),c.push(R);while(R&&(e[R].low>m||I>e[R].lim));for(W=R,R=u;(R=n.parent(R))!==W;)g.push(R);return{path:c.concat(g.reverse()),lca:W}}function ze(n){var e={},i=0;function u(c){var g=i;l.Z(n.children(c),u),e[c]={low:g,lim:i++}}return l.Z(n.children(),u),e}var Oe=f(8882);function fr(n,e){return n&&(0,ct.Z)(n,(0,Oe.Z)(e))}const si=fr;var oi=f(1395),Lr=f(2957);function Or(n,e){return n==null?n:(0,oi.Z)(n,(0,Oe.Z)(e),Lr.Z)}const Ir=Or;function ui(n,e){var i={};function u(c,g){var m=0,I=0,R=c.length,W=v(g);return l.Z(g,function(tt,ht){var Ht=Fr(n,tt),qt=Ht?n.node(Ht).order:R;(Ht||tt===W)&&(l.Z(g.slice(I,ht+1),function(dn){l.Z(n.predecessors(dn),function($n){var dr=n.node($n),gi=dr.order;(gi<m||qt<gi)&&!(dr.dummy&&n.node(dn).dummy)&&Mr(i,$n,dn)})}),I=ht+1,m=qt)}),g}return tr.Z(e,u),i}function Pr(n,e){var i={};function u(g,m,I,R,W){var tt;l.Z(nt.Z(m,I),function(ht){tt=g[ht],n.node(tt).dummy&&l.Z(n.predecessors(tt),function(Ht){var qt=n.node(Ht);qt.dummy&&(qt.order<R||qt.order>W)&&Mr(i,Ht,tt)})})}function c(g,m){var I=-1,R,W=0;return l.Z(m,function(tt,ht){if(n.node(tt).dummy==="border"){var Ht=n.predecessors(tt);Ht.length&&(R=n.node(Ht[0]).order,u(m,W,ht,I,R),W=ht,I=R)}u(m,W,m.length,R,g.length)}),m}return tr.Z(e,c),i}function Fr(n,e){if(n.node(e).dummy)return Ct(n.predecessors(e),function(i){return n.node(i).dummy})}function Mr(n,e,i){if(e>i){var u=e;e=i,i=u}var c=n[e];c||(n[e]=c={}),c[i]=!0}function li(n,e,i){if(e>i){var u=e;e=i,i=u}return D.Z(n[e],i)}function ci(n,e,i,u){var c={},g={},m={};return l.Z(e,function(I){l.Z(I,function(R,W){c[R]=R,g[R]=R,m[R]=W})}),l.Z(e,function(I){var R=-1;l.Z(I,function(W){var tt=u(W);if(tt.length){tt=yn(tt,function($n){return m[$n]});for(var ht=(tt.length-1)/2,Ht=Math.floor(ht),qt=Math.ceil(ht);Ht<=qt;++Ht){var dn=tt[Ht];g[W]===W&&R<m[dn]&&!li(i,W,dn)&&(g[dn]=W,g[W]=c[W]=c[dn],R=m[dn])}}})}),{root:c,align:g}}function fi(n,e,i,u,c){var g={},m=hi(n,e,i,c),I=c?"borderLeft":"borderRight";function R(ht,Ht){for(var qt=m.nodes(),dn=qt.pop(),$n={};dn;)$n[dn]?ht(dn):($n[dn]=!0,qt.push(dn),qt=qt.concat(Ht(dn))),dn=qt.pop()}function W(ht){g[ht]=m.inEdges(ht).reduce(function(Ht,qt){return Math.max(Ht,g[qt.v]+m.edge(qt))},0)}function tt(ht){var Ht=m.outEdges(ht).reduce(function(dn,$n){return Math.min(dn,g[$n.w]-m.edge($n))},Number.POSITIVE_INFINITY),qt=n.node(ht);Ht!==Number.POSITIVE_INFINITY&&qt.borderType!==I&&(g[ht]=Math.max(g[ht],Ht))}return R(W,m.predecessors.bind(m)),R(tt,m.successors.bind(m)),l.Z(u,function(ht){g[ht]=g[i[ht]]}),g}function hi(n,e,i,u){var c=new U.k,g=n.graph(),m=pn(g.nodesep,g.edgesep,u);return l.Z(e,function(I){var R;l.Z(I,function(W){var tt=i[W];if(c.setNode(tt),R){var ht=i[R],Ht=c.edge(ht,tt);c.setEdge(ht,tt,Math.max(m(n,W,R),Ht||0))}R=W})}),c}function G(n,e){return qn(Le.Z(e),function(i){var u=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY;return Ir(i,function(g,m){var I=le(n,m)/2;u=Math.max(g+I,u),c=Math.min(g-I,c)}),u-c})}function ut(n,e){var i=Le.Z(e),u=Sn(i),c=Ut(i);l.Z(["u","d"],function(g){l.Z(["l","r"],function(m){var I=g+m,R=n[I],W;if(R!==e){var tt=Le.Z(R);W=m==="l"?u-Sn(tt):c-Ut(tt),W&&(n[I]=Rt(R,function(ht){return ht+W}))}})})}function Nt(n,e){return Rt(n.ul,function(i,u){if(e)return n[e.toLowerCase()][u];var c=yn(X.Z(n,u));return(c[1]+c[2])/2})}function hn(n){var e=zt(n),i=wt.Z(ui(n,e),Pr(n,e)),u={},c;l.Z(["u","d"],function(m){c=m==="u"?e:Le.Z(e).reverse(),l.Z(["l","r"],function(I){I==="r"&&(c=X.Z(c,function(ht){return Le.Z(ht).reverse()}));var R=(m==="u"?n.predecessors:n.successors).bind(n),W=ci(n,c,i,R),tt=fi(n,c,W.root,W.align,I==="r");I==="r"&&(tt=Rt(tt,function(ht){return-ht})),u[m+I]=tt})});var g=G(n,u);return ut(u,g),Nt(u,n.graph().align)}function pn(n,e,i){return function(u,c,g){var m=u.node(c),I=u.node(g),R=0,W;if(R+=m.width/2,D.Z(m,"labelpos"))switch(m.labelpos.toLowerCase()){case"l":W=-m.width/2;break;case"r":W=m.width/2;break}if(W&&(R+=i?W:-W),W=0,R+=(m.dummy?e:n)/2,R+=(I.dummy?e:n)/2,R+=I.width/2,D.Z(I,"labelpos"))switch(I.labelpos.toLowerCase()){case"l":W=I.width/2;break;case"r":W=-I.width/2;break}return W&&(R+=i?W:-W),W=0,R}}function le(n,e){return n.node(e).width}function Ie(n){n=M(n),_e(n),si(hn(n),function(e,i){n.node(i).x=e})}function _e(n){var e=zt(n),i=n.graph().ranksep,u=0;l.Z(e,function(c){var g=Ut(X.Z(c,function(m){return n.node(m).height}));l.Z(c,function(m){n.node(m).y=u+g/2}),u+=g+i})}function Xe(n,e){var i=e&&e.debugTiming?zn:wn;i("layout",function(){var u=i("  buildLayoutGraph",function(){return _i(n)});i("  runLayout",function(){Ye(u,i)}),i("  updateInputGraph",function(){In(n,u)})})}function Ye(n,e){e("    makeSpaceForEdgeLabels",function(){Ei(n)}),e("    removeSelfEdges",function(){Ii(n)}),e("    acyclic",function(){rn(n)}),e("    nestingGraph.run",function(){ni(n)}),e("    rank",function(){qr(M(n))}),e("    injectEdgeLabelProxies",function(){ki(n)}),e("    removeEmptyRanks",function(){Qt(n)}),e("    nestingGraph.cleanup",function(){ii(n)}),e("    normalizeRanks",function(){Kt(n)}),e("    assignRankMinMax",function(){Zi(n)}),e("    removeEdgeLabelProxies",function(){Ci(n)}),e("    normalize.run",function(){Me(n)}),e("    parentDummyChains",function(){He(n)}),e("    addBorderSegments",function(){Pe(n)}),e("    order",function(){Ne(n)}),e("    insertSelfEdges",function(){Pi(n)}),e("    adjustCoordinateSystem",function(){Fe(n)}),e("    position",function(){Ie(n)}),e("    positionSelfEdges",function(){Fi(n)}),e("    removeBorderNodes",function(){Oi(n)}),e("    normalize.undo",function(){fe(n)}),e("    fixupEdgeLabelCoords",function(){Ti(n)}),e("    undoCoordinateSystem",function(){Qn(n)}),e("    translateGraph",function(){Si(n)}),e("    assignNodeIntersects",function(){Ai(n)}),e("    reversePoints",function(){Li(n)}),e("    acyclic.undo",function(){dt(n)})}function In(n,e){l.Z(n.nodes(),function(i){var u=n.node(i),c=e.node(i);u&&(u.x=c.x,u.y=c.y,e.children(i).length&&(u.width=c.width,u.height=c.height))}),l.Z(n.edges(),function(i){var u=n.edge(i),c=e.edge(i);u.points=c.points,D.Z(c,"x")&&(u.x=c.x,u.y=c.y)}),n.graph().width=e.graph().width,n.graph().height=e.graph().height}var hr=["nodesep","edgesep","ranksep","marginx","marginy"],Ee={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},mi=["acyclicer","ranker","rankdir","align"],xi=["width","height"],bi={width:0,height:0},yi=["minlen","weight","width","height","labeloffset"],vi={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},wi=["labelpos"];function _i(n){var e=new U.k({multigraph:!0,compound:!0}),i=pi(n.graph());return e.setGraph(wt.Z({},Ee,di(i,hr),$t.Z(i,mi))),l.Z(n.nodes(),function(u){var c=pi(n.node(u));e.setNode(u,Gn.Z(di(c,xi),bi)),e.setParent(u,n.parent(u))}),l.Z(n.edges(),function(u){var c=pi(n.edge(u));e.setEdge(u,wt.Z({},vi,di(c,yi),$t.Z(c,wi)))}),e}function Ei(n){var e=n.graph();e.ranksep/=2,l.Z(n.edges(),function(i){var u=n.edge(i);u.minlen*=2,u.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?u.width+=u.labeloffset:u.height+=u.labeloffset)})}function ki(n){l.Z(n.edges(),function(e){var i=n.edge(e);if(i.width&&i.height){var u=n.node(e.v),c=n.node(e.w),g={rank:(c.rank-u.rank)/2+u.rank,e};Fn(n,"edge-proxy",g,"_ep")}})}function Zi(n){var e=0;l.Z(n.nodes(),function(i){var u=n.node(i);u.borderTop&&(u.minRank=n.node(u.borderTop).rank,u.maxRank=n.node(u.borderBottom).rank,e=Ut(e,u.maxRank))}),n.graph().maxRank=e}function Ci(n){l.Z(n.nodes(),function(e){var i=n.node(e);i.dummy==="edge-proxy"&&(n.edge(i.e).labelRank=i.rank,n.removeNode(e))})}function Si(n){var e=Number.POSITIVE_INFINITY,i=0,u=Number.POSITIVE_INFINITY,c=0,g=n.graph(),m=g.marginx||0,I=g.marginy||0;function R(W){var tt=W.x,ht=W.y,Ht=W.width,qt=W.height;e=Math.min(e,tt-Ht/2),i=Math.max(i,tt+Ht/2),u=Math.min(u,ht-qt/2),c=Math.max(c,ht+qt/2)}l.Z(n.nodes(),function(W){R(n.node(W))}),l.Z(n.edges(),function(W){var tt=n.edge(W);D.Z(tt,"x")&&R(tt)}),e-=m,u-=I,l.Z(n.nodes(),function(W){var tt=n.node(W);tt.x-=e,tt.y-=u}),l.Z(n.edges(),function(W){var tt=n.edge(W);l.Z(tt.points,function(ht){ht.x-=e,ht.y-=u}),D.Z(tt,"x")&&(tt.x-=e),D.Z(tt,"y")&&(tt.y-=u)}),g.width=i-e+m,g.height=c-u+I}function Ai(n){l.Z(n.edges(),function(e){var i=n.edge(e),u=n.node(e.v),c=n.node(e.w),g,m;i.points?(g=i.points[0],m=i.points[i.points.length-1]):(i.points=[],g=c,m=u),i.points.unshift(Zt(u,g)),i.points.push(Zt(c,m))})}function Ti(n){l.Z(n.edges(),function(e){var i=n.edge(e);if(D.Z(i,"x"))switch((i.labelpos==="l"||i.labelpos==="r")&&(i.width-=i.labeloffset),i.labelpos){case"l":i.x-=i.width/2+i.labeloffset;break;case"r":i.x+=i.width/2+i.labeloffset;break}})}function Li(n){l.Z(n.edges(),function(e){var i=n.edge(e);i.reversed&&i.points.reverse()})}function Oi(n){l.Z(n.nodes(),function(e){if(n.children(e).length){var i=n.node(e),u=n.node(i.borderTop),c=n.node(i.borderBottom),g=n.node(v(i.borderLeft)),m=n.node(v(i.borderRight));i.width=Math.abs(m.x-g.x),i.height=Math.abs(c.y-u.y),i.x=g.x+i.width/2,i.y=u.y+i.height/2}}),l.Z(n.nodes(),function(e){n.node(e).dummy==="border"&&n.removeNode(e)})}function Ii(n){l.Z(n.edges(),function(e){if(e.v===e.w){var i=n.node(e.v);i.selfEdges||(i.selfEdges=[]),i.selfEdges.push({e,label:n.edge(e)}),n.removeEdge(e)}})}function Pi(n){var e=zt(n);l.Z(e,function(i){var u=0;l.Z(i,function(c,g){var m=n.node(c);m.order=g+u,l.Z(m.selfEdges,function(I){Fn(n,"selfedge",{width:I.label.width,height:I.label.height,rank:m.rank,order:g+ ++u,e:I.e,label:I.label},"_se")}),delete m.selfEdges})})}function Fi(n){l.Z(n.nodes(),function(e){var i=n.node(e);if(i.dummy==="selfedge"){var u=n.node(i.e.v),c=u.x+u.width/2,g=u.y,m=i.x-c,I=u.height/2;n.setEdge(i.e,i.label),n.removeNode(e),i.label.points=[{x:c+2*m/3,y:g-I},{x:c+5*m/6,y:g-I},{x:c+m,y:g},{x:c+5*m/6,y:g+I},{x:c+2*m/3,y:g+I}],i.label.x=i.x,i.label.y=i.y}})}function di(n,e){return Rt($t.Z(n,e),Number)}function pi(n){var e={};return l.Z(n,function(i,u){e[u.toLowerCase()]=i}),e}},2544:(Dt,et,f)=>{f.d(et,{k:()=>vn});var l=f(7452),H=f(2002),D=f(3234),Z=f(7179),V=f(3445),X=f(9697),nt=f(870),U=f(9360),J=f(626),mt=f(9581),Tt=f(3001),rt=f(1692);function ft(Bt){return Bt!==Bt}const lt=ft;function Ot(Bt,M,q){for(var Et=q-1,Zt=Bt.length;++Et<Zt;)if(Bt[Et]===M)return Et;return-1}const Xt=Ot;function jt(Bt,M,q){return M===M?Xt(Bt,M,q):(0,rt.Z)(Bt,lt,q)}const rn=jt;function nn(Bt,M){var q=Bt==null?0:Bt.length;return!!q&&rn(Bt,M,0)>-1}const dt=nn;function wt(Bt,M,q){for(var Et=-1,Zt=Bt==null?0:Bt.length;++Et<Zt;)if(q(M,Bt[Et]))return!0;return!1}const $t=wt;var Gn=f(9548),xt=f(3203);function on(){}const Mt=on;var Pn=f(6545),kn=1/0,cn=xt.Z&&1/(0,Pn.Z)(new xt.Z([,-0]))[1]==kn?function(Bt){return new xt.Z(Bt)}:Mt;const Wt=cn;var Ut=200;function $(Bt,M,q){var Et=-1,Zt=dt,zt=Bt.length,Kt=!0,Qt=[],Zn=Qt;if(q)Kt=!1,Zt=$t;else if(zt>=Ut){var ce=M?null:Wt(Bt);if(ce)return(0,Pn.Z)(ce);Kt=!1,Zt=Gn.Z,Zn=new Tt.Z}else Zn=M?[]:Qt;t:for(;++Et<zt;){var Nn=Bt[Et],zn=M?M(Nn):Nn;if(Nn=q||Nn!==0?Nn:0,Kt&&zn===zn){for(var wn=Zn.length;wn--;)if(Zn[wn]===zn)continue t;M&&Zn.push(zn),Qt.push(Nn)}else Zt(Zn,zn,q)||(Zn!==Qt&&Zn.push(zn),Qt.push(Nn))}return Qt}const v=$;var K=f(836),ct=(0,mt.Z)(function(Bt){return v((0,J.Z)(Bt,1,K.Z,!0))});const it=ct;var pt=f(4148),Rt=f(2344),kt="\0",Pt="\0",gn="";class vn{constructor(M={}){this._isDirected=l.Z(M,"directed")?M.directed:!0,this._isMultigraph=l.Z(M,"multigraph")?M.multigraph:!1,this._isCompound=l.Z(M,"compound")?M.compound:!1,this._label=void 0,this._defaultNodeLabelFn=H.Z(void 0),this._defaultEdgeLabelFn=H.Z(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Pt]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(M){return this._label=M,this}graph(){return this._label}setDefaultNodeLabel(M){return D.Z(M)||(M=H.Z(M)),this._defaultNodeLabelFn=M,this}nodeCount(){return this._nodeCount}nodes(){return Z.Z(this._nodes)}sources(){var M=this;return V.Z(this.nodes(),function(q){return X.Z(M._in[q])})}sinks(){var M=this;return V.Z(this.nodes(),function(q){return X.Z(M._out[q])})}setNodes(M,q){var Et=arguments,Zt=this;return nt.Z(M,function(zt){Et.length>1?Zt.setNode(zt,q):Zt.setNode(zt)}),this}setNode(M,q){return l.Z(this._nodes,M)?(arguments.length>1&&(this._nodes[M]=q),this):(this._nodes[M]=arguments.length>1?q:this._defaultNodeLabelFn(M),this._isCompound&&(this._parent[M]=Pt,this._children[M]={},this._children[Pt][M]=!0),this._in[M]={},this._preds[M]={},this._out[M]={},this._sucs[M]={},++this._nodeCount,this)}node(M){return this._nodes[M]}hasNode(M){return l.Z(this._nodes,M)}removeNode(M){var q=this;if(l.Z(this._nodes,M)){var Et=function(Zt){q.removeEdge(q._edgeObjs[Zt])};delete this._nodes[M],this._isCompound&&(this._removeFromParentsChildList(M),delete this._parent[M],nt.Z(this.children(M),function(Zt){q.setParent(Zt)}),delete this._children[M]),nt.Z(Z.Z(this._in[M]),Et),delete this._in[M],delete this._preds[M],nt.Z(Z.Z(this._out[M]),Et),delete this._out[M],delete this._sucs[M],--this._nodeCount}return this}setParent(M,q){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(U.Z(q))q=Pt;else{q+="";for(var Et=q;!U.Z(Et);Et=this.parent(Et))if(Et===M)throw new Error("Setting "+q+" as parent of "+M+" would create a cycle");this.setNode(q)}return this.setNode(M),this._removeFromParentsChildList(M),this._parent[M]=q,this._children[q][M]=!0,this}_removeFromParentsChildList(M){delete this._children[this._parent[M]][M]}parent(M){if(this._isCompound){var q=this._parent[M];if(q!==Pt)return q}}children(M){if(U.Z(M)&&(M=Pt),this._isCompound){var q=this._children[M];if(q)return Z.Z(q)}else{if(M===Pt)return this.nodes();if(this.hasNode(M))return[]}}predecessors(M){var q=this._preds[M];if(q)return Z.Z(q)}successors(M){var q=this._sucs[M];if(q)return Z.Z(q)}neighbors(M){var q=this.predecessors(M);if(q)return it(q,this.successors(M))}isLeaf(M){var q;return this.isDirected()?q=this.successors(M):q=this.neighbors(M),q.length===0}filterNodes(M){var q=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});q.setGraph(this.graph());var Et=this;nt.Z(this._nodes,function(Kt,Qt){M(Qt)&&q.setNode(Qt,Kt)}),nt.Z(this._edgeObjs,function(Kt){q.hasNode(Kt.v)&&q.hasNode(Kt.w)&&q.setEdge(Kt,Et.edge(Kt))});var Zt={};function zt(Kt){var Qt=Et.parent(Kt);return Qt===void 0||q.hasNode(Qt)?(Zt[Kt]=Qt,Qt):Qt in Zt?Zt[Qt]:zt(Qt)}return this._isCompound&&nt.Z(q.nodes(),function(Kt){q.setParent(Kt,zt(Kt))}),q}setDefaultEdgeLabel(M){return D.Z(M)||(M=H.Z(M)),this._defaultEdgeLabelFn=M,this}edgeCount(){return this._edgeCount}edges(){return pt.Z(this._edgeObjs)}setPath(M,q){var Et=this,Zt=arguments;return Rt.Z(M,function(zt,Kt){return Zt.length>1?Et.setEdge(zt,Kt,q):Et.setEdge(zt,Kt),Kt}),this}setEdge(){var M,q,Et,Zt,zt=!1,Kt=arguments[0];typeof Kt=="object"&&Kt!==null&&"v"in Kt?(M=Kt.v,q=Kt.w,Et=Kt.name,arguments.length===2&&(Zt=arguments[1],zt=!0)):(M=Kt,q=arguments[1],Et=arguments[3],arguments.length>2&&(Zt=arguments[2],zt=!0)),M=""+M,q=""+q,U.Z(Et)||(Et=""+Et);var Qt=_t(this._isDirected,M,q,Et);if(l.Z(this._edgeLabels,Qt))return zt&&(this._edgeLabels[Qt]=Zt),this;if(!U.Z(Et)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(M),this.setNode(q),this._edgeLabels[Qt]=zt?Zt:this._defaultEdgeLabelFn(M,q,Et);var Zn=An(this._isDirected,M,q,Et);return M=Zn.v,q=Zn.w,Object.freeze(Zn),this._edgeObjs[Qt]=Zn,Sn(this._preds[q],M),Sn(this._sucs[M],q),this._in[q][Qt]=Zn,this._out[M][Qt]=Zn,this._edgeCount++,this}edge(M,q,Et){var Zt=arguments.length===1?Fn(this._isDirected,arguments[0]):_t(this._isDirected,M,q,Et);return this._edgeLabels[Zt]}hasEdge(M,q,Et){var Zt=arguments.length===1?Fn(this._isDirected,arguments[0]):_t(this._isDirected,M,q,Et);return l.Z(this._edgeLabels,Zt)}removeEdge(M,q,Et){var Zt=arguments.length===1?Fn(this._isDirected,arguments[0]):_t(this._isDirected,M,q,Et),zt=this._edgeObjs[Zt];return zt&&(M=zt.v,q=zt.w,delete this._edgeLabels[Zt],delete this._edgeObjs[Zt],yt(this._preds[q],M),yt(this._sucs[M],q),delete this._in[q][Zt],delete this._out[M][Zt],this._edgeCount--),this}inEdges(M,q){var Et=this._in[M];if(Et){var Zt=pt.Z(Et);return q?V.Z(Zt,function(zt){return zt.v===q}):Zt}}outEdges(M,q){var Et=this._out[M];if(Et){var Zt=pt.Z(Et);return q?V.Z(Zt,function(zt){return zt.w===q}):Zt}}nodeEdges(M,q){var Et=this.inEdges(M,q);if(Et)return Et.concat(this.outEdges(M,q))}}vn.prototype._nodeCount=0,vn.prototype._edgeCount=0;function Sn(Bt,M){Bt[M]?Bt[M]++:Bt[M]=1}function yt(Bt,M){--Bt[M]||delete Bt[M]}function _t(Bt,M,q,Et){var Zt=""+M,zt=""+q;if(!Bt&&Zt>zt){var Kt=Zt;Zt=zt,zt=Kt}return Zt+gn+zt+gn+(U.Z(Et)?kt:Et)}function An(Bt,M,q,Et){var Zt=""+M,zt=""+q;if(!Bt&&Zt>zt){var Kt=Zt;Zt=zt,zt=Kt}var Qt={v:Zt,w:zt};return Et&&(Qt.name=Et),Qt}function Fn(Bt,M){return _t(Bt,M.v,M.w,M.name)}},5625:(Dt,et,f)=>{f.d(et,{k:()=>l.k});var l=f(2544);const H="2.1.9-pre"},9354:(Dt,et,f)=>{f.d(et,{c:()=>U});var l=f(9360),H=f(8451),D=4;function Z(rt){return(0,H.Z)(rt,D)}const V=Z;var X=f(3836),nt=f(2544);function U(rt){var ft={options:{directed:rt.isDirected(),multigraph:rt.isMultigraph(),compound:rt.isCompound()},nodes:J(rt),edges:mt(rt)};return l.Z(rt.graph())||(ft.value=V(rt.graph())),ft}function J(rt){return X.Z(rt.nodes(),function(ft){var lt=rt.node(ft),Ot=rt.parent(ft),Xt={v:ft};return l.Z(lt)||(Xt.value=lt),l.Z(Ot)||(Xt.parent=Ot),Xt})}function mt(rt){return X.Z(rt.edges(),function(ft){var lt=rt.edge(ft),Ot={v:ft.v,w:ft.w};return l.Z(ft.name)||(Ot.name=ft.name),l.Z(lt)||(Ot.value=lt),Ot})}function Tt(rt){var ft=new Graph(rt.options).setGraph(rt.value);return _.each(rt.nodes,function(lt){ft.setNode(lt.v,lt.value),lt.parent&&ft.setParent(lt.v,lt.parent)}),_.each(rt.edges,function(lt){ft.setEdge({v:lt.v,w:lt.w,name:lt.name},lt.value)}),ft}},3001:(Dt,et,f)=>{f.d(et,{Z:()=>U});var l=f(7834),H="__lodash_hash_undefined__";function D(J){return this.__data__.set(J,H),this}const Z=D;function V(J){return this.__data__.has(J)}const X=V;function nt(J){var mt=-1,Tt=J==null?0:J.length;for(this.__data__=new l.Z;++mt<Tt;)this.add(J[mt])}nt.prototype.add=nt.prototype.push=Z,nt.prototype.has=X;const U=nt},6579:(Dt,et,f)=>{f.d(et,{Z:()=>H});function l(D,Z){for(var V=-1,X=D==null?0:D.length;++V<X&&Z(D[V],V,D)!==!1;);return D}const H=l},8774:(Dt,et,f)=>{f.d(et,{Z:()=>H});function l(D,Z){for(var V=-1,X=D==null?0:D.length,nt=0,U=[];++V<X;){var J=D[V];Z(J,V,D)&&(U[nt++]=J)}return U}const H=l},7679:(Dt,et,f)=>{f.d(et,{Z:()=>H});function l(D,Z){for(var V=-1,X=D==null?0:D.length,nt=Array(X);++V<X;)nt[V]=Z(D[V],V,D);return nt}const H=l},8694:(Dt,et,f)=>{f.d(et,{Z:()=>H});function l(D,Z){for(var V=-1,X=Z.length,nt=D.length;++V<X;)D[nt+V]=Z[V];return D}const H=l},8451:(Dt,et,f)=>{f.d(et,{Z:()=>sr});var l=f(1667),H=f(6579),D=f(2954),Z=f(1899),V=f(7179);function X(ot,sn){return ot&&(0,Z.Z)(sn,(0,V.Z)(sn),ot)}const nt=X;var U=f(2957);function J(ot,sn){return ot&&(0,Z.Z)(sn,(0,U.Z)(sn),ot)}const mt=J;var Tt=f(1050),rt=f(7215),ft=f(5695);function lt(ot,sn){return(0,Z.Z)(ot,(0,ft.Z)(ot),sn)}const Ot=lt;var Xt=f(8694),jt=f(2513),rn=f(532),nn=Object.getOwnPropertySymbols,dt=nn?function(ot){for(var sn=[];ot;)(0,Xt.Z)(sn,(0,ft.Z)(ot)),ot=(0,jt.Z)(ot);return sn}:rn.Z;const wt=dt;function $t(ot,sn){return(0,Z.Z)(ot,wt(ot),sn)}const Gn=$t;var xt=f(1808),on=f(3327);function Mt(ot){return(0,on.Z)(ot,U.Z,wt)}const Pn=Mt;var kn=f(3970),cn=Object.prototype,Wt=cn.hasOwnProperty;function Ut(ot){var sn=ot.length,Hn=new ot.constructor(sn);return sn&&typeof ot[0]=="string"&&Wt.call(ot,"index")&&(Hn.index=ot.index,Hn.input=ot.input),Hn}const $=Ut;var v=f(1884);function K(ot,sn){var Hn=sn?(0,v.Z)(ot.buffer):ot.buffer;return new ot.constructor(Hn,ot.byteOffset,ot.byteLength)}const ct=K;var it=/\w*$/;function pt(ot){var sn=new ot.constructor(ot.source,it.exec(ot));return sn.lastIndex=ot.lastIndex,sn}const Rt=pt;var kt=f(7685),Pt=kt.Z?kt.Z.prototype:void 0,gn=Pt?Pt.valueOf:void 0;function vn(ot){return gn?Object(gn.call(ot)):{}}const Sn=vn;var yt=f(2701),_t="[object Boolean]",An="[object Date]",Fn="[object Map]",Bt="[object Number]",M="[object RegExp]",q="[object Set]",Et="[object String]",Zt="[object Symbol]",zt="[object ArrayBuffer]",Kt="[object DataView]",Qt="[object Float32Array]",Zn="[object Float64Array]",ce="[object Int8Array]",Nn="[object Int16Array]",zn="[object Int32Array]",wn="[object Uint8Array]",Pe="[object Uint8ClampedArray]",ke="[object Uint16Array]",Fe="[object Uint32Array]";function Qn(ot,sn,Hn){var Ce=ot.constructor;switch(sn){case zt:return(0,v.Z)(ot);case _t:case An:return new Ce(+ot);case Kt:return ct(ot,Hn);case Qt:case Zn:case ce:case Nn:case zn:case wn:case Pe:case ke:case Fe:return(0,yt.Z)(ot,Hn);case Fn:return new Ce;case Bt:case Et:return new Ce(ot);case M:return Rt(ot);case q:return new Ce;case Zt:return Sn(ot)}}const ne=Qn;var ae=f(3658),Ze=f(7771),Jn=f(7008),_n=f(8533),ye="[object Map]";function Me(ot){return(0,_n.Z)(ot)&&(0,kn.Z)(ot)==ye}const ee=Me;var fe=f(1162),se=f(8351),qn=se.Z&&se.Z.isMap,Vn=qn?(0,fe.Z)(qn):ee;const oe=Vn;var y=f(7226),r="[object Set]";function b(ot){return(0,_n.Z)(ot)&&(0,kn.Z)(ot)==r}const L=b;var w=se.Z&&se.Z.isSet,A=w?(0,fe.Z)(w):L;const C=A;var z=1,E=2,F=4,j="[object Arguments]",Q="[object Array]",gt="[object Boolean]",st="[object Date]",St="[object Error]",Ft="[object Function]",Ct="[object GeneratorFunction]",vt="[object Map]",Lt="[object Number]",Jt="[object Object]",Yt="[object RegExp]",Mn="[object Set]",Bn="[object String]",Kn="[object Symbol]",en="[object WeakMap]",an="[object ArrayBuffer]",Dn="[object DataView]",Wn="[object Float32Array]",xn="[object Float64Array]",re="[object Int8Array]",he="[object Int16Array]",rr="[object Int32Array]",je="[object Uint8Array]",ir="[object Uint8ClampedArray]",We="[object Uint16Array]",ar="[object Uint32Array]",fn={};fn[j]=fn[Q]=fn[an]=fn[Dn]=fn[gt]=fn[st]=fn[Wn]=fn[xn]=fn[re]=fn[he]=fn[rr]=fn[vt]=fn[Lt]=fn[Jt]=fn[Yt]=fn[Mn]=fn[Bn]=fn[Kn]=fn[je]=fn[ir]=fn[We]=fn[ar]=!0,fn[St]=fn[Ft]=fn[en]=!1;function Be(ot,sn,Hn,Ce,De,de){var Xn,Se=sn&z,Ae=sn&E,or=sn&F;if(Hn&&(Xn=De?Hn(ot,Ce,De,de):Hn(ot)),Xn!==void 0)return Xn;if(!(0,y.Z)(ot))return ot;var Ge=(0,Ze.Z)(ot);if(Ge){if(Xn=$(ot),!Se)return(0,rt.Z)(ot,Xn)}else{var ve=(0,kn.Z)(ot),Ve=ve==Ft||ve==Ct;if((0,Jn.Z)(ot))return(0,Tt.Z)(ot,Se);if(ve==Jt||ve==j||Ve&&!De){if(Xn=Ae||Ve?{}:(0,ae.Z)(ot),!Se)return Ae?Gn(ot,mt(Xn,ot)):Ot(ot,nt(Xn,ot))}else{if(!fn[ve])return De?ot:{};Xn=ne(ot,ve,Se)}}de||(de=new l.Z);var $e=de.get(ot);if($e)return $e;de.set(ot,Xn),C(ot)?ot.forEach(function(pe){Xn.add(Be(pe,sn,Hn,pe,ot,de))}):oe(ot)&&ot.forEach(function(pe,ge){Xn.set(ge,Be(pe,sn,Hn,ge,ot,de))});var Ue=or?Ae?Pn:xt.Z:Ae?U.Z:V.Z,Re=Ge?void 0:Ue(ot);return(0,H.Z)(Re||ot,function(pe,ge){Re&&(ge=pe,pe=ot[ge]),(0,D.Z)(Xn,ge,Be(pe,sn,Hn,ge,ot,de))}),Xn}const sr=Be},9811:(Dt,et,f)=>{f.d(et,{Z:()=>X});var l=f(2693),H=f(585);function D(nt,U){return function(J,mt){if(J==null)return J;if(!(0,H.Z)(J))return nt(J,mt);for(var Tt=J.length,rt=U?Tt:-1,ft=Object(J);(U?rt--:++rt<Tt)&&mt(ft[rt],rt,ft)!==!1;);return J}}var V=D(l.Z);const X=V},1692:(Dt,et,f)=>{f.d(et,{Z:()=>H});function l(D,Z,V,X){for(var nt=D.length,U=V+(X?1:-1);X?U--:++U<nt;)if(Z(D[U],U,D))return U;return-1}const H=l},626:(Dt,et,f)=>{f.d(et,{Z:()=>J});var l=f(8694),H=f(7685),D=f(9169),Z=f(7771),V=H.Z?H.Z.isConcatSpreadable:void 0;function X(mt){return(0,Z.Z)(mt)||(0,D.Z)(mt)||!!(V&&mt&&mt[V])}const nt=X;function U(mt,Tt,rt,ft,lt){var Ot=-1,Xt=mt.length;for(rt||(rt=nt),lt||(lt=[]);++Ot<Xt;){var jt=mt[Ot];Tt>0&&rt(jt)?Tt>1?U(jt,Tt-1,rt,ft,lt):(0,l.Z)(lt,jt):ft||(lt[lt.length]=jt)}return lt}const J=U},2693:(Dt,et,f)=>{f.d(et,{Z:()=>Z});var l=f(1395),H=f(7179);function D(V,X){return V&&(0,l.Z)(V,X,H.Z)}const Z=D},8033:(Dt,et,f)=>{f.d(et,{Z:()=>Z});var l=f(2823),H=f(2656);function D(V,X){X=(0,l.Z)(X,V);for(var nt=0,U=X.length;V!=null&&nt<U;)V=V[(0,H.Z)(X[nt++])];return nt&&nt==U?V:void 0}const Z=D},3327:(Dt,et,f)=>{f.d(et,{Z:()=>Z});var l=f(8694),H=f(7771);function D(V,X,nt){var U=X(V);return(0,H.Z)(V)?U:(0,l.Z)(U,nt(V))}const Z=D},4765:(Dt,et,f)=>{f.d(et,{Z:()=>z});var l=f(1667),H=f(3001);function D(E,F){for(var j=-1,Q=E==null?0:E.length;++j<Q;)if(F(E[j],j,E))return!0;return!1}const Z=D;var V=f(9548),X=1,nt=2;function U(E,F,j,Q,gt,st){var St=j&X,Ft=E.length,Ct=F.length;if(Ft!=Ct&&!(St&&Ct>Ft))return!1;var vt=st.get(E),Lt=st.get(F);if(vt&&Lt)return vt==F&&Lt==E;var Jt=-1,Yt=!0,Mn=j&nt?new H.Z:void 0;for(st.set(E,F),st.set(F,E);++Jt<Ft;){var Bn=E[Jt],Kn=F[Jt];if(Q)var en=St?Q(Kn,Bn,Jt,F,E,st):Q(Bn,Kn,Jt,E,F,st);if(en!==void 0){if(en)continue;Yt=!1;break}if(Mn){if(!Z(F,function(an,Dn){if(!(0,V.Z)(Mn,Dn)&&(Bn===an||gt(Bn,an,j,Q,st)))return Mn.push(Dn)})){Yt=!1;break}}else if(!(Bn===Kn||gt(Bn,Kn,j,Q,st))){Yt=!1;break}}return st.delete(E),st.delete(F),Yt}const J=U;var mt=f(7685),Tt=f(4073),rt=f(9651);function ft(E){var F=-1,j=Array(E.size);return E.forEach(function(Q,gt){j[++F]=[gt,Q]}),j}const lt=ft;var Ot=f(6545),Xt=1,jt=2,rn="[object Boolean]",nn="[object Date]",dt="[object Error]",wt="[object Map]",$t="[object Number]",Gn="[object RegExp]",xt="[object Set]",on="[object String]",Mt="[object Symbol]",Pn="[object ArrayBuffer]",kn="[object DataView]",cn=mt.Z?mt.Z.prototype:void 0,Wt=cn?cn.valueOf:void 0;function Ut(E,F,j,Q,gt,st,St){switch(j){case kn:if(E.byteLength!=F.byteLength||E.byteOffset!=F.byteOffset)return!1;E=E.buffer,F=F.buffer;case Pn:return!(E.byteLength!=F.byteLength||!st(new Tt.Z(E),new Tt.Z(F)));case rn:case nn:case $t:return(0,rt.Z)(+E,+F);case dt:return E.name==F.name&&E.message==F.message;case Gn:case on:return E==F+"";case wt:var Ft=lt;case xt:var Ct=Q&Xt;if(Ft||(Ft=Ot.Z),E.size!=F.size&&!Ct)return!1;var vt=St.get(E);if(vt)return vt==F;Q|=jt,St.set(E,F);var Lt=J(Ft(E),Ft(F),Q,gt,st,St);return St.delete(E),Lt;case Mt:if(Wt)return Wt.call(E)==Wt.call(F)}return!1}const $=Ut;var v=f(1808),K=1,ct=Object.prototype,it=ct.hasOwnProperty;function pt(E,F,j,Q,gt,st){var St=j&K,Ft=(0,v.Z)(E),Ct=Ft.length,vt=(0,v.Z)(F),Lt=vt.length;if(Ct!=Lt&&!St)return!1;for(var Jt=Ct;Jt--;){var Yt=Ft[Jt];if(!(St?Yt in F:it.call(F,Yt)))return!1}var Mn=st.get(E),Bn=st.get(F);if(Mn&&Bn)return Mn==F&&Bn==E;var Kn=!0;st.set(E,F),st.set(F,E);for(var en=St;++Jt<Ct;){Yt=Ft[Jt];var an=E[Yt],Dn=F[Yt];if(Q)var Wn=St?Q(Dn,an,Yt,F,E,st):Q(an,Dn,Yt,E,F,st);if(!(Wn===void 0?an===Dn||gt(an,Dn,j,Q,st):Wn)){Kn=!1;break}en||(en=Yt=="constructor")}if(Kn&&!en){var xn=E.constructor,re=F.constructor;xn!=re&&"constructor"in E&&"constructor"in F&&!(typeof xn=="function"&&xn instanceof xn&&typeof re=="function"&&re instanceof re)&&(Kn=!1)}return st.delete(E),st.delete(F),Kn}const Rt=pt;var kt=f(3970),Pt=f(7771),gn=f(7008),vn=f(8843),Sn=1,yt="[object Arguments]",_t="[object Array]",An="[object Object]",Fn=Object.prototype,Bt=Fn.hasOwnProperty;function M(E,F,j,Q,gt,st){var St=(0,Pt.Z)(E),Ft=(0,Pt.Z)(F),Ct=St?_t:(0,kt.Z)(E),vt=Ft?_t:(0,kt.Z)(F);Ct=Ct==yt?An:Ct,vt=vt==yt?An:vt;var Lt=Ct==An,Jt=vt==An,Yt=Ct==vt;if(Yt&&(0,gn.Z)(E)){if(!(0,gn.Z)(F))return!1;St=!0,Lt=!1}if(Yt&&!Lt)return st||(st=new l.Z),St||(0,vn.Z)(E)?J(E,F,j,Q,gt,st):$(E,F,Ct,j,Q,gt,st);if(!(j&Sn)){var Mn=Lt&&Bt.call(E,"__wrapped__"),Bn=Jt&&Bt.call(F,"__wrapped__");if(Mn||Bn){var Kn=Mn?E.value():E,en=Bn?F.value():F;return st||(st=new l.Z),gt(Kn,en,j,Q,st)}}return Yt?(st||(st=new l.Z),Rt(E,F,j,Q,gt,st)):!1}const q=M;var Et=f(8533);function Zt(E,F,j,Q,gt){return E===F?!0:E==null||F==null||!(0,Et.Z)(E)&&!(0,Et.Z)(F)?E!==E&&F!==F:q(E,F,j,Q,Zt,gt)}const zt=Zt;var Kt=1,Qt=2;function Zn(E,F,j,Q){var gt=j.length,st=gt,St=!Q;if(E==null)return!st;for(E=Object(E);gt--;){var Ft=j[gt];if(St&&Ft[2]?Ft[1]!==E[Ft[0]]:!(Ft[0]in E))return!1}for(;++gt<st;){Ft=j[gt];var Ct=Ft[0],vt=E[Ct],Lt=Ft[1];if(St&&Ft[2]){if(vt===void 0&&!(Ct in E))return!1}else{var Jt=new l.Z;if(Q)var Yt=Q(vt,Lt,Ct,E,F,Jt);if(!(Yt===void 0?zt(Lt,vt,Kt|Qt,Q,Jt):Yt))return!1}}return!0}const ce=Zn;var Nn=f(7226);function zn(E){return E===E&&!(0,Nn.Z)(E)}const wn=zn;var Pe=f(7179);function ke(E){for(var F=(0,Pe.Z)(E),j=F.length;j--;){var Q=F[j],gt=E[Q];F[j]=[Q,gt,wn(gt)]}return F}const Fe=ke;function Qn(E,F){return function(j){return j==null?!1:j[E]===F&&(F!==void 0||E in Object(j))}}const ne=Qn;function ae(E){var F=Fe(E);return F.length==1&&F[0][2]?ne(F[0][0],F[0][1]):function(j){return j===E||ce(j,E,F)}}const Ze=ae;var Jn=f(8033);function _n(E,F,j){var Q=E==null?void 0:(0,Jn.Z)(E,F);return Q===void 0?j:Q}const ye=_n;var Me=f(5487),ee=f(9365),fe=f(2656),se=1,qn=2;function Vn(E,F){return(0,ee.Z)(E)&&wn(F)?ne((0,fe.Z)(E),F):function(j){var Q=ye(j,E);return Q===void 0&&Q===F?(0,Me.Z)(j,E):zt(F,Q,se|qn)}}const oe=Vn;var y=f(9203),r=f(4193);function b(E){return function(F){return(0,Jn.Z)(F,E)}}const L=b;function w(E){return(0,ee.Z)(E)?(0,r.Z)((0,fe.Z)(E)):L(E)}const A=w;function C(E){return typeof E=="function"?E:E==null?y.Z:typeof E=="object"?(0,Pt.Z)(E)?oe(E[0],E[1]):Ze(E):A(E)}const z=C},1018:(Dt,et,f)=>{f.d(et,{Z:()=>Z});var l=f(9811),H=f(585);function D(V,X){var nt=-1,U=(0,H.Z)(V)?Array(V.length):[];return(0,l.Z)(V,function(J,mt,Tt){U[++nt]=X(J,mt,Tt)}),U}const Z=D},4193:(Dt,et,f)=>{f.d(et,{Z:()=>H});function l(D){return function(Z){return Z?.[D]}}const H=l},9548:(Dt,et,f)=>{f.d(et,{Z:()=>H});function l(D,Z){return D.has(Z)}const H=l},8882:(Dt,et,f)=>{f.d(et,{Z:()=>D});var l=f(9203);function H(Z){return typeof Z=="function"?Z:l.Z}const D=H},2823:(Dt,et,f)=>{f.d(et,{Z:()=>ft});var l=f(7771),H=f(9365),D=f(2454),Z=500;function V(lt){var Ot=(0,D.Z)(lt,function(jt){return Xt.size===Z&&Xt.clear(),jt}),Xt=Ot.cache;return Ot}const X=V;var nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/\\(\\)?/g,J=X(function(lt){var Ot=[];return lt.charCodeAt(0)===46&&Ot.push(""),lt.replace(nt,function(Xt,jt,rn,nn){Ot.push(rn?nn.replace(U,"$1"):jt||Xt)}),Ot});const mt=J;var Tt=f(751);function rt(lt,Ot){return(0,l.Z)(lt)?lt:(0,H.Z)(lt,Ot)?[lt]:mt((0,Tt.Z)(lt))}const ft=rt},1808:(Dt,et,f)=>{f.d(et,{Z:()=>V});var l=f(3327),H=f(5695),D=f(7179);function Z(X){return(0,l.Z)(X,D.Z,H.Z)}const V=Z},5695:(Dt,et,f)=>{f.d(et,{Z:()=>nt});var l=f(8774),H=f(532),D=Object.prototype,Z=D.propertyIsEnumerable,V=Object.getOwnPropertySymbols,X=V?function(U){return U==null?[]:(U=Object(U),(0,l.Z)(V(U),function(J){return Z.call(U,J)}))}:H.Z;const nt=X},5196:(Dt,et,f)=>{f.d(et,{Z:()=>U});var l=f(2823),H=f(9169),D=f(7771),Z=f(6009),V=f(1656),X=f(2656);function nt(J,mt,Tt){mt=(0,l.Z)(mt,J);for(var rt=-1,ft=mt.length,lt=!1;++rt<ft;){var Ot=(0,X.Z)(mt[rt]);if(!(lt=J!=null&&Tt(J,Ot)))break;J=J[Ot]}return lt||++rt!=ft?lt:(ft=J==null?0:J.length,!!ft&&(0,V.Z)(ft)&&(0,Z.Z)(Ot,ft)&&((0,D.Z)(J)||(0,H.Z)(J)))}const U=nt},9365:(Dt,et,f)=>{f.d(et,{Z:()=>X});var l=f(7771),H=f(2714),D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/;function V(nt,U){if((0,l.Z)(nt))return!1;var J=typeof nt;return J=="number"||J=="symbol"||J=="boolean"||nt==null||(0,H.Z)(nt)?!0:Z.test(nt)||!D.test(nt)||U!=null&&nt in Object(U)}const X=V},6545:(Dt,et,f)=>{f.d(et,{Z:()=>H});function l(D){var Z=-1,V=Array(D.size);return D.forEach(function(X){V[++Z]=X}),V}const H=l},2656:(Dt,et,f)=>{f.d(et,{Z:()=>Z});var l=f(2714),H=1/0;function D(V){if(typeof V=="string"||(0,l.Z)(V))return V;var X=V+"";return X=="0"&&1/V==-H?"-0":X}const Z=D},3688:(Dt,et,f)=>{f.d(et,{Z:()=>U});var l=f(9581),H=f(9651),D=f(439),Z=f(2957),V=Object.prototype,X=V.hasOwnProperty,nt=(0,l.Z)(function(J,mt){J=Object(J);var Tt=-1,rt=mt.length,ft=rt>2?mt[2]:void 0;for(ft&&(0,D.Z)(mt[0],mt[1],ft)&&(rt=1);++Tt<rt;)for(var lt=mt[Tt],Ot=(0,Z.Z)(lt),Xt=-1,jt=Ot.length;++Xt<jt;){var rn=Ot[Xt],nn=J[rn];(nn===void 0||(0,H.Z)(nn,V[rn])&&!X.call(J,rn))&&(J[rn]=lt[rn])}return J});const U=nt},3445:(Dt,et,f)=>{f.d(et,{Z:()=>U});var l=f(8774),H=f(9811);function D(J,mt){var Tt=[];return(0,H.Z)(J,function(rt,ft,lt){mt(rt,ft,lt)&&Tt.push(rt)}),Tt}const Z=D;var V=f(4765),X=f(7771);function nt(J,mt){var Tt=(0,X.Z)(J)?l.Z:Z;return Tt(J,(0,V.Z)(mt,3))}const U=nt},7961:(Dt,et,f)=>{f.d(et,{Z:()=>D});var l=f(626);function H(Z){var V=Z==null?0:Z.length;return V?(0,l.Z)(Z,1):[]}const D=H},870:(Dt,et,f)=>{f.d(et,{Z:()=>X});var l=f(6579),H=f(9811),D=f(8882),Z=f(7771);function V(nt,U){var J=(0,Z.Z)(nt)?l.Z:H.Z;return J(nt,(0,D.Z)(U))}const X=V},7452:(Dt,et,f)=>{f.d(et,{Z:()=>nt});var l=Object.prototype,H=l.hasOwnProperty;function D(U,J){return U!=null&&H.call(U,J)}const Z=D;var V=f(5196);function X(U,J){return U!=null&&(0,V.Z)(U,J,Z)}const nt=X},5487:(Dt,et,f)=>{f.d(et,{Z:()=>V});function l(X,nt){return X!=null&&nt in Object(X)}const H=l;var D=f(5196);function Z(X,nt){return X!=null&&(0,D.Z)(X,nt,H)}const V=Z},2714:(Dt,et,f)=>{f.d(et,{Z:()=>V});var l=f(3589),H=f(8533),D="[object Symbol]";function Z(X){return typeof X=="symbol"||(0,H.Z)(X)&&(0,l.Z)(X)==D}const V=Z},9360:(Dt,et,f)=>{f.d(et,{Z:()=>H});function l(D){return D===void 0}const H=l},7179:(Dt,et,f)=>{f.d(et,{Z:()=>V});var l=f(7668),H=f(9473),D=f(585);function Z(X){return(0,D.Z)(X)?(0,l.Z)(X):(0,H.Z)(X)}const V=Z},3836:(Dt,et,f)=>{f.d(et,{Z:()=>X});var l=f(7679),H=f(4765),D=f(1018),Z=f(7771);function V(nt,U){var J=(0,Z.Z)(nt)?l.Z:D.Z;return J(nt,(0,H.Z)(U,3))}const X=V},1666:(Dt,et,f)=>{f.d(et,{Z:()=>dt});var l=f(8033),H=f(2954),D=f(2823),Z=f(6009),V=f(7226),X=f(2656);function nt(wt,$t,Gn,xt){if(!(0,V.Z)(wt))return wt;$t=(0,D.Z)($t,wt);for(var on=-1,Mt=$t.length,Pn=Mt-1,kn=wt;kn!=null&&++on<Mt;){var cn=(0,X.Z)($t[on]),Wt=Gn;if(cn==="__proto__"||cn==="constructor"||cn==="prototype")return wt;if(on!=Pn){var Ut=kn[cn];Wt=xt?xt(Ut,cn,kn):void 0,Wt===void 0&&(Wt=(0,V.Z)(Ut)?Ut:(0,Z.Z)($t[on+1])?[]:{})}(0,H.Z)(kn,cn,Wt),kn=kn[cn]}return wt}const U=nt;function J(wt,$t,Gn){for(var xt=-1,on=$t.length,Mt={};++xt<on;){var Pn=$t[xt],kn=(0,l.Z)(wt,Pn);Gn(kn,Pn)&&U(Mt,(0,D.Z)(Pn,wt),kn)}return Mt}const mt=J;var Tt=f(5487);function rt(wt,$t){return mt(wt,$t,function(Gn,xt){return(0,Tt.Z)(wt,xt)})}const ft=rt;var lt=f(7961),Ot=f(1211),Xt=f(7227);function jt(wt){return(0,Xt.Z)((0,Ot.Z)(wt,void 0,lt.Z),wt+"")}var nn=jt(function(wt,$t){return wt==null?{}:ft(wt,$t)});const dt=nn},4379:(Dt,et,f)=>{f.d(et,{Z:()=>mt});var l=Math.ceil,H=Math.max;function D(Tt,rt,ft,lt){for(var Ot=-1,Xt=H(l((rt-Tt)/(ft||1)),0),jt=Array(Xt);Xt--;)jt[lt?Xt:++Ot]=Tt,Tt+=ft;return jt}const Z=D;var V=f(439),X=f(4099);function nt(Tt){return function(rt,ft,lt){return lt&&typeof lt!="number"&&(0,V.Z)(rt,ft,lt)&&(ft=lt=void 0),rt=(0,X.Z)(rt),ft===void 0?(ft=rt,rt=0):ft=(0,X.Z)(ft),lt=lt===void 0?rt<ft?1:-1:(0,X.Z)(lt),Z(rt,ft,lt,Tt)}}var J=nt();const mt=J},2344:(Dt,et,f)=>{f.d(et,{Z:()=>J});function l(mt,Tt,rt,ft){var lt=-1,Ot=mt==null?0:mt.length;for(ft&&Ot&&(rt=mt[++lt]);++lt<Ot;)rt=Tt(rt,mt[lt],lt,mt);return rt}const H=l;var D=f(9811),Z=f(4765);function V(mt,Tt,rt,ft,lt){return lt(mt,function(Ot,Xt,jt){rt=ft?(ft=!1,Ot):Tt(rt,Ot,Xt,jt)}),rt}const X=V;var nt=f(7771);function U(mt,Tt,rt){var ft=(0,nt.Z)(mt)?H:X,lt=arguments.length<3;return ft(mt,(0,Z.Z)(Tt,4),rt,lt,D.Z)}const J=U},532:(Dt,et,f)=>{f.d(et,{Z:()=>H});function l(){return[]}const H=l},4099:(Dt,et,f)=>{f.d(et,{Z:()=>nn});var l=/\s/;function H(dt){for(var wt=dt.length;wt--&&l.test(dt.charAt(wt)););return wt}const D=H;var Z=/^\s+/;function V(dt){return dt&&dt.slice(0,D(dt)+1).replace(Z,"")}const X=V;var nt=f(7226),U=f(2714),J=0/0,mt=/^[-+]0x[0-9a-f]+$/i,Tt=/^0b[01]+$/i,rt=/^0o[0-7]+$/i,ft=parseInt;function lt(dt){if(typeof dt=="number")return dt;if((0,U.Z)(dt))return J;if((0,nt.Z)(dt)){var wt=typeof dt.valueOf=="function"?dt.valueOf():dt;dt=(0,nt.Z)(wt)?wt+"":wt}if(typeof dt!="string")return dt===0?dt:+dt;dt=X(dt);var $t=Tt.test(dt);return $t||rt.test(dt)?ft(dt.slice(2),$t?2:8):mt.test(dt)?J:+dt}const Ot=lt;var Xt=1/0,jt=17976931348623157e292;function rn(dt){if(!dt)return dt===0?dt:0;if(dt=Ot(dt),dt===Xt||dt===-Xt){var wt=dt<0?-1:1;return wt*jt}return dt===dt?dt:0}const nn=rn},751:(Dt,et,f)=>{f.d(et,{Z:()=>Tt});var l=f(7685),H=f(7679),D=f(7771),Z=f(2714),V=1/0,X=l.Z?l.Z.prototype:void 0,nt=X?X.toString:void 0;function U(rt){if(typeof rt=="string")return rt;if((0,D.Z)(rt))return(0,H.Z)(rt,U)+"";if((0,Z.Z)(rt))return nt?nt.call(rt):"";var ft=rt+"";return ft=="0"&&1/rt==-V?"-0":ft}const J=U;function mt(rt){return rt==null?"":J(rt)}const Tt=mt},6749:(Dt,et,f)=>{f.d(et,{Z:()=>Z});var l=f(751),H=0;function D(V){var X=++H;return(0,l.Z)(V)+X}const Z=D},4148:(Dt,et,f)=>{f.d(et,{Z:()=>X});var l=f(7679);function H(nt,U){return(0,l.Z)(U,function(J){return nt[J]})}const D=H;var Z=f(7179);function V(nt){return nt==null?[]:D(nt,(0,Z.Z)(nt))}const X=V},2354:(Dt,et,f)=>{f.d(et,{a:()=>ai,c:()=>ri});var l={};f.r(l),f.d(l,{attentionMarkers:()=>Kr,contentInitial:()=>Nr,disable:()=>Hr,document:()=>Rr,flow:()=>zr,flowInitial:()=>br,insideSpan:()=>Ur,string:()=>jr,text:()=>Wr});var H=f(5322);const D={};function Z(t,o){const a=o||D,s=typeof a.includeImageAlt=="boolean"?a.includeImageAlt:!0,p=typeof a.includeHtml=="boolean"?a.includeHtml:!0;return V(t,s,p)}function V(t,o,a){if(nt(t)){if("value"in t)return t.type==="html"&&!a?"":t.value;if(o&&"alt"in t&&t.alt)return t.alt;if("children"in t)return X(t.children,o,a)}return Array.isArray(t)?X(t,o,a):""}function X(t,o,a){const s=[];let p=-1;for(;++p<t.length;)s[p]=V(t[p],o,a);return s.join("")}function nt(t){return!!(t&&typeof t=="object")}function U(t,o,a,s){const p=t.length;let h=0,d;if(o<0?o=-o>p?0:p+o:o=o>p?p:o,a=a>0?a:0,s.length<1e4)d=Array.from(s),d.unshift(o,a),t.splice(...d);else for(a&&t.splice(o,a);h<s.length;)d=s.slice(h,h+1e4),d.unshift(o,0),t.splice(...d),h+=1e4,o+=1e4}function J(t,o){return t.length>0?(U(t,t.length,0,o),t):o}const mt={}.hasOwnProperty;function Tt(t){const o={};let a=-1;for(;++a<t.length;)rt(o,t[a]);return o}function rt(t,o){let a;for(a in o){const p=(mt.call(t,a)?t[a]:void 0)||(t[a]={}),h=o[a];let d;if(h)for(d in h){mt.call(p,d)||(p[d]=[]);const x=h[d];ft(p[d],Array.isArray(x)?x:x?[x]:[])}}}function ft(t,o){let a=-1;const s=[];for(;++a<o.length;)(o[a].add==="after"?t:s).push(o[a]);U(t,0,0,s)}function lt(t){const o={};let a=-1;for(;++a<t.length;)Ot(o,t[a]);return o}function Ot(t,o){let a;for(a in o){const p=(mt.call(t,a)?t[a]:void 0)||(t[a]={}),h=o[a];let d;if(h)for(d in h)p[d]=h[d]}}const Xt=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,jt=cn(/[A-Za-z]/),rn=cn(/[\dA-Za-z]/),nn=cn(/[#-'*+\--9=?A-Z^-~]/);function dt(t){return t!==null&&(t<32||t===127)}const wt=cn(/\d/),$t=cn(/[\dA-Fa-f]/),Gn=cn(/[!-/:-@[-`{-~]/);function xt(t){return t!==null&&t<-2}function on(t){return t!==null&&(t<0||t===32)}function Mt(t){return t===-2||t===-1||t===32}const Pn=cn(Xt),kn=cn(/\s/);function cn(t){return o;function o(a){return a!==null&&t.test(String.fromCharCode(a))}}function Wt(t,o,a,s){const p=s?s-1:Number.POSITIVE_INFINITY;let h=0;return d;function d(N){return Mt(N)?(t.enter(a),x(N)):o(N)}function x(N){return Mt(N)&&h++<p?(t.consume(N),x):(t.exit(a),o(N))}}const Ut={tokenize:$};function $(t){const o=t.attempt(this.parser.constructs.contentInitial,s,p);let a;return o;function s(x){if(x===null){t.consume(x);return}return t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),Wt(t,o,"linePrefix")}function p(x){return t.enter("paragraph"),h(x)}function h(x){const N=t.enter("chunkText",{contentType:"text",previous:a});return a&&(a.next=N),a=N,d(x)}function d(x){if(x===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(x);return}return xt(x)?(t.consume(x),t.exit("chunkText"),h):(t.consume(x),d)}}const v={tokenize:ct},K={tokenize:it};function ct(t){const o=this,a=[];let s=0,p,h,d;return x;function x(At){if(s<a.length){const En=a[s];return o.containerState=En[1],t.attempt(En[0].continuation,N,P)(At)}return P(At)}function N(At){if(s++,o.containerState._closeFlow){o.containerState._closeFlow=void 0,p&&Tn();const En=o.events.length;let Cn=En,at;for(;Cn--;)if(o.events[Cn][0]==="exit"&&o.events[Cn][1].type==="chunkFlow"){at=o.events[Cn][1].end;break}bt(s);let mn=En;for(;mn<o.events.length;)o.events[mn][1].end=Object.assign({},at),mn++;return U(o.events,Cn+1,0,o.events.slice(En)),o.events.length=mn,P(At)}return x(At)}function P(At){if(s===a.length){if(!p)return B(At);if(p.currentConstruct&&p.currentConstruct.concrete)return un(At);o.interrupt=!!(p.currentConstruct&&!p._gfmTableDynamicInterruptHack)}return o.containerState={},t.check(K,T,Y)(At)}function T(At){return p&&Tn(),bt(s),B(At)}function Y(At){return o.parser.lazy[o.now().line]=s!==a.length,d=o.now().offset,un(At)}function B(At){return o.containerState={},t.attempt(K,O,un)(At)}function O(At){return s++,a.push([o.currentConstruct,o.containerState]),B(At)}function un(At){if(At===null){p&&Tn(),bt(0),t.consume(At);return}return p=p||o.parser.flow(o.now()),t.enter("chunkFlow",{contentType:"flow",previous:h,_tokenizer:p}),ln(At)}function ln(At){if(At===null){bn(t.exit("chunkFlow"),!0),bt(0),t.consume(At);return}return xt(At)?(t.consume(At),bn(t.exit("chunkFlow")),s=0,o.interrupt=void 0,x):(t.consume(At),ln)}function bn(At,En){const Cn=o.sliceStream(At);if(En&&Cn.push(null),At.previous=h,h&&(h.next=At),h=At,p.defineSkip(At.start),p.write(Cn),o.parser.lazy[At.start.line]){let at=p.events.length;for(;at--;)if(p.events[at][1].start.offset<d&&(!p.events[at][1].end||p.events[at][1].end.offset>d))return;const mn=o.events.length;let Rn=mn,On,Yn;for(;Rn--;)if(o.events[Rn][0]==="exit"&&o.events[Rn][1].type==="chunkFlow"){if(On){Yn=o.events[Rn][1].end;break}On=!0}for(bt(s),at=mn;at<o.events.length;)o.events[at][1].end=Object.assign({},Yn),at++;U(o.events,Rn+1,0,o.events.slice(mn)),o.events.length=at}}function bt(At){let En=a.length;for(;En-- >At;){const Cn=a[En];o.containerState=Cn[1],Cn[0].exit.call(o,t)}a.length=At}function Tn(){p.write([null]),h=void 0,p=void 0,o.containerState._closeFlow=void 0}}function it(t,o,a){return Wt(t,t.attempt(this.parser.constructs.document,o,a),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const pt={tokenize:Rt,partial:!0};function Rt(t,o,a){return s;function s(h){return Mt(h)?Wt(t,p,"linePrefix")(h):p(h)}function p(h){return h===null||xt(h)?o(h):a(h)}}function kt(t){const o={};let a=-1,s,p,h,d,x,N,P;for(;++a<t.length;){for(;a in o;)a=o[a];if(s=t[a],a&&s[1].type==="chunkFlow"&&t[a-1][1].type==="listItemPrefix"&&(N=s[1]._tokenizer.events,h=0,h<N.length&&N[h][1].type==="lineEndingBlank"&&(h+=2),h<N.length&&N[h][1].type==="content"))for(;++h<N.length&&N[h][1].type!=="content";)N[h][1].type==="chunkText"&&(N[h][1]._isInFirstContentOfListItem=!0,h++);if(s[0]==="enter")s[1].contentType&&(Object.assign(o,Pt(t,a)),a=o[a],P=!0);else if(s[1]._container){for(h=a,p=void 0;h--&&(d=t[h],d[1].type==="lineEnding"||d[1].type==="lineEndingBlank");)d[0]==="enter"&&(p&&(t[p][1].type="lineEndingBlank"),d[1].type="lineEnding",p=h);p&&(s[1].end=Object.assign({},t[p][1].start),x=t.slice(p,a),x.unshift(s),U(t,p,a-p+1,x))}}return!P}function Pt(t,o){const a=t[o][1],s=t[o][2];let p=o-1;const h=[],d=a._tokenizer||s.parser[a.contentType](a.start),x=d.events,N=[],P={};let T,Y,B=-1,O=a,un=0,ln=0;const bn=[ln];for(;O;){for(;t[++p][1]!==O;);h.push(p),O._tokenizer||(T=s.sliceStream(O),O.next||T.push(null),Y&&d.defineSkip(O.start),O._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(T),O._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),Y=O,O=O.next}for(O=a;++B<x.length;)x[B][0]==="exit"&&x[B-1][0]==="enter"&&x[B][1].type===x[B-1][1].type&&x[B][1].start.line!==x[B][1].end.line&&(ln=B+1,bn.push(ln),O._tokenizer=void 0,O.previous=void 0,O=O.next);for(d.events=[],O?(O._tokenizer=void 0,O.previous=void 0):bn.pop(),B=bn.length;B--;){const bt=x.slice(bn[B],bn[B+1]),Tn=h.pop();N.unshift([Tn,Tn+bt.length-1]),U(t,Tn,2,bt)}for(B=-1;++B<N.length;)P[un+N[B][0]]=un+N[B][1],un+=N[B][1]-N[B][0]-1;return P}const gn={tokenize:yt,resolve:Sn},vn={tokenize:_t,partial:!0};function Sn(t){return kt(t),t}function yt(t,o){let a;return s;function s(x){return t.enter("content"),a=t.enter("chunkContent",{contentType:"content"}),p(x)}function p(x){return x===null?h(x):xt(x)?t.check(vn,d,h)(x):(t.consume(x),p)}function h(x){return t.exit("chunkContent"),t.exit("content"),o(x)}function d(x){return t.consume(x),t.exit("chunkContent"),a.next=t.enter("chunkContent",{contentType:"content",previous:a}),a=a.next,p}}function _t(t,o,a){const s=this;return p;function p(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Wt(t,h,"linePrefix")}function h(d){if(d===null||xt(d))return a(d);const x=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?o(d):t.interrupt(s.parser.constructs.flow,a,o)(d)}}const An={tokenize:Fn};function Fn(t){const o=this,a=t.attempt(pt,s,t.attempt(this.parser.constructs.flowInitial,p,Wt(t,t.attempt(this.parser.constructs.flow,p,t.attempt(gn,p)),"linePrefix")));return a;function s(h){if(h===null){t.consume(h);return}return t.enter("lineEndingBlank"),t.consume(h),t.exit("lineEndingBlank"),o.currentConstruct=void 0,a}function p(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),o.currentConstruct=void 0,a}}const Bt={resolveAll:Zt()},M=Et("string"),q=Et("text");function Et(t){return{tokenize:o,resolveAll:Zt(t==="text"?zt:void 0)};function o(a){const s=this,p=this.parser.constructs[t],h=a.attempt(p,d,x);return d;function d(T){return P(T)?h(T):x(T)}function x(T){if(T===null){a.consume(T);return}return a.enter("data"),a.consume(T),N}function N(T){return P(T)?(a.exit("data"),h(T)):(a.consume(T),N)}function P(T){if(T===null)return!0;const Y=p[T];let B=-1;if(Y)for(;++B<Y.length;){const O=Y[B];if(!O.previous||O.previous.call(s,s.previous))return!0}return!1}}}function Zt(t){return o;function o(a,s){let p=-1,h;for(;++p<=a.length;)h===void 0?a[p]&&a[p][1].type==="data"&&(h=p,p++):(!a[p]||a[p][1].type!=="data")&&(p!==h+2&&(a[h][1].end=a[p-1][1].end,a.splice(h+2,p-h-2),p=h+2),h=void 0);return t?t(a,s):a}}function zt(t,o){let a=0;for(;++a<=t.length;)if((a===t.length||t[a][1].type==="lineEnding")&&t[a-1][1].type==="data"){const s=t[a-1][1],p=o.sliceStream(s);let h=p.length,d=-1,x=0,N;for(;h--;){const P=p[h];if(typeof P=="string"){for(d=P.length;P.charCodeAt(d-1)===32;)x++,d--;if(d)break;d=-1}else if(P===-2)N=!0,x++;else if(P!==-1){h++;break}}if(x){const P={type:a===t.length||N||x<2?"lineSuffix":"hardBreakTrailing",start:{line:s.end.line,column:s.end.column-x,offset:s.end.offset-x,_index:s.start._index+h,_bufferIndex:h?d:s.start._bufferIndex+d},end:Object.assign({},s.end)};s.end=Object.assign({},P.start),s.start.offset===s.end.offset?Object.assign(s,P):(t.splice(a,0,["enter",P,o],["exit",P,o]),a+=2)}a++}return t}function Kt(t,o,a){const s=[];let p=-1;for(;++p<t.length;){const h=t[p].resolveAll;h&&!s.includes(h)&&(o=h(o,a),s.push(h))}return o}function Qt(t,o,a){let s=Object.assign(a?Object.assign({},a):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const p={},h=[];let d=[],x=[],N=!0;const P={consume:En,enter:Cn,exit:at,attempt:On(mn),check:On(Rn),interrupt:On(Rn,{interrupt:!0})},T={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:ln,sliceSerialize:un,now:bn,defineSkip:bt,write:O};let Y=o.tokenize.call(T,P),B;return o.resolveAll&&h.push(o),T;function O(It){return d=J(d,It),Tn(),d[d.length-1]!==null?[]:(Yn(o,0),T.events=Kt(h,T.events,T),T.events)}function un(It,Vt){return ce(ln(It),Vt)}function ln(It){return Zn(d,It)}function bn(){const{line:It,column:Vt,offset:Gt,_index:Ln,_bufferIndex:jn}=s;return{line:It,column:Vt,offset:Gt,_index:Ln,_bufferIndex:jn}}function bt(It){p[It.line]=It.column,tn()}function Tn(){let It;for(;s._index<d.length;){const Vt=d[s._index];if(typeof Vt=="string")for(It=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===It&&s._bufferIndex<Vt.length;)At(Vt.charCodeAt(s._bufferIndex));else At(Vt)}}function At(It){N=void 0,B=It,Y=Y(It)}function En(It){xt(It)?(s.line++,s.column=1,s.offset+=It===-3?2:1,tn()):It!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===d[s._index].length&&(s._bufferIndex=-1,s._index++)),T.previous=It,N=!0}function Cn(It,Vt){const Gt=Vt||{};return Gt.type=It,Gt.start=bn(),T.events.push(["enter",Gt,T]),x.push(Gt),Gt}function at(It){const Vt=x.pop();return Vt.end=bn(),T.events.push(["exit",Vt,T]),Vt}function mn(It,Vt){Yn(It,Vt.from)}function Rn(It,Vt){Vt.restore()}function On(It,Vt){return Gt;function Gt(Ln,jn,ue){let xe,k,ie,be;return Array.isArray(Ln)?te(Ln):"tokenize"in Ln?te([Ln]):S(Ln);function S(Un){return He;function He(we){const ze=we!==null&&Un[we],Oe=we!==null&&Un.null,fr=[...Array.isArray(ze)?ze:ze?[ze]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return te(fr)(we)}}function te(Un){return xe=Un,k=0,Un.length===0?ue:Ne(Un[k])}function Ne(Un){return He;function He(we){return be=yn(),ie=Un,Un.partial||(T.currentConstruct=Un),Un.name&&T.parser.constructs.disable.null.includes(Un.name)?Ke(we):Un.tokenize.call(Vt?Object.assign(Object.create(T),Vt):T,P,er,Ke)(we)}}function er(Un){return N=!0,It(ie,be),jn}function Ke(Un){return N=!0,be.restore(),++k<xe.length?Ne(xe[k]):ue}}}function Yn(It,Vt){It.resolveAll&&!h.includes(It)&&h.push(It),It.resolve&&U(T.events,Vt,T.events.length-Vt,It.resolve(T.events.slice(Vt),T)),It.resolveTo&&(T.events=It.resolveTo(T.events,T))}function yn(){const It=bn(),Vt=T.previous,Gt=T.currentConstruct,Ln=T.events.length,jn=Array.from(x);return{restore:ue,from:Ln};function ue(){s=It,T.previous=Vt,T.currentConstruct=Gt,T.events.length=Ln,x=jn,tn()}}function tn(){s.line in p&&s.column<2&&(s.column=p[s.line],s.offset+=p[s.line]-1)}}function Zn(t,o){const a=o.start._index,s=o.start._bufferIndex,p=o.end._index,h=o.end._bufferIndex;let d;if(a===p)d=[t[a].slice(s,h)];else{if(d=t.slice(a,p),s>-1){const x=d[0];typeof x=="string"?d[0]=x.slice(s):d.shift()}h>0&&d.push(t[p].slice(0,h))}return d}function ce(t,o){let a=-1;const s=[];let p;for(;++a<t.length;){const h=t[a];let d;if(typeof h=="string")d=h;else switch(h){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=o?" ":"	";break}case-1:{if(!o&&p)continue;d=" ";break}default:d=String.fromCharCode(h)}p=h===-2,s.push(d)}return s.join("")}const Nn={name:"thematicBreak",tokenize:zn};function zn(t,o,a){let s=0,p;return h;function h(P){return t.enter("thematicBreak"),d(P)}function d(P){return p=P,x(P)}function x(P){return P===p?(t.enter("thematicBreakSequence"),N(P)):s>=3&&(P===null||xt(P))?(t.exit("thematicBreak"),o(P)):a(P)}function N(P){return P===p?(t.consume(P),s++,N):(t.exit("thematicBreakSequence"),Mt(P)?Wt(t,x,"whitespace")(P):x(P))}}const wn={name:"list",tokenize:Fe,continuation:{tokenize:Qn},exit:ae},Pe={tokenize:Ze,partial:!0},ke={tokenize:ne,partial:!0};function Fe(t,o,a){const s=this,p=s.events[s.events.length-1];let h=p&&p[1].type==="linePrefix"?p[2].sliceSerialize(p[1],!0).length:0,d=0;return x;function x(O){const un=s.containerState.type||(O===42||O===43||O===45?"listUnordered":"listOrdered");if(un==="listUnordered"?!s.containerState.marker||O===s.containerState.marker:wt(O)){if(s.containerState.type||(s.containerState.type=un,t.enter(un,{_container:!0})),un==="listUnordered")return t.enter("listItemPrefix"),O===42||O===45?t.check(Nn,a,P)(O):P(O);if(!s.interrupt||O===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),N(O)}return a(O)}function N(O){return wt(O)&&++d<10?(t.consume(O),N):(!s.interrupt||d<2)&&(s.containerState.marker?O===s.containerState.marker:O===41||O===46)?(t.exit("listItemValue"),P(O)):a(O)}function P(O){return t.enter("listItemMarker"),t.consume(O),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||O,t.check(pt,s.interrupt?a:T,t.attempt(Pe,B,Y))}function T(O){return s.containerState.initialBlankLine=!0,h++,B(O)}function Y(O){return Mt(O)?(t.enter("listItemPrefixWhitespace"),t.consume(O),t.exit("listItemPrefixWhitespace"),B):a(O)}function B(O){return s.containerState.size=h+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,o(O)}}function Qn(t,o,a){const s=this;return s.containerState._closeFlow=void 0,t.check(pt,p,h);function p(x){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,Wt(t,o,"listItemIndent",s.containerState.size+1)(x)}function h(x){return s.containerState.furtherBlankLines||!Mt(x)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,d(x)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(ke,o,d)(x))}function d(x){return s.containerState._closeFlow=!0,s.interrupt=void 0,Wt(t,t.attempt(wn,o,a),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x)}}function ne(t,o,a){const s=this;return Wt(t,p,"listItemIndent",s.containerState.size+1);function p(h){const d=s.events[s.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===s.containerState.size?o(h):a(h)}}function ae(t){t.exit(this.containerState.type)}function Ze(t,o,a){const s=this;return Wt(t,p,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function p(h){const d=s.events[s.events.length-1];return!Mt(h)&&d&&d[1].type==="listItemPrefixWhitespace"?o(h):a(h)}}const Jn={name:"blockQuote",tokenize:_n,continuation:{tokenize:ye},exit:Me};function _n(t,o,a){const s=this;return p;function p(d){if(d===62){const x=s.containerState;return x.open||(t.enter("blockQuote",{_container:!0}),x.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),h}return a(d)}function h(d){return Mt(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),o):(t.exit("blockQuotePrefix"),o(d))}}function ye(t,o,a){const s=this;return p;function p(d){return Mt(d)?Wt(t,h,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):h(d)}function h(d){return t.attempt(Jn,o,a)(d)}}function Me(t){t.exit("blockQuote")}function ee(t,o,a,s,p,h,d,x,N){const P=N||Number.POSITIVE_INFINITY;let T=0;return Y;function Y(bt){return bt===60?(t.enter(s),t.enter(p),t.enter(h),t.consume(bt),t.exit(h),B):bt===null||bt===32||bt===41||dt(bt)?a(bt):(t.enter(s),t.enter(d),t.enter(x),t.enter("chunkString",{contentType:"string"}),ln(bt))}function B(bt){return bt===62?(t.enter(h),t.consume(bt),t.exit(h),t.exit(p),t.exit(s),o):(t.enter(x),t.enter("chunkString",{contentType:"string"}),O(bt))}function O(bt){return bt===62?(t.exit("chunkString"),t.exit(x),B(bt)):bt===null||bt===60||xt(bt)?a(bt):(t.consume(bt),bt===92?un:O)}function un(bt){return bt===60||bt===62||bt===92?(t.consume(bt),O):O(bt)}function ln(bt){return!T&&(bt===null||bt===41||on(bt))?(t.exit("chunkString"),t.exit(x),t.exit(d),t.exit(s),o(bt)):T<P&&bt===40?(t.consume(bt),T++,ln):bt===41?(t.consume(bt),T--,ln):bt===null||bt===32||bt===40||dt(bt)?a(bt):(t.consume(bt),bt===92?bn:ln)}function bn(bt){return bt===40||bt===41||bt===92?(t.consume(bt),ln):ln(bt)}}function fe(t,o,a,s,p,h){const d=this;let x=0,N;return P;function P(O){return t.enter(s),t.enter(p),t.consume(O),t.exit(p),t.enter(h),T}function T(O){return x>999||O===null||O===91||O===93&&!N||O===94&&!x&&"_hiddenFootnoteSupport"in d.parser.constructs?a(O):O===93?(t.exit(h),t.enter(p),t.consume(O),t.exit(p),t.exit(s),o):xt(O)?(t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),T):(t.enter("chunkString",{contentType:"string"}),Y(O))}function Y(O){return O===null||O===91||O===93||xt(O)||x++>999?(t.exit("chunkString"),T(O)):(t.consume(O),N||(N=!Mt(O)),O===92?B:Y)}function B(O){return O===91||O===92||O===93?(t.consume(O),x++,Y):Y(O)}}function se(t,o,a,s,p,h){let d;return x;function x(B){return B===34||B===39||B===40?(t.enter(s),t.enter(p),t.consume(B),t.exit(p),d=B===40?41:B,N):a(B)}function N(B){return B===d?(t.enter(p),t.consume(B),t.exit(p),t.exit(s),o):(t.enter(h),P(B))}function P(B){return B===d?(t.exit(h),N(d)):B===null?a(B):xt(B)?(t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),Wt(t,P,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),T(B))}function T(B){return B===d||B===null||xt(B)?(t.exit("chunkString"),P(B)):(t.consume(B),B===92?Y:T)}function Y(B){return B===d||B===92?(t.consume(B),T):T(B)}}function qn(t,o){let a;return s;function s(p){return xt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),a=!0,s):Mt(p)?Wt(t,s,a?"linePrefix":"lineSuffix")(p):o(p)}}function Vn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const oe={name:"definition",tokenize:r},y={tokenize:b,partial:!0};function r(t,o,a){const s=this;let p;return h;function h(O){return t.enter("definition"),d(O)}function d(O){return fe.call(s,t,x,a,"definitionLabel","definitionLabelMarker","definitionLabelString")(O)}function x(O){return p=Vn(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),O===58?(t.enter("definitionMarker"),t.consume(O),t.exit("definitionMarker"),N):a(O)}function N(O){return on(O)?qn(t,P)(O):P(O)}function P(O){return ee(t,T,a,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(O)}function T(O){return t.attempt(y,Y,Y)(O)}function Y(O){return Mt(O)?Wt(t,B,"whitespace")(O):B(O)}function B(O){return O===null||xt(O)?(t.exit("definition"),s.parser.defined.push(p),o(O)):a(O)}}function b(t,o,a){return s;function s(x){return on(x)?qn(t,p)(x):a(x)}function p(x){return se(t,h,a,"definitionTitle","definitionTitleMarker","definitionTitleString")(x)}function h(x){return Mt(x)?Wt(t,d,"whitespace")(x):d(x)}function d(x){return x===null||xt(x)?o(x):a(x)}}const L={name:"codeIndented",tokenize:A},w={tokenize:C,partial:!0};function A(t,o,a){const s=this;return p;function p(P){return t.enter("codeIndented"),Wt(t,h,"linePrefix",4+1)(P)}function h(P){const T=s.events[s.events.length-1];return T&&T[1].type==="linePrefix"&&T[2].sliceSerialize(T[1],!0).length>=4?d(P):a(P)}function d(P){return P===null?N(P):xt(P)?t.attempt(w,d,N)(P):(t.enter("codeFlowValue"),x(P))}function x(P){return P===null||xt(P)?(t.exit("codeFlowValue"),d(P)):(t.consume(P),x)}function N(P){return t.exit("codeIndented"),o(P)}}function C(t,o,a){const s=this;return p;function p(d){return s.parser.lazy[s.now().line]?a(d):xt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),p):Wt(t,h,"linePrefix",4+1)(d)}function h(d){const x=s.events[s.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?o(d):xt(d)?p(d):a(d)}}const z={name:"headingAtx",tokenize:F,resolve:E};function E(t,o){let a=t.length-2,s=3,p,h;return t[s][1].type==="whitespace"&&(s+=2),a-2>s&&t[a][1].type==="whitespace"&&(a-=2),t[a][1].type==="atxHeadingSequence"&&(s===a-1||a-4>s&&t[a-2][1].type==="whitespace")&&(a-=s+1===a?2:4),a>s&&(p={type:"atxHeadingText",start:t[s][1].start,end:t[a][1].end},h={type:"chunkText",start:t[s][1].start,end:t[a][1].end,contentType:"text"},U(t,s,a-s+1,[["enter",p,o],["enter",h,o],["exit",h,o],["exit",p,o]])),t}function F(t,o,a){let s=0;return p;function p(T){return t.enter("atxHeading"),h(T)}function h(T){return t.enter("atxHeadingSequence"),d(T)}function d(T){return T===35&&s++<6?(t.consume(T),d):T===null||on(T)?(t.exit("atxHeadingSequence"),x(T)):a(T)}function x(T){return T===35?(t.enter("atxHeadingSequence"),N(T)):T===null||xt(T)?(t.exit("atxHeading"),o(T)):Mt(T)?Wt(t,x,"whitespace")(T):(t.enter("atxHeadingText"),P(T))}function N(T){return T===35?(t.consume(T),N):(t.exit("atxHeadingSequence"),x(T))}function P(T){return T===null||T===35||on(T)?(t.exit("atxHeadingText"),x(T)):(t.consume(T),P)}}const j={name:"setextUnderline",tokenize:gt,resolveTo:Q};function Q(t,o){let a=t.length,s,p,h;for(;a--;)if(t[a][0]==="enter"){if(t[a][1].type==="content"){s=a;break}t[a][1].type==="paragraph"&&(p=a)}else t[a][1].type==="content"&&t.splice(a,1),!h&&t[a][1].type==="definition"&&(h=a);const d={type:"setextHeading",start:Object.assign({},t[p][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[p][1].type="setextHeadingText",h?(t.splice(p,0,["enter",d,o]),t.splice(h+1,0,["exit",t[s][1],o]),t[s][1].end=Object.assign({},t[h][1].end)):t[s][1]=d,t.push(["exit",d,o]),t}function gt(t,o,a){const s=this;let p;return h;function h(P){let T=s.events.length,Y;for(;T--;)if(s.events[T][1].type!=="lineEnding"&&s.events[T][1].type!=="linePrefix"&&s.events[T][1].type!=="content"){Y=s.events[T][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||Y)?(t.enter("setextHeadingLine"),p=P,d(P)):a(P)}function d(P){return t.enter("setextHeadingLineSequence"),x(P)}function x(P){return P===p?(t.consume(P),x):(t.exit("setextHeadingLineSequence"),Mt(P)?Wt(t,N,"lineSuffix")(P):N(P))}function N(P){return P===null||xt(P)?(t.exit("setextHeadingLine"),o(P)):a(P)}}const st=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],St=["pre","script","style","textarea"],Ft={name:"htmlFlow",tokenize:Jt,resolveTo:Lt,concrete:!0},Ct={tokenize:Mn,partial:!0},vt={tokenize:Yt,partial:!0};function Lt(t){let o=t.length;for(;o--&&!(t[o][0]==="enter"&&t[o][1].type==="htmlFlow"););return o>1&&t[o-2][1].type==="linePrefix"&&(t[o][1].start=t[o-2][1].start,t[o+1][1].start=t[o-2][1].start,t.splice(o-2,2)),t}function Jt(t,o,a){const s=this;let p,h,d,x,N;return P;function P(S){return T(S)}function T(S){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(S),Y}function Y(S){return S===33?(t.consume(S),B):S===47?(t.consume(S),h=!0,ln):S===63?(t.consume(S),p=3,s.interrupt?o:k):jt(S)?(t.consume(S),d=String.fromCharCode(S),bn):a(S)}function B(S){return S===45?(t.consume(S),p=2,O):S===91?(t.consume(S),p=5,x=0,un):jt(S)?(t.consume(S),p=4,s.interrupt?o:k):a(S)}function O(S){return S===45?(t.consume(S),s.interrupt?o:k):a(S)}function un(S){const te="CDATA[";return S===te.charCodeAt(x++)?(t.consume(S),x===te.length?s.interrupt?o:tn:un):a(S)}function ln(S){return jt(S)?(t.consume(S),d=String.fromCharCode(S),bn):a(S)}function bn(S){if(S===null||S===47||S===62||on(S)){const te=S===47,Ne=d.toLowerCase();return!te&&!h&&St.includes(Ne)?(p=1,s.interrupt?o(S):tn(S)):st.includes(d.toLowerCase())?(p=6,te?(t.consume(S),bt):s.interrupt?o(S):tn(S)):(p=7,s.interrupt&&!s.parser.lazy[s.now().line]?a(S):h?Tn(S):At(S))}return S===45||rn(S)?(t.consume(S),d+=String.fromCharCode(S),bn):a(S)}function bt(S){return S===62?(t.consume(S),s.interrupt?o:tn):a(S)}function Tn(S){return Mt(S)?(t.consume(S),Tn):Yn(S)}function At(S){return S===47?(t.consume(S),Yn):S===58||S===95||jt(S)?(t.consume(S),En):Mt(S)?(t.consume(S),At):Yn(S)}function En(S){return S===45||S===46||S===58||S===95||rn(S)?(t.consume(S),En):Cn(S)}function Cn(S){return S===61?(t.consume(S),at):Mt(S)?(t.consume(S),Cn):At(S)}function at(S){return S===null||S===60||S===61||S===62||S===96?a(S):S===34||S===39?(t.consume(S),N=S,mn):Mt(S)?(t.consume(S),at):Rn(S)}function mn(S){return S===N?(t.consume(S),N=null,On):S===null||xt(S)?a(S):(t.consume(S),mn)}function Rn(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||on(S)?Cn(S):(t.consume(S),Rn)}function On(S){return S===47||S===62||Mt(S)?At(S):a(S)}function Yn(S){return S===62?(t.consume(S),yn):a(S)}function yn(S){return S===null||xt(S)?tn(S):Mt(S)?(t.consume(S),yn):a(S)}function tn(S){return S===45&&p===2?(t.consume(S),Ln):S===60&&p===1?(t.consume(S),jn):S===62&&p===4?(t.consume(S),ie):S===63&&p===3?(t.consume(S),k):S===93&&p===5?(t.consume(S),xe):xt(S)&&(p===6||p===7)?(t.exit("htmlFlowData"),t.check(Ct,be,It)(S)):S===null||xt(S)?(t.exit("htmlFlowData"),It(S)):(t.consume(S),tn)}function It(S){return t.check(vt,Vt,be)(S)}function Vt(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),Gt}function Gt(S){return S===null||xt(S)?It(S):(t.enter("htmlFlowData"),tn(S))}function Ln(S){return S===45?(t.consume(S),k):tn(S)}function jn(S){return S===47?(t.consume(S),d="",ue):tn(S)}function ue(S){if(S===62){const te=d.toLowerCase();return St.includes(te)?(t.consume(S),ie):tn(S)}return jt(S)&&d.length<8?(t.consume(S),d+=String.fromCharCode(S),ue):tn(S)}function xe(S){return S===93?(t.consume(S),k):tn(S)}function k(S){return S===62?(t.consume(S),ie):S===45&&p===2?(t.consume(S),k):tn(S)}function ie(S){return S===null||xt(S)?(t.exit("htmlFlowData"),be(S)):(t.consume(S),ie)}function be(S){return t.exit("htmlFlow"),o(S)}}function Yt(t,o,a){const s=this;return p;function p(d){return xt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),h):a(d)}function h(d){return s.parser.lazy[s.now().line]?a(d):o(d)}}function Mn(t,o,a){return s;function s(p){return t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),t.attempt(pt,o,a)}}const Bn={tokenize:an,partial:!0},Kn={name:"codeFenced",tokenize:en,concrete:!0};function en(t,o,a){const s=this,p={tokenize:Cn,partial:!0};let h=0,d=0,x;return N;function N(at){return P(at)}function P(at){const mn=s.events[s.events.length-1];return h=mn&&mn[1].type==="linePrefix"?mn[2].sliceSerialize(mn[1],!0).length:0,x=at,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),T(at)}function T(at){return at===x?(d++,t.consume(at),T):d<3?a(at):(t.exit("codeFencedFenceSequence"),Mt(at)?Wt(t,Y,"whitespace")(at):Y(at))}function Y(at){return at===null||xt(at)?(t.exit("codeFencedFence"),s.interrupt?o(at):t.check(Bn,ln,En)(at)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),B(at))}function B(at){return at===null||xt(at)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Y(at)):Mt(at)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Wt(t,O,"whitespace")(at)):at===96&&at===x?a(at):(t.consume(at),B)}function O(at){return at===null||xt(at)?Y(at):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),un(at))}function un(at){return at===null||xt(at)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),Y(at)):at===96&&at===x?a(at):(t.consume(at),un)}function ln(at){return t.attempt(p,En,bn)(at)}function bn(at){return t.enter("lineEnding"),t.consume(at),t.exit("lineEnding"),bt}function bt(at){return h>0&&Mt(at)?Wt(t,Tn,"linePrefix",h+1)(at):Tn(at)}function Tn(at){return at===null||xt(at)?t.check(Bn,ln,En)(at):(t.enter("codeFlowValue"),At(at))}function At(at){return at===null||xt(at)?(t.exit("codeFlowValue"),Tn(at)):(t.consume(at),At)}function En(at){return t.exit("codeFenced"),o(at)}function Cn(at,mn,Rn){let On=0;return Yn;function Yn(Gt){return at.enter("lineEnding"),at.consume(Gt),at.exit("lineEnding"),yn}function yn(Gt){return at.enter("codeFencedFence"),Mt(Gt)?Wt(at,tn,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Gt):tn(Gt)}function tn(Gt){return Gt===x?(at.enter("codeFencedFenceSequence"),It(Gt)):Rn(Gt)}function It(Gt){return Gt===x?(On++,at.consume(Gt),It):On>=d?(at.exit("codeFencedFenceSequence"),Mt(Gt)?Wt(at,Vt,"whitespace")(Gt):Vt(Gt)):Rn(Gt)}function Vt(Gt){return Gt===null||xt(Gt)?(at.exit("codeFencedFence"),mn(Gt)):Rn(Gt)}}}function an(t,o,a){const s=this;return p;function p(d){return d===null?a(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),h)}function h(d){return s.parser.lazy[s.now().line]?a(d):o(d)}}const Dn=document.createElement("i");function Wn(t){const o="&"+t+";";Dn.innerHTML=o;const a=Dn.textContent;return a.charCodeAt(a.length-1)===59&&t!=="semi"||a===o?!1:a}const xn={name:"characterReference",tokenize:re};function re(t,o,a){const s=this;let p=0,h,d;return x;function x(Y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(Y),t.exit("characterReferenceMarker"),N}function N(Y){return Y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(Y),t.exit("characterReferenceMarkerNumeric"),P):(t.enter("characterReferenceValue"),h=31,d=rn,T(Y))}function P(Y){return Y===88||Y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(Y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),h=6,d=$t,T):(t.enter("characterReferenceValue"),h=7,d=wt,T(Y))}function T(Y){if(Y===59&&p){const B=t.exit("characterReferenceValue");return d===rn&&!Wn(s.sliceSerialize(B))?a(Y):(t.enter("characterReferenceMarker"),t.consume(Y),t.exit("characterReferenceMarker"),t.exit("characterReference"),o)}return d(Y)&&p++<h?(t.consume(Y),T):a(Y)}}const he={name:"characterEscape",tokenize:rr};function rr(t,o,a){return s;function s(h){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(h),t.exit("escapeMarker"),p}function p(h){return Gn(h)?(t.enter("characterEscapeValue"),t.consume(h),t.exit("characterEscapeValue"),t.exit("characterEscape"),o):a(h)}}const je={name:"lineEnding",tokenize:ir};function ir(t,o){return a;function a(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Wt(t,o,"linePrefix")}}const We={name:"labelEnd",tokenize:sn,resolveTo:ot,resolveAll:sr},ar={tokenize:Hn},fn={tokenize:Ce},Be={tokenize:De};function sr(t){let o=-1;for(;++o<t.length;){const a=t[o][1];(a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd")&&(t.splice(o+1,a.type==="labelImage"?4:2),a.type="data",o++)}return t}function ot(t,o){let a=t.length,s=0,p,h,d,x;for(;a--;)if(p=t[a][1],h){if(p.type==="link"||p.type==="labelLink"&&p._inactive)break;t[a][0]==="enter"&&p.type==="labelLink"&&(p._inactive=!0)}else if(d){if(t[a][0]==="enter"&&(p.type==="labelImage"||p.type==="labelLink")&&!p._balanced&&(h=a,p.type!=="labelLink")){s=2;break}}else p.type==="labelEnd"&&(d=a);const N={type:t[h][1].type==="labelLink"?"link":"image",start:Object.assign({},t[h][1].start),end:Object.assign({},t[t.length-1][1].end)},P={type:"label",start:Object.assign({},t[h][1].start),end:Object.assign({},t[d][1].end)},T={type:"labelText",start:Object.assign({},t[h+s+2][1].end),end:Object.assign({},t[d-2][1].start)};return x=[["enter",N,o],["enter",P,o]],x=J(x,t.slice(h+1,h+s+3)),x=J(x,[["enter",T,o]]),x=J(x,Kt(o.parser.constructs.insideSpan.null,t.slice(h+s+4,d-3),o)),x=J(x,[["exit",T,o],t[d-2],t[d-1],["exit",P,o]]),x=J(x,t.slice(d+1)),x=J(x,[["exit",N,o]]),U(t,h,t.length,x),t}function sn(t,o,a){const s=this;let p=s.events.length,h,d;for(;p--;)if((s.events[p][1].type==="labelImage"||s.events[p][1].type==="labelLink")&&!s.events[p][1]._balanced){h=s.events[p][1];break}return x;function x(B){return h?h._inactive?Y(B):(d=s.parser.defined.includes(Vn(s.sliceSerialize({start:h.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(B),t.exit("labelMarker"),t.exit("labelEnd"),N):a(B)}function N(B){return B===40?t.attempt(ar,T,d?T:Y)(B):B===91?t.attempt(fn,T,d?P:Y)(B):d?T(B):Y(B)}function P(B){return t.attempt(Be,T,Y)(B)}function T(B){return o(B)}function Y(B){return h._balanced=!0,a(B)}}function Hn(t,o,a){return s;function s(Y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(Y),t.exit("resourceMarker"),p}function p(Y){return on(Y)?qn(t,h)(Y):h(Y)}function h(Y){return Y===41?T(Y):ee(t,d,x,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(Y)}function d(Y){return on(Y)?qn(t,N)(Y):T(Y)}function x(Y){return a(Y)}function N(Y){return Y===34||Y===39||Y===40?se(t,P,a,"resourceTitle","resourceTitleMarker","resourceTitleString")(Y):T(Y)}function P(Y){return on(Y)?qn(t,T)(Y):T(Y)}function T(Y){return Y===41?(t.enter("resourceMarker"),t.consume(Y),t.exit("resourceMarker"),t.exit("resource"),o):a(Y)}}function Ce(t,o,a){const s=this;return p;function p(x){return fe.call(s,t,h,d,"reference","referenceMarker","referenceString")(x)}function h(x){return s.parser.defined.includes(Vn(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?o(x):a(x)}function d(x){return a(x)}}function De(t,o,a){return s;function s(h){return t.enter("reference"),t.enter("referenceMarker"),t.consume(h),t.exit("referenceMarker"),p}function p(h){return h===93?(t.enter("referenceMarker"),t.consume(h),t.exit("referenceMarker"),t.exit("reference"),o):a(h)}}const de={name:"labelStartImage",tokenize:Xn,resolveAll:We.resolveAll};function Xn(t,o,a){const s=this;return p;function p(x){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(x),t.exit("labelImageMarker"),h}function h(x){return x===91?(t.enter("labelMarker"),t.consume(x),t.exit("labelMarker"),t.exit("labelImage"),d):a(x)}function d(x){return x===94&&"_hiddenFootnoteSupport"in s.parser.constructs?a(x):o(x)}}function Se(t){if(t===null||on(t)||kn(t))return 1;if(Pn(t))return 2}const Ae={name:"attention",tokenize:Ge,resolveAll:or};function or(t,o){let a=-1,s,p,h,d,x,N,P,T;for(;++a<t.length;)if(t[a][0]==="enter"&&t[a][1].type==="attentionSequence"&&t[a][1]._close){for(s=a;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&o.sliceSerialize(t[s][1]).charCodeAt(0)===o.sliceSerialize(t[a][1]).charCodeAt(0)){if((t[s][1]._close||t[a][1]._open)&&(t[a][1].end.offset-t[a][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[a][1].end.offset-t[a][1].start.offset)%3))continue;N=t[s][1].end.offset-t[s][1].start.offset>1&&t[a][1].end.offset-t[a][1].start.offset>1?2:1;const Y=Object.assign({},t[s][1].end),B=Object.assign({},t[a][1].start);ve(Y,-N),ve(B,N),d={type:N>1?"strongSequence":"emphasisSequence",start:Y,end:Object.assign({},t[s][1].end)},x={type:N>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[a][1].start),end:B},h={type:N>1?"strongText":"emphasisText",start:Object.assign({},t[s][1].end),end:Object.assign({},t[a][1].start)},p={type:N>1?"strong":"emphasis",start:Object.assign({},d.start),end:Object.assign({},x.end)},t[s][1].end=Object.assign({},d.start),t[a][1].start=Object.assign({},x.end),P=[],t[s][1].end.offset-t[s][1].start.offset&&(P=J(P,[["enter",t[s][1],o],["exit",t[s][1],o]])),P=J(P,[["enter",p,o],["enter",d,o],["exit",d,o],["enter",h,o]]),P=J(P,Kt(o.parser.constructs.insideSpan.null,t.slice(s+1,a),o)),P=J(P,[["exit",h,o],["enter",x,o],["exit",x,o],["exit",p,o]]),t[a][1].end.offset-t[a][1].start.offset?(T=2,P=J(P,[["enter",t[a][1],o],["exit",t[a][1],o]])):T=0,U(t,s-1,a-s+3,P),a=s+P.length-T-2;break}}for(a=-1;++a<t.length;)t[a][1].type==="attentionSequence"&&(t[a][1].type="data");return t}function Ge(t,o){const a=this.parser.constructs.attentionMarkers.null,s=this.previous,p=Se(s);let h;return d;function d(N){return h=N,t.enter("attentionSequence"),x(N)}function x(N){if(N===h)return t.consume(N),x;const P=t.exit("attentionSequence"),T=Se(N),Y=!T||T===2&&p||a.includes(N),B=!p||p===2&&T||a.includes(s);return P._open=!!(h===42?Y:Y&&(p||!B)),P._close=!!(h===42?B:B&&(T||!Y)),o(N)}}function ve(t,o){t.column+=o,t.offset+=o,t._bufferIndex+=o}const Ve={name:"autolink",tokenize:$e};function $e(t,o,a){let s=0;return p;function p(O){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(O),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),h}function h(O){return jt(O)?(t.consume(O),d):P(O)}function d(O){return O===43||O===45||O===46||rn(O)?(s=1,x(O)):P(O)}function x(O){return O===58?(t.consume(O),s=0,N):(O===43||O===45||O===46||rn(O))&&s++<32?(t.consume(O),x):(s=0,P(O))}function N(O){return O===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(O),t.exit("autolinkMarker"),t.exit("autolink"),o):O===null||O===32||O===60||dt(O)?a(O):(t.consume(O),N)}function P(O){return O===64?(t.consume(O),T):nn(O)?(t.consume(O),P):a(O)}function T(O){return rn(O)?Y(O):a(O)}function Y(O){return O===46?(t.consume(O),s=0,T):O===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(O),t.exit("autolinkMarker"),t.exit("autolink"),o):B(O)}function B(O){if((O===45||rn(O))&&s++<63){const un=O===45?B:Y;return t.consume(O),un}return a(O)}}const Ue={name:"htmlText",tokenize:Re};function Re(t,o,a){const s=this;let p,h,d;return x;function x(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),N}function N(k){return k===33?(t.consume(k),P):k===47?(t.consume(k),Cn):k===63?(t.consume(k),At):jt(k)?(t.consume(k),Rn):a(k)}function P(k){return k===45?(t.consume(k),T):k===91?(t.consume(k),h=0,un):jt(k)?(t.consume(k),Tn):a(k)}function T(k){return k===45?(t.consume(k),O):a(k)}function Y(k){return k===null?a(k):k===45?(t.consume(k),B):xt(k)?(d=Y,jn(k)):(t.consume(k),Y)}function B(k){return k===45?(t.consume(k),O):Y(k)}function O(k){return k===62?Ln(k):k===45?B(k):Y(k)}function un(k){const ie="CDATA[";return k===ie.charCodeAt(h++)?(t.consume(k),h===ie.length?ln:un):a(k)}function ln(k){return k===null?a(k):k===93?(t.consume(k),bn):xt(k)?(d=ln,jn(k)):(t.consume(k),ln)}function bn(k){return k===93?(t.consume(k),bt):ln(k)}function bt(k){return k===62?Ln(k):k===93?(t.consume(k),bt):ln(k)}function Tn(k){return k===null||k===62?Ln(k):xt(k)?(d=Tn,jn(k)):(t.consume(k),Tn)}function At(k){return k===null?a(k):k===63?(t.consume(k),En):xt(k)?(d=At,jn(k)):(t.consume(k),At)}function En(k){return k===62?Ln(k):At(k)}function Cn(k){return jt(k)?(t.consume(k),at):a(k)}function at(k){return k===45||rn(k)?(t.consume(k),at):mn(k)}function mn(k){return xt(k)?(d=mn,jn(k)):Mt(k)?(t.consume(k),mn):Ln(k)}function Rn(k){return k===45||rn(k)?(t.consume(k),Rn):k===47||k===62||on(k)?On(k):a(k)}function On(k){return k===47?(t.consume(k),Ln):k===58||k===95||jt(k)?(t.consume(k),Yn):xt(k)?(d=On,jn(k)):Mt(k)?(t.consume(k),On):Ln(k)}function Yn(k){return k===45||k===46||k===58||k===95||rn(k)?(t.consume(k),Yn):yn(k)}function yn(k){return k===61?(t.consume(k),tn):xt(k)?(d=yn,jn(k)):Mt(k)?(t.consume(k),yn):On(k)}function tn(k){return k===null||k===60||k===61||k===62||k===96?a(k):k===34||k===39?(t.consume(k),p=k,It):xt(k)?(d=tn,jn(k)):Mt(k)?(t.consume(k),tn):(t.consume(k),Vt)}function It(k){return k===p?(t.consume(k),p=void 0,Gt):k===null?a(k):xt(k)?(d=It,jn(k)):(t.consume(k),It)}function Vt(k){return k===null||k===34||k===39||k===60||k===61||k===96?a(k):k===47||k===62||on(k)?On(k):(t.consume(k),Vt)}function Gt(k){return k===47||k===62||on(k)?On(k):a(k)}function Ln(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),o):a(k)}function jn(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),ue}function ue(k){return Mt(k)?Wt(t,xe,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):xe(k)}function xe(k){return t.enter("htmlTextData"),d(k)}}const pe={name:"labelStartLink",tokenize:ge,resolveAll:We.resolveAll};function ge(t,o,a){const s=this;return p;function p(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),h}function h(d){return d===94&&"_hiddenFootnoteSupport"in s.parser.constructs?a(d):o(d)}}const pr={name:"hardBreakEscape",tokenize:gr};function gr(t,o,a){return s;function s(h){return t.enter("hardBreakEscape"),t.consume(h),p}function p(h){return xt(h)?(t.exit("hardBreakEscape"),o(h)):a(h)}}const Br={name:"codeText",tokenize:Dr,resolve:mr,previous:xr};function mr(t){let o=t.length-4,a=3,s,p;if((t[a][1].type==="lineEnding"||t[a][1].type==="space")&&(t[o][1].type==="lineEnding"||t[o][1].type==="space")){for(s=a;++s<o;)if(t[s][1].type==="codeTextData"){t[a][1].type="codeTextPadding",t[o][1].type="codeTextPadding",a+=2,o-=2;break}}for(s=a-1,o++;++s<=o;)p===void 0?s!==o&&t[s][1].type!=="lineEnding"&&(p=s):(s===o||t[s][1].type==="lineEnding")&&(t[p][1].type="codeTextData",s!==p+2&&(t[p][1].end=t[s-1][1].end,t.splice(p+2,s-p-2),o-=s-p-2,s=p+2),p=void 0);return t}function xr(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Dr(t,o,a){const s=this;let p=0,h,d;return x;function x(B){return t.enter("codeText"),t.enter("codeTextSequence"),N(B)}function N(B){return B===96?(t.consume(B),p++,N):(t.exit("codeTextSequence"),P(B))}function P(B){return B===null?a(B):B===32?(t.enter("space"),t.consume(B),t.exit("space"),P):B===96?(d=t.enter("codeTextSequence"),h=0,Y(B)):xt(B)?(t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),P):(t.enter("codeTextData"),T(B))}function T(B){return B===null||B===32||B===96||xt(B)?(t.exit("codeTextData"),P(B)):(t.consume(B),T)}function Y(B){return B===96?(t.consume(B),h++,Y):h===p?(t.exit("codeTextSequence"),t.exit("codeText"),o(B)):(d.type="codeTextData",T(B))}}const Rr={42:wn,43:wn,45:wn,48:wn,49:wn,50:wn,51:wn,52:wn,53:wn,54:wn,55:wn,56:wn,57:wn,62:Jn},Nr={91:oe},br={[-2]:L,[-1]:L,32:L},zr={35:z,42:Nn,45:[j,Nn],60:Ft,61:j,95:Nn,96:Kn,126:Kn},jr={38:xn,92:he},Wr={[-5]:je,[-4]:je,[-3]:je,33:de,38:xn,42:Ae,60:[Ve,Ue],91:pe,92:[pr,he],93:We,95:Ae,96:Br},Ur={null:[Ae,Bt]},Kr={null:[42,95]},Hr={null:[]};function Xr(t){const a=Tt([l,...(t||{}).extensions||[]]),s={defined:[],lazy:{},constructs:a,content:p(Ut),document:p(v),flow:p(An),string:p(M),text:p(q)};return s;function p(h){return d;function d(x){return Qt(s,h,x)}}}const yr=/[\0\t\n\r]/g;function Yr(){let t=1,o="",a=!0,s;return p;function p(h,d,x){const N=[];let P,T,Y,B,O;for(h=o+h.toString(d),Y=0,o="",a&&(h.charCodeAt(0)===65279&&Y++,a=void 0);Y<h.length;){if(yr.lastIndex=Y,P=yr.exec(h),B=P&&P.index!==void 0?P.index:h.length,O=h.charCodeAt(B),!P){o=h.slice(Y);break}if(O===10&&Y===B&&s)N.push(-3),s=void 0;else switch(s&&(N.push(-5),s=void 0),Y<B&&(N.push(h.slice(Y,B)),t+=B-Y),O){case 0:{N.push(65533),t++;break}case 9:{for(T=Math.ceil(t/4)*4,N.push(-2);t++<T;)N.push(-1);break}case 10:{N.push(-4),t=1;break}default:s=!0,t=1}Y=B+1}return x&&(s&&N.push(-5),o&&N.push(o),N.push(null)),N}}function Qe(t){for(;!kt(t););return t}function Gr(t,o){const a=Number.parseInt(t,o);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"\uFFFD":String.fromCharCode(a)}const vr=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function wr(t){return t.replace(vr,Vr)}function Vr(t,o,a){if(o)return o;if(a.charCodeAt(0)===35){const p=a.charCodeAt(1),h=p===120||p===88;return Gr(a.slice(h?2:1),h?16:10)}return Wn(a)||t}function Je(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?$r(t.position):"start"in t||"end"in t?$r(t):"line"in t||"column"in t?_r(t):""}function _r(t){return Te(t&&t.line)+":"+Te(t&&t.column)}function $r(t){return _r(t&&t.start)+"-"+_r(t&&t.end)}function Te(t){return t&&typeof t=="number"?t:1}const qe={}.hasOwnProperty,Er=function(t,o,a){return typeof o!="string"&&(a=o,o=void 0),kr(a)(Qe(Xr(a).document().write(Yr()(t,o,!0))))};function kr(t){const o={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:x(Pr),autolinkProtocol:yn,autolinkEmail:yn,atxHeading:x(Lr),blockQuote:x(ze),characterEscape:yn,characterReference:yn,codeFenced:x(Oe),codeFencedFenceInfo:N,codeFencedFenceMeta:N,codeIndented:x(Oe,N),codeText:x(fr,N),codeTextData:yn,data:yn,codeFlowValue:yn,definition:x(si),definitionDestinationString:N,definitionLabelString:N,definitionTitleString:N,emphasis:x(oi),hardBreakEscape:x(Or),hardBreakTrailing:x(Or),htmlFlow:x(Ir,N),htmlFlowData:yn,htmlText:x(Ir,N),htmlTextData:yn,image:x(ui),label:N,link:x(Pr),listItem:x(Mr),listItemValue:un,listOrdered:x(Fr,O),listUnordered:x(Fr),paragraph:x(li),reference:Ne,referenceString:N,resourceDestinationString:N,resourceTitleString:N,setextHeading:x(Lr),strong:x(ci),thematicBreak:x(hi)},exit:{atxHeading:T(),atxHeadingSequence:mn,autolink:T(),autolinkEmail:we,autolinkProtocol:He,blockQuote:T(),characterEscapeValue:tn,characterReferenceMarkerHexadecimal:Ke,characterReferenceMarkerNumeric:Ke,characterReferenceValue:Un,codeFenced:T(Tn),codeFencedFence:bt,codeFencedFenceInfo:ln,codeFencedFenceMeta:bn,codeFlowValue:tn,codeIndented:T(At),codeText:T(jn),codeTextData:tn,data:tn,definition:T(),definitionDestinationString:at,definitionLabelString:En,definitionTitleString:Cn,emphasis:T(),hardBreakEscape:T(Vt),hardBreakTrailing:T(Vt),htmlFlow:T(Gt),htmlFlowData:tn,htmlText:T(Ln),htmlTextData:tn,image:T(xe),label:ie,labelText:k,lineEnding:It,link:T(ue),listItem:T(),listOrdered:T(),listUnordered:T(),paragraph:T(),referenceString:er,resourceDestinationString:be,resourceTitleString:S,resource:te,setextHeading:T(Yn),setextHeadingLineSequence:On,setextHeadingText:Rn,strong:T(),thematicBreak:T()}};ur(o,(t||{}).mdastExtensions||[]);const a={};return s;function s(G){let ut={type:"root",children:[]};const Nt={stack:[ut],tokenStack:[],config:o,enter:P,exit:Y,buffer:N,resume:B,setData:h,getData:d},hn=[];let pn=-1;for(;++pn<G.length;)if(G[pn][1].type==="listOrdered"||G[pn][1].type==="listUnordered")if(G[pn][0]==="enter")hn.push(pn);else{const le=hn.pop();pn=p(G,le,pn)}for(pn=-1;++pn<G.length;){const le=o[G[pn][0]];qe.call(le,G[pn][1].type)&&le[G[pn][1].type].call(Object.assign({sliceSerialize:G[pn][2].sliceSerialize},Nt),G[pn][1])}if(Nt.tokenStack.length>0){const le=Nt.tokenStack[Nt.tokenStack.length-1];(le[1]||lr).call(Nt,void 0,le[0])}for(ut.position={start:me(G.length>0?G[0][1].start:{line:1,column:1,offset:0}),end:me(G.length>0?G[G.length-2][1].end:{line:1,column:1,offset:0})},pn=-1;++pn<o.transforms.length;)ut=o.transforms[pn](ut)||ut;return ut}function p(G,ut,Nt){let hn=ut-1,pn=-1,le=!1,Ie,_e,Xe,Ye;for(;++hn<=Nt;){const In=G[hn];if(In[1].type==="listUnordered"||In[1].type==="listOrdered"||In[1].type==="blockQuote"?(In[0]==="enter"?pn++:pn--,Ye=void 0):In[1].type==="lineEndingBlank"?In[0]==="enter"&&(Ie&&!Ye&&!pn&&!Xe&&(Xe=hn),Ye=void 0):In[1].type==="linePrefix"||In[1].type==="listItemValue"||In[1].type==="listItemMarker"||In[1].type==="listItemPrefix"||In[1].type==="listItemPrefixWhitespace"||(Ye=void 0),!pn&&In[0]==="enter"&&In[1].type==="listItemPrefix"||pn===-1&&In[0]==="exit"&&(In[1].type==="listUnordered"||In[1].type==="listOrdered")){if(Ie){let hr=hn;for(_e=void 0;hr--;){const Ee=G[hr];if(Ee[1].type==="lineEnding"||Ee[1].type==="lineEndingBlank"){if(Ee[0]==="exit")continue;_e&&(G[_e][1].type="lineEndingBlank",le=!0),Ee[1].type="lineEnding",_e=hr}else if(!(Ee[1].type==="linePrefix"||Ee[1].type==="blockQuotePrefix"||Ee[1].type==="blockQuotePrefixWhitespace"||Ee[1].type==="blockQuoteMarker"||Ee[1].type==="listItemIndent"))break}Xe&&(!_e||Xe<_e)&&(Ie._spread=!0),Ie.end=Object.assign({},_e?G[_e][1].start:In[1].end),G.splice(_e||hn,0,["exit",Ie,In[2]]),hn++,Nt++}In[1].type==="listItemPrefix"&&(Ie={type:"listItem",_spread:!1,start:Object.assign({},In[1].start),end:void 0},G.splice(hn,0,["enter",Ie,In[2]]),hn++,Nt++,Xe=void 0,Ye=!0)}}return G[ut][1]._spread=le,Nt}function h(G,ut){a[G]=ut}function d(G){return a[G]}function x(G,ut){return Nt;function Nt(hn){P.call(this,G(hn),hn),ut&&ut.call(this,hn)}}function N(){this.stack.push({type:"fragment",children:[]})}function P(G,ut,Nt){return this.stack[this.stack.length-1].children.push(G),this.stack.push(G),this.tokenStack.push([ut,Nt]),G.position={start:me(ut.start)},G}function T(G){return ut;function ut(Nt){G&&G.call(this,Nt),Y.call(this,Nt)}}function Y(G,ut){const Nt=this.stack.pop(),hn=this.tokenStack.pop();if(hn)hn[0].type!==G.type&&(ut?ut.call(this,G,hn[0]):(hn[1]||lr).call(this,G,hn[0]));else throw new Error("Cannot close `"+G.type+"` ("+Je({start:G.start,end:G.end})+"): it\u2019s not open");return Nt.position.end=me(G.end),Nt}function B(){return Z(this.stack.pop())}function O(){h("expectingFirstListItemValue",!0)}function un(G){if(d("expectingFirstListItemValue")){const ut=this.stack[this.stack.length-2];ut.start=Number.parseInt(this.sliceSerialize(G),10),h("expectingFirstListItemValue")}}function ln(){const G=this.resume(),ut=this.stack[this.stack.length-1];ut.lang=G}function bn(){const G=this.resume(),ut=this.stack[this.stack.length-1];ut.meta=G}function bt(){d("flowCodeInside")||(this.buffer(),h("flowCodeInside",!0))}function Tn(){const G=this.resume(),ut=this.stack[this.stack.length-1];ut.value=G.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),h("flowCodeInside")}function At(){const G=this.resume(),ut=this.stack[this.stack.length-1];ut.value=G.replace(/(\r?\n|\r)$/g,"")}function En(G){const ut=this.resume(),Nt=this.stack[this.stack.length-1];Nt.label=ut,Nt.identifier=Vn(this.sliceSerialize(G)).toLowerCase()}function Cn(){const G=this.resume(),ut=this.stack[this.stack.length-1];ut.title=G}function at(){const G=this.resume(),ut=this.stack[this.stack.length-1];ut.url=G}function mn(G){const ut=this.stack[this.stack.length-1];if(!ut.depth){const Nt=this.sliceSerialize(G).length;ut.depth=Nt}}function Rn(){h("setextHeadingSlurpLineEnding",!0)}function On(G){const ut=this.stack[this.stack.length-1];ut.depth=this.sliceSerialize(G).charCodeAt(0)===61?1:2}function Yn(){h("setextHeadingSlurpLineEnding")}function yn(G){const ut=this.stack[this.stack.length-1];let Nt=ut.children[ut.children.length-1];(!Nt||Nt.type!=="text")&&(Nt=fi(),Nt.position={start:me(G.start)},ut.children.push(Nt)),this.stack.push(Nt)}function tn(G){const ut=this.stack.pop();ut.value+=this.sliceSerialize(G),ut.position.end=me(G.end)}function It(G){const ut=this.stack[this.stack.length-1];if(d("atHardBreak")){const Nt=ut.children[ut.children.length-1];Nt.position.end=me(G.end),h("atHardBreak");return}!d("setextHeadingSlurpLineEnding")&&o.canContainEols.includes(ut.type)&&(yn.call(this,G),tn.call(this,G))}function Vt(){h("atHardBreak",!0)}function Gt(){const G=this.resume(),ut=this.stack[this.stack.length-1];ut.value=G}function Ln(){const G=this.resume(),ut=this.stack[this.stack.length-1];ut.value=G}function jn(){const G=this.resume(),ut=this.stack[this.stack.length-1];ut.value=G}function ue(){const G=this.stack[this.stack.length-1];if(d("inReference")){const ut=d("referenceType")||"shortcut";G.type+="Reference",G.referenceType=ut,delete G.url,delete G.title}else delete G.identifier,delete G.label;h("referenceType")}function xe(){const G=this.stack[this.stack.length-1];if(d("inReference")){const ut=d("referenceType")||"shortcut";G.type+="Reference",G.referenceType=ut,delete G.url,delete G.title}else delete G.identifier,delete G.label;h("referenceType")}function k(G){const ut=this.sliceSerialize(G),Nt=this.stack[this.stack.length-2];Nt.label=wr(ut),Nt.identifier=Vn(ut).toLowerCase()}function ie(){const G=this.stack[this.stack.length-1],ut=this.resume(),Nt=this.stack[this.stack.length-1];if(h("inReference",!0),Nt.type==="link"){const hn=G.children;Nt.children=hn}else Nt.alt=ut}function be(){const G=this.resume(),ut=this.stack[this.stack.length-1];ut.url=G}function S(){const G=this.resume(),ut=this.stack[this.stack.length-1];ut.title=G}function te(){h("inReference")}function Ne(){h("referenceType","collapsed")}function er(G){const ut=this.resume(),Nt=this.stack[this.stack.length-1];Nt.label=ut,Nt.identifier=Vn(this.sliceSerialize(G)).toLowerCase(),h("referenceType","full")}function Ke(G){h("characterReferenceType",G.type)}function Un(G){const ut=this.sliceSerialize(G),Nt=d("characterReferenceType");let hn;Nt?(hn=Gr(ut,Nt==="characterReferenceMarkerNumeric"?10:16),h("characterReferenceType")):hn=Wn(ut);const pn=this.stack.pop();pn.value+=hn,pn.position.end=me(G.end)}function He(G){tn.call(this,G);const ut=this.stack[this.stack.length-1];ut.url=this.sliceSerialize(G)}function we(G){tn.call(this,G);const ut=this.stack[this.stack.length-1];ut.url="mailto:"+this.sliceSerialize(G)}function ze(){return{type:"blockquote",children:[]}}function Oe(){return{type:"code",lang:null,meta:null,value:""}}function fr(){return{type:"inlineCode",value:""}}function si(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function oi(){return{type:"emphasis",children:[]}}function Lr(){return{type:"heading",depth:void 0,children:[]}}function Or(){return{type:"break"}}function Ir(){return{type:"html",value:""}}function ui(){return{type:"image",title:null,url:"",alt:null}}function Pr(){return{type:"link",title:null,url:"",children:[]}}function Fr(G){return{type:"list",ordered:G.type==="listOrdered",start:null,spread:G._spread,children:[]}}function Mr(G){return{type:"listItem",spread:G._spread,checked:null,children:[]}}function li(){return{type:"paragraph",children:[]}}function ci(){return{type:"strong",children:[]}}function fi(){return{type:"text",value:""}}function hi(){return{type:"thematicBreak"}}}function me(t){return{line:t.line,column:t.column,offset:t.offset}}function ur(t,o){let a=-1;for(;++a<o.length;){const s=o[a];Array.isArray(s)?ur(t,s):Zr(t,s)}}function Zr(t,o){let a;for(a in o)if(qe.call(o,a)){if(a==="canContainEols"){const s=o[a];s&&t[a].push(...s)}else if(a==="transforms"){const s=o[a];s&&t[a].push(...s)}else if(a==="enter"||a==="exit"){const s=o[a];s&&Object.assign(t[a],s)}}}function lr(t,o){throw t?new Error("Cannot close `"+t.type+"` ("+Je({start:t.start,end:t.end})+"): a different token (`"+o.type+"`, "+Je({start:o.start,end:o.end})+") is open"):new Error("Cannot close document, a token (`"+o.type+"`, "+Je({start:o.start,end:o.end})+") is still open")}var Cr=f(8464);function Qr(t){const o=t.replace(/\n{2,}/g,`
`);return(0,Cr.Z)(o)}function Jr(t){const o=Qr(t),{children:a}=Er(o),s=[[]];let p=0;function h(d,x="normal"){d.type==="text"?d.value.split(`
`).forEach((P,T)=>{T!==0&&(p++,s.push([])),P.split(" ").forEach(Y=>{Y&&s[p].push({content:Y,type:x})})}):(d.type==="strong"||d.type==="emphasis")&&d.children.forEach(N=>{h(N,d.type)})}return a.forEach(d=>{d.type==="paragraph"&&d.children.forEach(x=>{h(x)})}),s}function Sr(t){const{children:o}=Er(t);function a(s){return s.type==="text"?s.value.replace(/\n/g,"<br/>"):s.type==="strong"?`<strong>${s.children.map(a).join("")}</strong>`:s.type==="emphasis"?`<em>${s.children.map(a).join("")}</em>`:s.type==="paragraph"?`<p>${s.children.map(a).join("")}</p>`:`Unsupported markdown: ${s.type}`}return o.map(a).join("")}function qr(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(o=>o.segment):[...t]}function ti(t,o){const a=qr(o.content);return Ar(t,[],a,o.type)}function Ar(t,o,a,s){if(a.length===0)return[{content:o.join(""),type:s},{content:"",type:s}];const[p,...h]=a,d=[...o,p];return t([{content:d.join(""),type:s}])?Ar(t,d,h,s):(o.length===0&&p&&(o.push(p),a.shift()),[{content:o.join(""),type:s},{content:a.join(""),type:s}])}function Tr(t,o){if(t.some(({content:a})=>a.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Le(t,o)}function Le(t,o,a=[],s=[]){if(t.length===0)return s.length>0&&a.push(s),a.length>0?a:[];let p="";t[0].content===" "&&(p=" ",t.shift());const h=t.shift()??{content:" ",type:"normal"},d=[...s];if(p!==""&&d.push({content:p,type:"normal"}),d.push(h),o(d))return Le(t,o,a,d);if(s.length>0)a.push(s),t.unshift(h);else if(h.content){const[x,N]=ti(o,h);a.push([x]),N.content&&t.unshift(N)}return Le(t,o,a)}function tr(t,o){o&&t.attr("style",o)}function ni(t,o,a,s,p=!1){const h=t.append("foreignObject"),d=h.append("xhtml:div"),x=o.label,N=o.isNode?"nodeLabel":"edgeLabel";d.html(`
    <span class="${N} ${s}" `+(o.labelStyle?'style="'+o.labelStyle+'"':"")+">"+x+"</span>"),tr(d,o.labelStyle),d.style("display","table-cell"),d.style("white-space","nowrap"),d.style("max-width",a+"px"),d.attr("xmlns","http://www.w3.org/1999/xhtml"),p&&d.attr("class","labelBkg");let P=d.node().getBoundingClientRect();return P.width===a&&(d.style("display","table"),d.style("white-space","break-spaces"),d.style("width",a+"px"),P=d.node().getBoundingClientRect()),h.style("width",P.width),h.style("height",P.height),h.node()}function nr(t,o,a){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",o*a-.1+"em").attr("dy",a+"em")}function ei(t,o,a){const s=t.append("text"),p=nr(s,1,o);cr(p,a);const h=p.node().getComputedTextLength();return s.remove(),h}function ri(t,o,a){var s;const p=t.append("text"),h=nr(p,1,o);cr(h,[{content:a,type:"normal"}]);const d=(s=h.node())==null?void 0:s.getBoundingClientRect();return d&&p.remove(),d}function ii(t,o,a,s=!1){const h=o.append("g"),d=h.insert("rect").attr("class","background"),x=h.append("text").attr("y","-10.1");let N=0;for(const P of a){const T=B=>ei(h,1.1,B)<=t,Y=T(P)?[P]:Tr(P,T);for(const B of Y){const O=nr(x,N,1.1);cr(O,B),N++}}if(s){const P=x.node().getBBox(),T=2;return d.attr("x",-T).attr("y",-T).attr("width",P.width+2*T).attr("height",P.height+2*T),h.node()}else return x.node()}function cr(t,o){t.text(""),o.forEach((a,s)=>{const p=t.append("tspan").attr("font-style",a.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",a.type==="strong"?"bold":"normal");s===0?p.text(a.content):p.text(" "+a.content)})}const ai=(t,o="",{style:a="",isTitle:s=!1,classes:p="",useHtmlLabels:h=!0,isNode:d=!0,width:x=200,addSvgBackground:N=!1}={})=>{if(H.l.info("createText",o,a,s,p,h,d,N),h){const P=Sr(o),T={isNode:d,label:(0,H.J)(P).replace(/fa[blrs]?:fa-[\w-]+/g,B=>`<i class='${B.replace(":"," ")}'></i>`),labelStyle:a.replace("fill:","color:")};return ni(t,T,x,p,N)}else{const P=Jr(o);return ii(x,t,P,N)}}},5269:(Dt,et,f)=>{f.d(et,{a:()=>Ot,b:()=>ke,c:()=>nn,d:()=>ye,e:()=>wn,f:()=>Me,g:()=>oe,h:()=>fe,i:()=>Wt,j:()=>Ze,l:()=>dt,p:()=>Fe,s:()=>Pe,u:()=>wt});var l=f(5322),H=f(7934),D=f(2354);const Z=(y,r,b,L)=>{r.forEach(w=>{lt[w](y,b,L)})},lt={extension:(y,r,b)=>{l.l.trace("Making markers for ",b),y.append("defs").append("marker").attr("id",b+"_"+r+"-extensionStart").attr("class","marker extension "+r).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),y.append("defs").append("marker").attr("id",b+"_"+r+"-extensionEnd").attr("class","marker extension "+r).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(y,r,b)=>{y.append("defs").append("marker").attr("id",b+"_"+r+"-compositionStart").attr("class","marker composition "+r).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),y.append("defs").append("marker").attr("id",b+"_"+r+"-compositionEnd").attr("class","marker composition "+r).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(y,r,b)=>{y.append("defs").append("marker").attr("id",b+"_"+r+"-aggregationStart").attr("class","marker aggregation "+r).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),y.append("defs").append("marker").attr("id",b+"_"+r+"-aggregationEnd").attr("class","marker aggregation "+r).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(y,r,b)=>{y.append("defs").append("marker").attr("id",b+"_"+r+"-dependencyStart").attr("class","marker dependency "+r).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),y.append("defs").append("marker").attr("id",b+"_"+r+"-dependencyEnd").attr("class","marker dependency "+r).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(y,r,b)=>{y.append("defs").append("marker").attr("id",b+"_"+r+"-lollipopStart").attr("class","marker lollipop "+r).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),y.append("defs").append("marker").attr("id",b+"_"+r+"-lollipopEnd").attr("class","marker lollipop "+r).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},point:(y,r,b)=>{y.append("marker").attr("id",b+"_"+r+"-pointEnd").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),y.append("marker").attr("id",b+"_"+r+"-pointStart").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(y,r,b)=>{y.append("marker").attr("id",b+"_"+r+"-circleEnd").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),y.append("marker").attr("id",b+"_"+r+"-circleStart").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(y,r,b)=>{y.append("marker").attr("id",b+"_"+r+"-crossEnd").attr("class","marker cross "+r).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),y.append("marker").attr("id",b+"_"+r+"-crossStart").attr("class","marker cross "+r).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(y,r,b)=>{y.append("defs").append("marker").attr("id",b+"_"+r+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},Ot=Z;function Xt(y,r){r&&y.attr("style",r)}function jt(y){const r=(0,H.Ys)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),b=r.append("xhtml:div"),L=y.label,w=y.isNode?"nodeLabel":"edgeLabel";return b.html('<span class="'+w+'" '+(y.labelStyle?'style="'+y.labelStyle+'"':"")+">"+L+"</span>"),Xt(b,y.labelStyle),b.style("display","inline-block"),b.style("white-space","nowrap"),b.attr("xmlns","http://www.w3.org/1999/xhtml"),r.node()}const nn=(y,r,b,L)=>{let w=y||"";if(typeof w=="object"&&(w=w[0]),(0,l.m)((0,l.c)().flowchart.htmlLabels)){w=w.replace(/\\n|\n/g,"<br />"),l.l.info("vertexText"+w);const A={isNode:L,label:(0,l.J)(w).replace(/fa[blrs]?:fa-[\w-]+/g,z=>`<i class='${z.replace(":"," ")}'></i>`),labelStyle:r.replace("fill:","color:")};return jt(A)}else{const A=document.createElementNS("http://www.w3.org/2000/svg","text");A.setAttribute("style",r.replace("color:","fill:"));let C=[];typeof w=="string"?C=w.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(w)?C=w:C=[];for(const z of C){const E=document.createElementNS("http://www.w3.org/2000/svg","tspan");E.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),E.setAttribute("dy","1em"),E.setAttribute("x","0"),b?E.setAttribute("class","title-row"):E.setAttribute("class","row"),E.textContent=z.trim(),A.appendChild(E)}return A}},dt=async(y,r,b,L)=>{let w;const A=r.useHtmlLabels||(0,l.m)((0,l.c)().flowchart.htmlLabels);b?w=b:w="node default";const C=y.insert("g").attr("class",w).attr("id",r.domId||r.id),z=C.insert("g").attr("class","label").attr("style",r.labelStyle);let E;r.labelText===void 0?E="":E=typeof r.labelText=="string"?r.labelText:r.labelText[0];const F=z.node();let j;r.labelType==="markdown"?j=(0,D.a)(z,(0,l.d)((0,l.J)(E),(0,l.c)()),{useHtmlLabels:A,width:r.width||(0,l.c)().flowchart.wrappingWidth,classes:"markdown-node-label"}):j=F.appendChild(nn((0,l.d)((0,l.J)(E),(0,l.c)()),r.labelStyle,!1,L));let Q=j.getBBox();const gt=r.padding/2;if((0,l.m)((0,l.c)().flowchart.htmlLabels)){const st=j.children[0],St=(0,H.Ys)(j),Ft=st.getElementsByTagName("img");if(Ft){const Ct=E.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...Ft].map(vt=>new Promise(Lt=>{function Jt(){if(vt.style.display="flex",vt.style.flexDirection="column",Ct){const Yt=(0,l.c)().fontSize?(0,l.c)().fontSize:window.getComputedStyle(document.body).fontSize,Mn=5;vt.style.width=parseInt(Yt,10)*Mn+"px"}else vt.style.width="100%";Lt(vt)}setTimeout(()=>{vt.complete&&Jt()}),vt.addEventListener("error",Jt),vt.addEventListener("load",Jt)})))}Q=st.getBoundingClientRect(),St.attr("width",Q.width),St.attr("height",Q.height)}return A?z.attr("transform","translate("+-Q.width/2+", "+-Q.height/2+")"):z.attr("transform","translate(0, "+-Q.height/2+")"),r.centerLabel&&z.attr("transform","translate("+-Q.width/2+", "+-Q.height/2+")"),z.insert("rect",":first-child"),{shapeSvg:C,bbox:Q,halfPadding:gt,label:z}},wt=(y,r)=>{const b=r.node().getBBox();y.width=b.width,y.height=b.height};function $t(y,r,b,L){return y.insert("polygon",":first-child").attr("points",L.map(function(w){return w.x+","+w.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-r/2+","+b/2+")")}function Gn(y,r){return y.intersect(r)}function xt(y,r,b,L){var w=y.x,A=y.y,C=w-L.x,z=A-L.y,E=Math.sqrt(r*r*z*z+b*b*C*C),F=Math.abs(r*b*C/E);L.x<w&&(F=-F);var j=Math.abs(r*b*z/E);return L.y<A&&(j=-j),{x:w+F,y:A+j}}function on(y,r,b){return xt(y,r,r,b)}function Mt(y,r,b,L){var w,A,C,z,E,F,j,Q,gt,st,St,Ft,Ct,vt,Lt;if(w=r.y-y.y,C=y.x-r.x,E=r.x*y.y-y.x*r.y,gt=w*b.x+C*b.y+E,st=w*L.x+C*L.y+E,!(gt!==0&&st!==0&&Pn(gt,st))&&(A=L.y-b.y,z=b.x-L.x,F=L.x*b.y-b.x*L.y,j=A*y.x+z*y.y+F,Q=A*r.x+z*r.y+F,!(j!==0&&Q!==0&&Pn(j,Q))&&(St=w*z-A*C,St!==0)))return Ft=Math.abs(St/2),Ct=C*F-z*E,vt=Ct<0?(Ct-Ft)/St:(Ct+Ft)/St,Ct=A*E-w*F,Lt=Ct<0?(Ct-Ft)/St:(Ct+Ft)/St,{x:vt,y:Lt}}function Pn(y,r){return y*r>0}function kn(y,r,b){var L=y.x,w=y.y,A=[],C=Number.POSITIVE_INFINITY,z=Number.POSITIVE_INFINITY;typeof r.forEach=="function"?r.forEach(function(St){C=Math.min(C,St.x),z=Math.min(z,St.y)}):(C=Math.min(C,r.x),z=Math.min(z,r.y));for(var E=L-y.width/2-C,F=w-y.height/2-z,j=0;j<r.length;j++){var Q=r[j],gt=r[j<r.length-1?j+1:0],st=Mt(y,b,{x:E+Q.x,y:F+Q.y},{x:E+gt.x,y:F+gt.y});st&&A.push(st)}return A.length?(A.length>1&&A.sort(function(St,Ft){var Ct=St.x-b.x,vt=St.y-b.y,Lt=Math.sqrt(Ct*Ct+vt*vt),Jt=Ft.x-b.x,Yt=Ft.y-b.y,Mn=Math.sqrt(Jt*Jt+Yt*Yt);return Lt<Mn?-1:Lt===Mn?0:1}),A[0]):y}const Wt=(y,r)=>{var b=y.x,L=y.y,w=r.x-b,A=r.y-L,C=y.width/2,z=y.height/2,E,F;return Math.abs(A)*C>Math.abs(w)*z?(A<0&&(z=-z),E=A===0?0:z*w/A,F=z):(w<0&&(C=-C),E=C,F=w===0?0:C*A/w),{x:b+E,y:L+F}},Ut={node:Gn,circle:on,ellipse:xt,polygon:kn,rect:Wt},v=async(y,r)=>{r.useHtmlLabels||(0,l.c)().flowchart.htmlLabels||(r.centerLabel=!0);const{shapeSvg:L,bbox:w,halfPadding:A}=await dt(y,r,"node "+r.classes,!0);l.l.info("Classes = ",r.classes);const C=L.insert("rect",":first-child");return C.attr("rx",r.rx).attr("ry",r.ry).attr("x",-w.width/2-A).attr("y",-w.height/2-A).attr("width",w.width+r.padding).attr("height",w.height+r.padding),wt(r,C),r.intersect=function(z){return Ut.rect(r,z)},L},K=y=>y?" "+y:"",ct=(y,r)=>`${r||"node default"}${K(y.classes)} ${K(y.class)}`,it=async(y,r)=>{const{shapeSvg:b,bbox:L}=await dt(y,r,ct(r,void 0),!0),w=L.width+r.padding,A=L.height+r.padding,C=w+A,z=[{x:C/2,y:0},{x:C,y:-C/2},{x:C/2,y:-C},{x:0,y:-C/2}];l.l.info("Question main (Circle)");const E=$t(b,C,C,z);return E.attr("style",r.style),wt(r,E),r.intersect=function(F){return l.l.warn("Intersect called"),Ut.polygon(r,z,F)},b},pt=(y,r)=>{const b=y.insert("g").attr("class","node default").attr("id",r.domId||r.id),L=28,w=[{x:0,y:L/2},{x:L/2,y:0},{x:0,y:-L/2},{x:-L/2,y:0}];return b.insert("polygon",":first-child").attr("points",w.map(function(C){return C.x+","+C.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),r.width=28,r.height=28,r.intersect=function(C){return Ut.circle(r,14,C)},b},Rt=async(y,r)=>{const{shapeSvg:b,bbox:L}=await dt(y,r,ct(r,void 0),!0),w=4,A=L.height+r.padding,C=A/w,z=L.width+2*C+r.padding,E=[{x:C,y:0},{x:z-C,y:0},{x:z,y:-A/2},{x:z-C,y:-A},{x:C,y:-A},{x:0,y:-A/2}],F=$t(b,z,A,E);return F.attr("style",r.style),wt(r,F),r.intersect=function(j){return Ut.polygon(r,E,j)},b},kt=async(y,r)=>{const{shapeSvg:b,bbox:L}=await dt(y,r,ct(r,void 0),!0),w=L.width+r.padding,A=L.height+r.padding,C=[{x:-A/2,y:0},{x:w,y:0},{x:w,y:-A},{x:-A/2,y:-A},{x:0,y:-A/2}];return $t(b,w,A,C).attr("style",r.style),r.width=w+A,r.height=A,r.intersect=function(E){return Ut.polygon(r,C,E)},b},Pt=async(y,r)=>{const{shapeSvg:b,bbox:L}=await dt(y,r,ct(r),!0),w=L.width+r.padding,A=L.height+r.padding,C=[{x:-2*A/6,y:0},{x:w-A/6,y:0},{x:w+2*A/6,y:-A},{x:A/6,y:-A}],z=$t(b,w,A,C);return z.attr("style",r.style),wt(r,z),r.intersect=function(E){return Ut.polygon(r,C,E)},b},gn=async(y,r)=>{const{shapeSvg:b,bbox:L}=await dt(y,r,ct(r,void 0),!0),w=L.width+r.padding,A=L.height+r.padding,C=[{x:2*A/6,y:0},{x:w+A/6,y:0},{x:w-2*A/6,y:-A},{x:-A/6,y:-A}],z=$t(b,w,A,C);return z.attr("style",r.style),wt(r,z),r.intersect=function(E){return Ut.polygon(r,C,E)},b},vn=async(y,r)=>{const{shapeSvg:b,bbox:L}=await dt(y,r,ct(r,void 0),!0),w=L.width+r.padding,A=L.height+r.padding,C=[{x:-2*A/6,y:0},{x:w+2*A/6,y:0},{x:w-A/6,y:-A},{x:A/6,y:-A}],z=$t(b,w,A,C);return z.attr("style",r.style),wt(r,z),r.intersect=function(E){return Ut.polygon(r,C,E)},b},Sn=async(y,r)=>{const{shapeSvg:b,bbox:L}=await dt(y,r,ct(r,void 0),!0),w=L.width+r.padding,A=L.height+r.padding,C=[{x:A/6,y:0},{x:w-A/6,y:0},{x:w+2*A/6,y:-A},{x:-2*A/6,y:-A}],z=$t(b,w,A,C);return z.attr("style",r.style),wt(r,z),r.intersect=function(E){return Ut.polygon(r,C,E)},b},yt=async(y,r)=>{const{shapeSvg:b,bbox:L}=await dt(y,r,ct(r,void 0),!0),w=L.width+r.padding,A=L.height+r.padding,C=[{x:0,y:0},{x:w+A/2,y:0},{x:w,y:-A/2},{x:w+A/2,y:-A},{x:0,y:-A}],z=$t(b,w,A,C);return z.attr("style",r.style),wt(r,z),r.intersect=function(E){return Ut.polygon(r,C,E)},b},_t=async(y,r)=>{const{shapeSvg:b,bbox:L}=await dt(y,r,ct(r,void 0),!0),w=L.width+r.padding,A=w/2,C=A/(2.5+w/50),z=L.height+C+r.padding,E="M 0,"+C+" a "+A+","+C+" 0,0,0 "+w+" 0 a "+A+","+C+" 0,0,0 "+-w+" 0 l 0,"+z+" a "+A+","+C+" 0,0,0 "+w+" 0 l 0,"+-z,F=b.attr("label-offset-y",C).insert("path",":first-child").attr("style",r.style).attr("d",E).attr("transform","translate("+-w/2+","+-(z/2+C)+")");return wt(r,F),r.intersect=function(j){const Q=Ut.rect(r,j),gt=Q.x-r.x;if(A!=0&&(Math.abs(gt)<r.width/2||Math.abs(gt)==r.width/2&&Math.abs(Q.y-r.y)>r.height/2-C)){let st=C*C*(1-gt*gt/(A*A));st!=0&&(st=Math.sqrt(st)),st=C-st,j.y-r.y>0&&(st=-st),Q.y+=st}return Q},b},An=async(y,r)=>{const{shapeSvg:b,bbox:L,halfPadding:w}=await dt(y,r,"node "+r.classes+" "+r.class,!0),A=b.insert("rect",":first-child"),C=L.width+r.padding,z=L.height+r.padding;if(A.attr("class","basic label-container").attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("x",-L.width/2-w).attr("y",-L.height/2-w).attr("width",C).attr("height",z),r.props){const E=new Set(Object.keys(r.props));r.props.borders&&(Bt(A,r.props.borders,C,z),E.delete("borders")),E.forEach(F=>{l.l.warn(`Unknown node property ${F}`)})}return wt(r,A),r.intersect=function(E){return Ut.rect(r,E)},b},Fn=async(y,r)=>{const{shapeSvg:b}=await dt(y,r,"label",!0);l.l.trace("Classes = ",r.class);const L=b.insert("rect",":first-child"),w=0,A=0;if(L.attr("width",w).attr("height",A),b.attr("class","label edgeLabel"),r.props){const C=new Set(Object.keys(r.props));r.props.borders&&(Bt(L,r.props.borders,w,A),C.delete("borders")),C.forEach(z=>{l.l.warn(`Unknown node property ${z}`)})}return wt(r,L),r.intersect=function(C){return Ut.rect(r,C)},b};function Bt(y,r,b,L){const w=[],A=z=>{w.push(z,0)},C=z=>{w.push(0,z)};r.includes("t")?(l.l.debug("add top border"),A(b)):C(b),r.includes("r")?(l.l.debug("add right border"),A(L)):C(L),r.includes("b")?(l.l.debug("add bottom border"),A(b)):C(b),r.includes("l")?(l.l.debug("add left border"),A(L)):C(L),y.attr("stroke-dasharray",w.join(" "))}const M=(y,r)=>{let b;r.classes?b="node "+r.classes:b="node default";const L=y.insert("g").attr("class",b).attr("id",r.domId||r.id),w=L.insert("rect",":first-child"),A=L.insert("line"),C=L.insert("g").attr("class","label"),z=r.labelText.flat?r.labelText.flat():r.labelText;let E="";typeof z=="object"?E=z[0]:E=z,l.l.info("Label text abc79",E,z,typeof z=="object");const F=C.node().appendChild(nn(E,r.labelStyle,!0,!0));let j={width:0,height:0};if((0,l.m)((0,l.c)().flowchart.htmlLabels)){const Ft=F.children[0],Ct=(0,H.Ys)(F);j=Ft.getBoundingClientRect(),Ct.attr("width",j.width),Ct.attr("height",j.height)}l.l.info("Text 2",z);const Q=z.slice(1,z.length);let gt=F.getBBox();const st=C.node().appendChild(nn(Q.join?Q.join("<br/>"):Q,r.labelStyle,!0,!0));if((0,l.m)((0,l.c)().flowchart.htmlLabels)){const Ft=st.children[0],Ct=(0,H.Ys)(st);j=Ft.getBoundingClientRect(),Ct.attr("width",j.width),Ct.attr("height",j.height)}const St=r.padding/2;return(0,H.Ys)(st).attr("transform","translate( "+(j.width>gt.width?0:(gt.width-j.width)/2)+", "+(gt.height+St+5)+")"),(0,H.Ys)(F).attr("transform","translate( "+(j.width<gt.width?0:-(gt.width-j.width)/2)+", 0)"),j=C.node().getBBox(),C.attr("transform","translate("+-j.width/2+", "+(-j.height/2-St+3)+")"),w.attr("class","outer title-state").attr("x",-j.width/2-St).attr("y",-j.height/2-St).attr("width",j.width+r.padding).attr("height",j.height+r.padding),A.attr("class","divider").attr("x1",-j.width/2-St).attr("x2",j.width/2+St).attr("y1",-j.height/2-St+gt.height+St).attr("y2",-j.height/2-St+gt.height+St),wt(r,w),r.intersect=function(Ft){return Ut.rect(r,Ft)},L},q=async(y,r)=>{const{shapeSvg:b,bbox:L}=await dt(y,r,ct(r,void 0),!0),w=L.height+r.padding,A=L.width+w/4+r.padding,C=b.insert("rect",":first-child").attr("style",r.style).attr("rx",w/2).attr("ry",w/2).attr("x",-A/2).attr("y",-w/2).attr("width",A).attr("height",w);return wt(r,C),r.intersect=function(z){return Ut.rect(r,z)},b},Et=async(y,r)=>{const{shapeSvg:b,bbox:L,halfPadding:w}=await dt(y,r,ct(r,void 0),!0),A=b.insert("circle",":first-child");return A.attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("r",L.width/2+w).attr("width",L.width+r.padding).attr("height",L.height+r.padding),l.l.info("Circle main"),wt(r,A),r.intersect=function(C){return l.l.info("Circle intersect",r,L.width/2+w,C),Ut.circle(r,L.width/2+w,C)},b},Zt=async(y,r)=>{const{shapeSvg:b,bbox:L,halfPadding:w}=await dt(y,r,ct(r,void 0),!0),A=5,C=b.insert("g",":first-child"),z=C.insert("circle"),E=C.insert("circle");return C.attr("class",r.class),z.attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("r",L.width/2+w+A).attr("width",L.width+r.padding+A*2).attr("height",L.height+r.padding+A*2),E.attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("r",L.width/2+w).attr("width",L.width+r.padding).attr("height",L.height+r.padding),l.l.info("DoubleCircle main"),wt(r,z),r.intersect=function(F){return l.l.info("DoubleCircle intersect",r,L.width/2+w+A,F),Ut.circle(r,L.width/2+w+A,F)},b},zt=async(y,r)=>{const{shapeSvg:b,bbox:L}=await dt(y,r,ct(r,void 0),!0),w=L.width+r.padding,A=L.height+r.padding,C=[{x:0,y:0},{x:w,y:0},{x:w,y:-A},{x:0,y:-A},{x:0,y:0},{x:-8,y:0},{x:w+8,y:0},{x:w+8,y:-A},{x:-8,y:-A},{x:-8,y:0}],z=$t(b,w,A,C);return z.attr("style",r.style),wt(r,z),r.intersect=function(E){return Ut.polygon(r,C,E)},b},Kt=(y,r)=>{const b=y.insert("g").attr("class","node default").attr("id",r.domId||r.id),L=b.insert("circle",":first-child");return L.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),wt(r,L),r.intersect=function(w){return Ut.circle(r,7,w)},b},Qt=(y,r,b)=>{const L=y.insert("g").attr("class","node default").attr("id",r.domId||r.id);let w=70,A=10;b==="LR"&&(w=10,A=70);const C=L.append("rect").attr("x",-1*w/2).attr("y",-1*A/2).attr("width",w).attr("height",A).attr("class","fork-join");return wt(r,C),r.height=r.height+r.padding/2,r.width=r.width+r.padding/2,r.intersect=function(z){return Ut.rect(r,z)},L},Nn={rhombus:it,question:it,rect:An,labelRect:Fn,rectWithTitle:M,choice:pt,circle:Et,doublecircle:Zt,stadium:q,hexagon:Rt,rect_left_inv_arrow:kt,lean_right:Pt,lean_left:gn,trapezoid:vn,inv_trapezoid:Sn,rect_right_inv_arrow:yt,cylinder:_t,start:Kt,end:(y,r)=>{const b=y.insert("g").attr("class","node default").attr("id",r.domId||r.id),L=b.insert("circle",":first-child"),w=b.insert("circle",":first-child");return w.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),L.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),wt(r,w),r.intersect=function(A){return Ut.circle(r,7,A)},b},note:v,subroutine:zt,fork:Qt,join:Qt,class_box:(y,r)=>{const b=r.padding/2,L=4,w=8;let A;r.classes?A="node "+r.classes:A="node default";const C=y.insert("g").attr("class",A).attr("id",r.domId||r.id),z=C.insert("rect",":first-child"),E=C.insert("line"),F=C.insert("line");let j=0,Q=L;const gt=C.insert("g").attr("class","label");let st=0;const St=r.classData.annotations&&r.classData.annotations[0],Ft=r.classData.annotations[0]?"\xAB"+r.classData.annotations[0]+"\xBB":"",Ct=gt.node().appendChild(nn(Ft,r.labelStyle,!0,!0));let vt=Ct.getBBox();if((0,l.m)((0,l.c)().flowchart.htmlLabels)){const en=Ct.children[0],an=(0,H.Ys)(Ct);vt=en.getBoundingClientRect(),an.attr("width",vt.width),an.attr("height",vt.height)}r.classData.annotations[0]&&(Q+=vt.height+L,j+=vt.width);let Lt=r.classData.label;r.classData.type!==void 0&&r.classData.type!==""&&((0,l.c)().flowchart.htmlLabels?Lt+="&lt;"+r.classData.type+"&gt;":Lt+="<"+r.classData.type+">");const Jt=gt.node().appendChild(nn(Lt,r.labelStyle,!0,!0));(0,H.Ys)(Jt).attr("class","classTitle");let Yt=Jt.getBBox();if((0,l.m)((0,l.c)().flowchart.htmlLabels)){const en=Jt.children[0],an=(0,H.Ys)(Jt);Yt=en.getBoundingClientRect(),an.attr("width",Yt.width),an.attr("height",Yt.height)}Q+=Yt.height+L,Yt.width>j&&(j=Yt.width);const Mn=[];r.classData.members.forEach(en=>{const an=en.getDisplayDetails();let Dn=an.displayText;(0,l.c)().flowchart.htmlLabels&&(Dn=Dn.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const Wn=gt.node().appendChild(nn(Dn,an.cssStyle?an.cssStyle:r.labelStyle,!0,!0));let xn=Wn.getBBox();if((0,l.m)((0,l.c)().flowchart.htmlLabels)){const re=Wn.children[0],he=(0,H.Ys)(Wn);xn=re.getBoundingClientRect(),he.attr("width",xn.width),he.attr("height",xn.height)}xn.width>j&&(j=xn.width),Q+=xn.height+L,Mn.push(Wn)}),Q+=w;const Bn=[];if(r.classData.methods.forEach(en=>{const an=en.getDisplayDetails();let Dn=an.displayText;(0,l.c)().flowchart.htmlLabels&&(Dn=Dn.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const Wn=gt.node().appendChild(nn(Dn,an.cssStyle?an.cssStyle:r.labelStyle,!0,!0));let xn=Wn.getBBox();if((0,l.m)((0,l.c)().flowchart.htmlLabels)){const re=Wn.children[0],he=(0,H.Ys)(Wn);xn=re.getBoundingClientRect(),he.attr("width",xn.width),he.attr("height",xn.height)}xn.width>j&&(j=xn.width),Q+=xn.height+L,Bn.push(Wn)}),Q+=w,St){let en=(j-vt.width)/2;(0,H.Ys)(Ct).attr("transform","translate( "+(-1*j/2+en)+", "+-1*Q/2+")"),st=vt.height+L}let Kn=(j-Yt.width)/2;return(0,H.Ys)(Jt).attr("transform","translate( "+(-1*j/2+Kn)+", "+(-1*Q/2+st)+")"),st+=Yt.height+L,E.attr("class","divider").attr("x1",-j/2-b).attr("x2",j/2+b).attr("y1",-Q/2-b+w+st).attr("y2",-Q/2-b+w+st),st+=w,Mn.forEach(en=>{(0,H.Ys)(en).attr("transform","translate( "+-j/2+", "+(-1*Q/2+st+w/2)+")");const an=en?.getBBox();st+=(an?.height??0)+L}),st+=w,F.attr("class","divider").attr("x1",-j/2-b).attr("x2",j/2+b).attr("y1",-Q/2-b+w+st).attr("y2",-Q/2-b+w+st),st+=w,Bn.forEach(en=>{(0,H.Ys)(en).attr("transform","translate( "+-j/2+", "+(-1*Q/2+st)+")");const an=en?.getBBox();st+=(an?.height??0)+L}),z.attr("class","outer title-state").attr("x",-j/2-b).attr("y",-(Q/2)-b).attr("width",j+r.padding).attr("height",Q+r.padding),wt(r,z),r.intersect=function(en){return Ut.rect(r,en)},C}};let zn={};const wn=async(y,r,b)=>{let L,w;if(r.link){let A;(0,l.c)().securityLevel==="sandbox"?A="_top":r.linkTarget&&(A=r.linkTarget||"_blank"),L=y.insert("svg:a").attr("xlink:href",r.link).attr("target",A),w=await Nn[r.shape](L,r,b)}else w=await Nn[r.shape](y,r,b),L=w;return r.tooltip&&w.attr("title",r.tooltip),r.class&&w.attr("class","node default "+r.class),zn[r.id]=L,r.haveCallback&&zn[r.id].attr("class",zn[r.id].attr("class")+" clickable"),L},Pe=(y,r)=>{zn[r.id]=y},ke=()=>{zn={}},Fe=y=>{const r=zn[y.id];l.l.trace("Transforming node",y.diff,y,"translate("+(y.x-y.width/2-5)+", "+y.width/2+")");const b=8,L=y.diff||0;return y.clusterNode?r.attr("transform","translate("+(y.x+L-y.width/2)+", "+(y.y-y.height/2-b)+")"):r.attr("transform","translate("+y.x+", "+y.y+")"),L},Qn={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:5.3};function ne(y,r){y=ae(y),r=ae(r);const[b,L]=[y.x,y.y],[w,A]=[r.x,r.y],C=w-b,z=A-L;return{angle:Math.atan(z/C),deltaX:C,deltaY:z}}const ae=y=>Array.isArray(y)?{x:y[0],y:y[1]}:y,Ze=y=>({x:function(r,b,L){let w=0;if(b===0&&Object.hasOwn(Qn,y.arrowTypeStart)){const{angle:A,deltaX:C}=ne(L[0],L[1]);w=Qn[y.arrowTypeStart]*Math.cos(A)*(C>=0?1:-1)}else if(b===L.length-1&&Object.hasOwn(Qn,y.arrowTypeEnd)){const{angle:A,deltaX:C}=ne(L[L.length-1],L[L.length-2]);w=Qn[y.arrowTypeEnd]*Math.cos(A)*(C>=0?1:-1)}return ae(r).x+w},y:function(r,b,L){let w=0;if(b===0&&Object.hasOwn(Qn,y.arrowTypeStart)){const{angle:A,deltaY:C}=ne(L[0],L[1]);w=Qn[y.arrowTypeStart]*Math.abs(Math.sin(A))*(C>=0?1:-1)}else if(b===L.length-1&&Object.hasOwn(Qn,y.arrowTypeEnd)){const{angle:A,deltaY:C}=ne(L[L.length-1],L[L.length-2]);w=Qn[y.arrowTypeEnd]*Math.abs(Math.sin(A))*(C>=0?1:-1)}return ae(r).y+w}});let Jn={},_n={};const ye=()=>{Jn={},_n={}},Me=(y,r)=>{const b=(0,l.m)((0,l.c)().flowchart.htmlLabels),L=r.labelType==="markdown"?(0,D.a)(y,r.label,{style:r.labelStyle,useHtmlLabels:b,addSvgBackground:!0}):nn(r.label,r.labelStyle);l.l.info("abc82",r,r.labelType);const w=y.insert("g").attr("class","edgeLabel"),A=w.insert("g").attr("class","label");A.node().appendChild(L);let C=L.getBBox();if(b){const E=L.children[0],F=(0,H.Ys)(L);C=E.getBoundingClientRect(),F.attr("width",C.width),F.attr("height",C.height)}A.attr("transform","translate("+-C.width/2+", "+-C.height/2+")"),Jn[r.id]=w,r.width=C.width,r.height=C.height;let z;if(r.startLabelLeft){const E=nn(r.startLabelLeft,r.labelStyle),F=y.insert("g").attr("class","edgeTerminals"),j=F.insert("g").attr("class","inner");z=j.node().appendChild(E);const Q=E.getBBox();j.attr("transform","translate("+-Q.width/2+", "+-Q.height/2+")"),_n[r.id]||(_n[r.id]={}),_n[r.id].startLeft=F,ee(z,r.startLabelLeft)}if(r.startLabelRight){const E=nn(r.startLabelRight,r.labelStyle),F=y.insert("g").attr("class","edgeTerminals"),j=F.insert("g").attr("class","inner");z=F.node().appendChild(E),j.node().appendChild(E);const Q=E.getBBox();j.attr("transform","translate("+-Q.width/2+", "+-Q.height/2+")"),_n[r.id]||(_n[r.id]={}),_n[r.id].startRight=F,ee(z,r.startLabelRight)}if(r.endLabelLeft){const E=nn(r.endLabelLeft,r.labelStyle),F=y.insert("g").attr("class","edgeTerminals"),j=F.insert("g").attr("class","inner");z=j.node().appendChild(E);const Q=E.getBBox();j.attr("transform","translate("+-Q.width/2+", "+-Q.height/2+")"),F.node().appendChild(E),_n[r.id]||(_n[r.id]={}),_n[r.id].endLeft=F,ee(z,r.endLabelLeft)}if(r.endLabelRight){const E=nn(r.endLabelRight,r.labelStyle),F=y.insert("g").attr("class","edgeTerminals"),j=F.insert("g").attr("class","inner");z=j.node().appendChild(E);const Q=E.getBBox();j.attr("transform","translate("+-Q.width/2+", "+-Q.height/2+")"),F.node().appendChild(E),_n[r.id]||(_n[r.id]={}),_n[r.id].endRight=F,ee(z,r.endLabelRight)}return L};function ee(y,r){(0,l.c)().flowchart.htmlLabels&&y&&(y.style.width=r.length*9+"px",y.style.height="12px")}const fe=(y,r)=>{l.l.info("Moving label abc78 ",y.id,y.label,Jn[y.id]);let b=r.updatedPath?r.updatedPath:r.originalPath;if(y.label){const L=Jn[y.id];let w=y.x,A=y.y;if(b){const C=l.u.calcLabelPosition(b);l.l.info("Moving label "+y.label+" from (",w,",",A,") to (",C.x,",",C.y,") abc78"),r.updatedPath&&(w=C.x,A=C.y)}L.attr("transform","translate("+w+", "+A+")")}if(y.startLabelLeft){const L=_n[y.id].startLeft;let w=y.x,A=y.y;if(b){const C=l.u.calcTerminalLabelPosition(y.arrowTypeStart?10:0,"start_left",b);w=C.x,A=C.y}L.attr("transform","translate("+w+", "+A+")")}if(y.startLabelRight){const L=_n[y.id].startRight;let w=y.x,A=y.y;if(b){const C=l.u.calcTerminalLabelPosition(y.arrowTypeStart?10:0,"start_right",b);w=C.x,A=C.y}L.attr("transform","translate("+w+", "+A+")")}if(y.endLabelLeft){const L=_n[y.id].endLeft;let w=y.x,A=y.y;if(b){const C=l.u.calcTerminalLabelPosition(y.arrowTypeEnd?10:0,"end_left",b);w=C.x,A=C.y}L.attr("transform","translate("+w+", "+A+")")}if(y.endLabelRight){const L=_n[y.id].endRight;let w=y.x,A=y.y;if(b){const C=l.u.calcTerminalLabelPosition(y.arrowTypeEnd?10:0,"end_right",b);w=C.x,A=C.y}L.attr("transform","translate("+w+", "+A+")")}},se=(y,r)=>{const b=y.x,L=y.y,w=Math.abs(r.x-b),A=Math.abs(r.y-L),C=y.width/2,z=y.height/2;return w>=C||A>=z},qn=(y,r,b)=>{l.l.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(r)}
  insidePoint : ${JSON.stringify(b)}
  node        : x:${y.x} y:${y.y} w:${y.width} h:${y.height}`);const L=y.x,w=y.y,A=Math.abs(L-b.x),C=y.width/2;let z=b.x<r.x?C-A:C+A;const E=y.height/2,F=Math.abs(r.y-b.y),j=Math.abs(r.x-b.x);if(Math.abs(w-r.y)*C>Math.abs(L-r.x)*E){let Q=b.y<r.y?r.y-E-w:w-E-r.y;z=j*Q/F;const gt={x:b.x<r.x?b.x+z:b.x-j+z,y:b.y<r.y?b.y+F-Q:b.y-F+Q};return z===0&&(gt.x=r.x,gt.y=r.y),j===0&&(gt.x=r.x),F===0&&(gt.y=r.y),l.l.warn(`abc89 topp/bott calc, Q ${F}, q ${Q}, R ${j}, r ${z}`,gt),gt}else{b.x<r.x?z=r.x-C-L:z=L-C-r.x;let Q=F*z/j,gt=b.x<r.x?b.x+j-z:b.x-j+z,st=b.y<r.y?b.y+Q:b.y-Q;return l.l.warn(`sides calc abc89, Q ${F}, q ${Q}, R ${j}, r ${z}`,{_x:gt,_y:st}),z===0&&(gt=r.x,st=r.y),j===0&&(gt=r.x),F===0&&(st=r.y),{x:gt,y:st}}},Vn=(y,r)=>{l.l.warn("abc88 cutPathAtIntersect",y,r);let b=[],L=y[0],w=!1;return y.forEach(A=>{if(l.l.info("abc88 checking point",A,r),!se(r,A)&&!w){const C=qn(r,L,A);l.l.warn("abc88 inside",A,L,C),l.l.warn("abc88 intersection",C);let z=!1;b.forEach(E=>{z=z||E.x===C.x&&E.y===C.y}),b.some(E=>E.x===C.x&&E.y===C.y)?l.l.warn("abc88 no intersect",C,b):b.push(C),w=!0}else l.l.warn("abc88 outside",A,L),L=A,w||b.push(A)}),l.l.warn("abc88 returning points",b),b},oe=function(y,r,b,L,w,A,C){let z=b.points,E=!1;const F=A.node(r.v);var j=A.node(r.w);l.l.info("abc88 InsertEdge: ",b),j.intersect&&F.intersect&&(z=z.slice(1,b.points.length-1),z.unshift(F.intersect(z[0])),l.l.info("Last point",z[z.length-1],j,j.intersect(z[z.length-1])),z.push(j.intersect(z[z.length-1]))),b.toCluster&&(l.l.info("to cluster abc88",L[b.toCluster]),z=Vn(b.points,L[b.toCluster].node),E=!0),b.fromCluster&&(l.l.info("from cluster abc88",L[b.fromCluster]),z=Vn(z.reverse(),L[b.fromCluster].node).reverse(),E=!0);const Q=z.filter(Yt=>!Number.isNaN(Yt.y));let gt=H.$0Z;b.curve&&(w==="graph"||w==="flowchart")&&(gt=b.curve);const{x:st,y:St}=Ze(b),Ft=(0,H.jvg)().x(st).y(St).curve(gt);let Ct;switch(b.thickness){case"normal":Ct="edge-thickness-normal";break;case"thick":Ct="edge-thickness-thick";break;case"invisible":Ct="edge-thickness-thick";break;default:Ct=""}switch(b.pattern){case"solid":Ct+=" edge-pattern-solid";break;case"dotted":Ct+=" edge-pattern-dotted";break;case"dashed":Ct+=" edge-pattern-dashed";break}const vt=y.append("path").attr("d",Ft(Q)).attr("id",b.id).attr("class"," "+Ct+(b.classes?" "+b.classes:"")).attr("style",b.style);let Lt="";switch(((0,l.c)().flowchart.arrowMarkerAbsolute||(0,l.c)().state.arrowMarkerAbsolute)&&(Lt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Lt=Lt.replace(/\(/g,"\\("),Lt=Lt.replace(/\)/g,"\\)")),l.l.info("arrowTypeStart",b.arrowTypeStart),l.l.info("arrowTypeEnd",b.arrowTypeEnd),b.arrowTypeStart){case"arrow_cross":vt.attr("marker-start","url("+Lt+"#"+C+"_"+w+"-crossStart)");break;case"arrow_point":vt.attr("marker-start","url("+Lt+"#"+C+"_"+w+"-pointStart)");break;case"arrow_barb":vt.attr("marker-start","url("+Lt+"#"+C+"_"+w+"-barbStart)");break;case"arrow_circle":vt.attr("marker-start","url("+Lt+"#"+C+"_"+w+"-circleStart)");break;case"aggregation":vt.attr("marker-start","url("+Lt+"#"+C+"_"+w+"-aggregationStart)");break;case"extension":vt.attr("marker-start","url("+Lt+"#"+C+"_"+w+"-extensionStart)");break;case"composition":vt.attr("marker-start","url("+Lt+"#"+C+"_"+w+"-compositionStart)");break;case"dependency":vt.attr("marker-start","url("+Lt+"#"+C+"_"+w+"-dependencyStart)");break;case"lollipop":vt.attr("marker-start","url("+Lt+"#"+C+"_"+w+"-lollipopStart)");break}switch(b.arrowTypeEnd){case"arrow_cross":vt.attr("marker-end","url("+Lt+"#"+C+"_"+w+"-crossEnd)");break;case"arrow_point":vt.attr("marker-end","url("+Lt+"#"+C+"_"+w+"-pointEnd)");break;case"arrow_barb":vt.attr("marker-end","url("+Lt+"#"+C+"_"+w+"-barbEnd)");break;case"arrow_circle":vt.attr("marker-end","url("+Lt+"#"+C+"_"+w+"-circleEnd)");break;case"aggregation":vt.attr("marker-end","url("+Lt+"#"+C+"_"+w+"-aggregationEnd)");break;case"extension":vt.attr("marker-end","url("+Lt+"#"+C+"_"+w+"-extensionEnd)");break;case"composition":vt.attr("marker-end","url("+Lt+"#"+C+"_"+w+"-compositionEnd)");break;case"dependency":vt.attr("marker-end","url("+Lt+"#"+C+"_"+w+"-dependencyEnd)");break;case"lollipop":vt.attr("marker-end","url("+Lt+"#"+C+"_"+w+"-lollipopEnd)");break}let Jt={};return E&&(Jt.updatedPath=z),Jt.originalPath=b.points,Jt}},7936:(Dt,et,f)=>{f.d(et,{r:()=>Ut});var l=f(1644),H=f(9354),D=f(5269),Z=f(5322),V=f(5625),X=f(2354),nt=f(7934);let U={},J={},mt={};const Tt=()=>{J={},mt={},U={}},rt=($,v)=>(Z.l.trace("In isDecendant",v," ",$," = ",J[v].includes($)),!!J[v].includes($)),ft=($,v)=>(Z.l.info("Decendants of ",v," is ",J[v]),Z.l.info("Edge is ",$),$.v===v||$.w===v?!1:J[v]?J[v].includes($.v)||rt($.v,v)||rt($.w,v)||J[v].includes($.w):(Z.l.debug("Tilt, ",v,",not in decendants"),!1)),lt=($,v,K,ct)=>{Z.l.warn("Copying children of ",$,"root",ct,"data",v.node($),ct);const it=v.children($)||[];$!==ct&&it.push($),Z.l.warn("Copying (nodes) clusterId",$,"nodes",it),it.forEach(pt=>{if(v.children(pt).length>0)lt(pt,v,K,ct);else{const Rt=v.node(pt);Z.l.info("cp ",pt," to ",ct," with parent ",$),K.setNode(pt,Rt),ct!==v.parent(pt)&&(Z.l.warn("Setting parent",pt,v.parent(pt)),K.setParent(pt,v.parent(pt))),$!==ct&&pt!==$?(Z.l.debug("Setting parent",pt,$),K.setParent(pt,$)):(Z.l.info("In copy ",$,"root",ct,"data",v.node($),ct),Z.l.debug("Not Setting parent for node=",pt,"cluster!==rootId",$!==ct,"node!==clusterId",pt!==$));const kt=v.edges(pt);Z.l.debug("Copying Edges",kt),kt.forEach(Pt=>{Z.l.info("Edge",Pt);const gn=v.edge(Pt.v,Pt.w,Pt.name);Z.l.info("Edge data",gn,ct);try{ft(Pt,ct)?(Z.l.info("Copying as ",Pt.v,Pt.w,gn,Pt.name),K.setEdge(Pt.v,Pt.w,gn,Pt.name),Z.l.info("newGraph edges ",K.edges(),K.edge(K.edges()[0]))):Z.l.info("Skipping copy of edge ",Pt.v,"-->",Pt.w," rootId: ",ct," clusterId:",$)}catch(vn){Z.l.error(vn)}})}Z.l.debug("Removing node",pt),v.removeNode(pt)})},Ot=($,v)=>{const K=v.children($);let ct=[...K];for(const it of K)mt[it]=$,ct=[...ct,...Ot(it,v)];return ct},Xt=($,v)=>{Z.l.trace("Searching",$);const K=v.children($);if(Z.l.trace("Searching children of id ",$,K),K.length<1)return Z.l.trace("This is a valid node",$),$;for(const ct of K){const it=Xt(ct,v);if(it)return Z.l.trace("Found replacement for",$," => ",it),it}},jt=$=>!U[$]||!U[$].externalConnections?$:U[$]?U[$].id:$,rn=($,v)=>{if(!$||v>10){Z.l.debug("Opting out, no graph ");return}else Z.l.debug("Opting in, graph ");$.nodes().forEach(function(K){$.children(K).length>0&&(Z.l.warn("Cluster identified",K," Replacement id in edges: ",Xt(K,$)),J[K]=Ot(K,$),U[K]={id:Xt(K,$),clusterData:$.node(K)})}),$.nodes().forEach(function(K){const ct=$.children(K),it=$.edges();ct.length>0?(Z.l.debug("Cluster identified",K,J),it.forEach(pt=>{if(pt.v!==K&&pt.w!==K){const Rt=rt(pt.v,K),kt=rt(pt.w,K);Rt^kt&&(Z.l.warn("Edge: ",pt," leaves cluster ",K),Z.l.warn("Decendants of XXX ",K,": ",J[K]),U[K].externalConnections=!0)}})):Z.l.debug("Not a cluster ",K,J)}),$.edges().forEach(function(K){const ct=$.edge(K);Z.l.warn("Edge "+K.v+" -> "+K.w+": "+JSON.stringify(K)),Z.l.warn("Edge "+K.v+" -> "+K.w+": "+JSON.stringify($.edge(K)));let it=K.v,pt=K.w;if(Z.l.warn("Fix XXX",U,"ids:",K.v,K.w,"Translating: ",U[K.v]," --- ",U[K.w]),U[K.v]&&U[K.w]&&U[K.v]===U[K.w]){Z.l.warn("Fixing and trixing link to self - removing XXX",K.v,K.w,K.name),Z.l.warn("Fixing and trixing - removing XXX",K.v,K.w,K.name),it=jt(K.v),pt=jt(K.w),$.removeEdge(K.v,K.w,K.name);const Rt=K.w+"---"+K.v;$.setNode(Rt,{domId:Rt,id:Rt,labelStyle:"",labelText:ct.label,padding:0,shape:"labelRect",style:""});const kt=structuredClone(ct),Pt=structuredClone(ct);kt.label="",kt.arrowTypeEnd="none",Pt.label="",kt.fromCluster=K.v,Pt.toCluster=K.v,$.setEdge(it,Rt,kt,K.name+"-cyclic-special"),$.setEdge(Rt,pt,Pt,K.name+"-cyclic-special")}else(U[K.v]||U[K.w])&&(Z.l.warn("Fixing and trixing - removing XXX",K.v,K.w,K.name),it=jt(K.v),pt=jt(K.w),$.removeEdge(K.v,K.w,K.name),it!==K.v&&(ct.fromCluster=K.v),pt!==K.w&&(ct.toCluster=K.w),Z.l.warn("Fix Replacing with XXX",it,pt,K.name),$.setEdge(it,pt,ct,K.name))}),Z.l.warn("Adjusted Graph",H.c($)),nn($,0),Z.l.trace(U)},nn=($,v)=>{if(Z.l.warn("extractor - ",v,H.c($),$.children("D")),v>10){Z.l.error("Bailing out");return}let K=$.nodes(),ct=!1;for(const it of K){const pt=$.children(it);ct=ct||pt.length>0}if(!ct){Z.l.debug("Done, no node has children",$.nodes());return}Z.l.debug("Nodes = ",K,v);for(const it of K)if(Z.l.debug("Extracting node",it,U,U[it]&&!U[it].externalConnections,!$.parent(it),$.node(it),$.children("D")," Depth ",v),!U[it])Z.l.debug("Not a cluster",it,v);else if(!U[it].externalConnections&&$.children(it)&&$.children(it).length>0){Z.l.warn("Cluster without external connections, without a parent and with children",it,v);let Rt=$.graph().rankdir==="TB"?"LR":"TB";U[it]&&U[it].clusterData&&U[it].clusterData.dir&&(Rt=U[it].clusterData.dir,Z.l.warn("Fixing dir",U[it].clusterData.dir,Rt));const kt=new V.k({multigraph:!0,compound:!0}).setGraph({rankdir:Rt,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Z.l.warn("Old graph before copy",H.c($)),lt(it,$,kt,it),$.setNode(it,{clusterNode:!0,id:it,clusterData:U[it].clusterData,labelText:U[it].labelText,graph:kt}),Z.l.warn("New graph after copy node: (",it,")",H.c(kt)),Z.l.debug("Old graph after copy",H.c($))}else Z.l.warn("Cluster ** ",it," **not meeting the criteria !externalConnections:",!U[it].externalConnections," no parent: ",!$.parent(it)," children ",$.children(it)&&$.children(it).length>0,$.children("D"),v),Z.l.debug(U);K=$.nodes(),Z.l.warn("New list of nodes",K);for(const it of K){const pt=$.node(it);Z.l.warn(" Now next level",it,pt),pt.clusterNode&&nn(pt.graph,v+1)}},dt=($,v)=>{if(v.length===0)return[];let K=Object.assign(v);return v.forEach(ct=>{const it=$.children(ct),pt=dt($,it);K=[...K,...pt]}),K},wt=$=>dt($,$.children()),Mt={rect:($,v)=>{Z.l.info("Creating subgraph rect for ",v.id,v);const K=$.insert("g").attr("class","cluster"+(v.class?" "+v.class:"")).attr("id",v.id),ct=K.insert("rect",":first-child"),it=(0,Z.m)((0,Z.c)().flowchart.htmlLabels),pt=K.insert("g").attr("class","cluster-label"),Rt=v.labelType==="markdown"?(0,X.a)(pt,v.labelText,{style:v.labelStyle,useHtmlLabels:it}):pt.node().appendChild((0,D.c)(v.labelText,v.labelStyle,void 0,!0));let kt=Rt.getBBox();if((0,Z.m)((0,Z.c)().flowchart.htmlLabels)){const yt=Rt.children[0],_t=(0,nt.Ys)(Rt);kt=yt.getBoundingClientRect(),_t.attr("width",kt.width),_t.attr("height",kt.height)}const Pt=0*v.padding,gn=Pt/2,vn=v.width<=kt.width+Pt?kt.width+Pt:v.width;v.width<=kt.width+Pt?v.diff=(kt.width-v.width)/2-v.padding/2:v.diff=-v.padding/2,Z.l.trace("Data ",v,JSON.stringify(v)),ct.attr("style",v.style).attr("rx",v.rx).attr("ry",v.ry).attr("x",v.x-vn/2).attr("y",v.y-v.height/2-gn).attr("width",vn).attr("height",v.height+Pt),it?pt.attr("transform","translate("+(v.x-kt.width/2)+", "+(v.y-v.height/2)+")"):pt.attr("transform","translate("+v.x+", "+(v.y-v.height/2)+")");const Sn=ct.node().getBBox();return v.width=Sn.width,v.height=Sn.height,v.intersect=function(yt){return(0,D.i)(v,yt)},K},roundedWithTitle:($,v)=>{const K=$.insert("g").attr("class",v.classes).attr("id",v.id),ct=K.insert("rect",":first-child"),it=K.insert("g").attr("class","cluster-label"),pt=K.append("rect"),Rt=it.node().appendChild((0,D.c)(v.labelText,v.labelStyle,void 0,!0));let kt=Rt.getBBox();if((0,Z.m)((0,Z.c)().flowchart.htmlLabels)){const yt=Rt.children[0],_t=(0,nt.Ys)(Rt);kt=yt.getBoundingClientRect(),_t.attr("width",kt.width),_t.attr("height",kt.height)}kt=Rt.getBBox();const Pt=0*v.padding,gn=Pt/2,vn=v.width<=kt.width+v.padding?kt.width+v.padding:v.width;v.width<=kt.width+v.padding?v.diff=(kt.width+v.padding*0-v.width)/2:v.diff=-v.padding/2,ct.attr("class","outer").attr("x",v.x-vn/2-gn).attr("y",v.y-v.height/2-gn).attr("width",vn+Pt).attr("height",v.height+Pt),pt.attr("class","inner").attr("x",v.x-vn/2-gn).attr("y",v.y-v.height/2-gn+kt.height-1).attr("width",vn+Pt).attr("height",v.height+Pt-kt.height-3),it.attr("transform","translate("+(v.x-kt.width/2)+", "+(v.y-v.height/2-v.padding/3+((0,Z.m)((0,Z.c)().flowchart.htmlLabels)?5:3))+")");const Sn=ct.node().getBBox();return v.height=Sn.height,v.intersect=function(yt){return(0,D.i)(v,yt)},K},noteGroup:($,v)=>{const K=$.insert("g").attr("class","note-cluster").attr("id",v.id),ct=K.insert("rect",":first-child"),it=0*v.padding,pt=it/2;ct.attr("rx",v.rx).attr("ry",v.ry).attr("x",v.x-v.width/2-pt).attr("y",v.y-v.height/2-pt).attr("width",v.width+it).attr("height",v.height+it).attr("fill","none");const Rt=ct.node().getBBox();return v.width=Rt.width,v.height=Rt.height,v.intersect=function(kt){return(0,D.i)(v,kt)},K},divider:($,v)=>{const K=$.insert("g").attr("class",v.classes).attr("id",v.id),ct=K.insert("rect",":first-child"),it=0*v.padding,pt=it/2;ct.attr("class","divider").attr("x",v.x-v.width/2-pt).attr("y",v.y-v.height/2).attr("width",v.width+it).attr("height",v.height+it);const Rt=ct.node().getBBox();return v.width=Rt.width,v.height=Rt.height,v.diff=-v.padding/2,v.intersect=function(kt){return(0,D.i)(v,kt)},K}};let Pn={};const kn=($,v)=>{Z.l.trace("Inserting cluster");const K=v.shape||"rect";Pn[v.id]=Mt[K]($,v)},cn=()=>{Pn={}},Wt=async($,v,K,ct,it)=>{Z.l.info("Graph in recursive render: XXX",H.c(v),it);const pt=v.graph().rankdir;Z.l.trace("Dir in recursive render - dir:",pt);const Rt=$.insert("g").attr("class","root");v.nodes()?Z.l.info("Recursive render XXX",v.nodes()):Z.l.info("No nodes found for",v),v.edges().length>0&&Z.l.trace("Recursive edges",v.edge(v.edges()[0]));const kt=Rt.insert("g").attr("class","clusters"),Pt=Rt.insert("g").attr("class","edgePaths"),gn=Rt.insert("g").attr("class","edgeLabels"),vn=Rt.insert("g").attr("class","nodes");await Promise.all(v.nodes().map(async function(yt){const _t=v.node(yt);if(it!==void 0){const An=JSON.parse(JSON.stringify(it.clusterData));Z.l.info("Setting data for cluster XXX (",yt,") ",An,it),v.setNode(it.id,An),v.parent(yt)||(Z.l.trace("Setting parent",yt,it.id),v.setParent(yt,it.id,An))}if(Z.l.info("(Insert) Node XXX"+yt+": "+JSON.stringify(v.node(yt))),_t&&_t.clusterNode){Z.l.info("Cluster identified",yt,_t.width,v.node(yt));const An=await Wt(vn,_t.graph,K,ct,v.node(yt)),Fn=An.elem;(0,D.u)(_t,Fn),_t.diff=An.diff||0,Z.l.info("Node bounds (abc123)",yt,_t,_t.width,_t.x,_t.y),(0,D.s)(Fn,_t),Z.l.warn("Recursive render complete ",Fn,_t)}else v.children(yt).length>0?(Z.l.info("Cluster - the non recursive path XXX",yt,_t.id,_t,v),Z.l.info(Xt(_t.id,v)),U[_t.id]={id:Xt(_t.id,v),node:_t}):(Z.l.info("Node - the non recursive path",yt,_t.id,_t),await(0,D.e)(vn,v.node(yt),pt))})),v.edges().forEach(function(yt){const _t=v.edge(yt.v,yt.w,yt.name);Z.l.info("Edge "+yt.v+" -> "+yt.w+": "+JSON.stringify(yt)),Z.l.info("Edge "+yt.v+" -> "+yt.w+": ",yt," ",JSON.stringify(v.edge(yt))),Z.l.info("Fix",U,"ids:",yt.v,yt.w,"Translateing: ",U[yt.v],U[yt.w]),(0,D.f)(gn,_t)}),v.edges().forEach(function(yt){Z.l.info("Edge "+yt.v+" -> "+yt.w+": "+JSON.stringify(yt))}),Z.l.info("#############################################"),Z.l.info("###                Layout                 ###"),Z.l.info("#############################################"),Z.l.info(v),(0,l.bK)(v),Z.l.info("Graph after layout:",H.c(v));let Sn=0;return wt(v).forEach(function(yt){const _t=v.node(yt);Z.l.info("Position "+yt+": "+JSON.stringify(v.node(yt))),Z.l.info("Position "+yt+": ("+_t.x,","+_t.y,") width: ",_t.width," height: ",_t.height),_t&&_t.clusterNode?(0,D.p)(_t):v.children(yt).length>0?(kn(kt,_t),U[_t.id].node=_t):(0,D.p)(_t)}),v.edges().forEach(function(yt){const _t=v.edge(yt);Z.l.info("Edge "+yt.v+" -> "+yt.w+": "+JSON.stringify(_t),_t);const An=(0,D.g)(Pt,yt,_t,U,K,v,ct);(0,D.h)(_t,An)}),v.nodes().forEach(function(yt){const _t=v.node(yt);Z.l.info(yt,_t.type,_t.diff),_t.type==="group"&&(Sn=_t.diff)}),{elem:Rt,diff:Sn}},Ut=async($,v,K,ct,it)=>{(0,D.a)($,K,ct,it),(0,D.b)(),(0,D.d)(),cn(),Tt(),Z.l.warn("Graph at first:",JSON.stringify(H.c(v))),rn(v),Z.l.warn("Graph after:",JSON.stringify(H.c(v))),await Wt($,v,ct,it)}}}]);
