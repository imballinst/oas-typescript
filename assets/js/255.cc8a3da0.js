"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[255],{6255:(U,L,d)=>{d.d(L,{diagram:()=>W});var E=d(4706),h=d(7934),P=d(5625),t=d(5322),C=d(7936),j=d(7484),z=d(7967),Y=d(7856),$=d(1644),G=d(9354);const x=o=>t.e.sanitizeText(o,(0,t.c)());let m={dividerMargin:10,padding:5,textHeight:10,curve:void 0};const A=function(o,l,y,a){const e=Object.keys(o);t.l.info("keys:",e),t.l.info(o),e.forEach(function(c){var s,r;const n=o[c],_={shape:"rect",id:n.id,domId:n.domId,labelText:x(n.id),labelStyle:"",style:"fill: none; stroke: black",padding:((s=(0,t.c)().flowchart)==null?void 0:s.padding)??((r=(0,t.c)().class)==null?void 0:r.padding)};l.setNode(n.id,_),k(n.classes,l,y,a,n.id),t.l.info("setNode",_)})},k=function(o,l,y,a,e){const c=Object.keys(o);t.l.info("keys:",c),t.l.info(o),c.filter(s=>o[s].parent==e).forEach(function(s){var r,n;const i=o[s],_=i.cssClasses.join(" "),f={labelStyle:"",style:""},v=i.label??i.id,b=0,u="class_box",p={labelStyle:f.labelStyle,shape:u,labelText:x(v),classData:i,rx:b,ry:b,class:_,style:f.style,id:i.id,domId:i.domId,tooltip:a.db.getTooltip(i.id,e)||"",haveCallback:i.haveCallback,link:i.link,width:i.type==="group"?500:void 0,type:i.type,padding:((r=(0,t.c)().flowchart)==null?void 0:r.padding)??((n=(0,t.c)().class)==null?void 0:n.padding)};l.setNode(i.id,p),e&&l.setParent(i.id,e),t.l.info("setNode",p)})},I=function(o,l,y,a){t.l.info(o),o.forEach(function(e,c){var s,r;const n=e,i="",_={labelStyle:"",style:""},f=n.text,v=0,b="note",u={labelStyle:_.labelStyle,shape:b,labelText:x(f),noteData:n,rx:v,ry:v,class:i,style:_.style,id:n.id,domId:n.id,tooltip:"",type:"note",padding:((s=(0,t.c)().flowchart)==null?void 0:s.padding)??((r=(0,t.c)().class)==null?void 0:r.padding)};if(l.setNode(n.id,u),t.l.info("setNode",u),!n.class||!(n.class in a))return;const p=y+c,T={id:`edgeNote${p}`,classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:(0,t.n)(m.curve,h.c_6)};l.setEdge(n.id,n.class,T,p)})},O=function(o,l){const y=(0,t.c)().flowchart;let a=0;o.forEach(function(e){var c;a++;const s={classes:"relation",pattern:e.relation.lineType==1?"dashed":"solid",id:"id"+a,arrowhead:e.type==="arrow_open"?"none":"normal",startLabelRight:e.relationTitle1==="none"?"":e.relationTitle1,endLabelLeft:e.relationTitle2==="none"?"":e.relationTitle2,arrowTypeStart:M(e.relation.type1),arrowTypeEnd:M(e.relation.type2),style:"fill:none",labelStyle:"",curve:(0,t.n)(y?.curve,h.c_6)};if(t.l.info(s,e),e.style!==void 0){const r=(0,t.k)(e.style);s.style=r.style,s.labelStyle=r.labelStyle}e.text=e.title,e.text===void 0?e.style!==void 0&&(s.arrowheadStyle="fill: #333"):(s.arrowheadStyle="fill: #333",s.labelpos="c",((c=(0,t.c)().flowchart)==null?void 0:c.htmlLabels)??(0,t.c)().htmlLabels?(s.labelType="html",s.label='<span class="edgeLabel">'+e.text+"</span>"):(s.labelType="text",s.label=e.text.replace(t.e.lineBreakRegex,`
`),e.style===void 0&&(s.style=s.style||"stroke: #333; stroke-width: 1.5px;fill:none"),s.labelStyle=s.labelStyle.replace("color:","fill:"))),l.setEdge(e.id1,e.id2,s,a)})},R=function(o){m={...m,...o}},B=async function(o,l,y,a){t.l.info("Drawing class - ",l);const e=(0,t.c)().flowchart??(0,t.c)().class,c=(0,t.c)().securityLevel;t.l.info("config:",e);const s=e?.nodeSpacing??50,r=e?.rankSpacing??50,n=new P.k({multigraph:!0,compound:!0}).setGraph({rankdir:a.db.getDirection(),nodesep:s,ranksep:r,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),i=a.db.getNamespaces(),_=a.db.getClasses(),f=a.db.getRelations(),v=a.db.getNotes();t.l.info(f),A(i,n,l,a),k(_,n,l,a),O(f,n),I(v,n,f.length+1,_);let b;c==="sandbox"&&(b=(0,h.Ys)("#i"+l));const u=c==="sandbox"?(0,h.Ys)(b.nodes()[0].contentDocument.body):(0,h.Ys)("body"),p=u.select(`[id="${l}"]`),T=u.select("#"+l+" g");if(await(0,C.r)(T,n,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",l),t.u.insertTitle(p,"classTitleText",e?.titleTopMargin??5,a.db.getDiagramTitle()),(0,t.o)(n,p,e?.diagramPadding,e?.useMaxWidth),!e?.htmlLabels){const w=c==="sandbox"?b.nodes()[0].contentDocument:document,K=w.querySelectorAll('[id="'+l+'"] .edgeLabel .label');for(const D of K){const S=D.getBBox(),g=w.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("rx",0),g.setAttribute("ry",0),g.setAttribute("width",S.width),g.setAttribute("height",S.height),D.insertBefore(g,D.firstChild)}}};function M(o){let l;switch(o){case 0:l="aggregation";break;case 1:l="extension";break;case 2:l="composition";break;case 3:l="dependency";break;case 4:l="lollipop";break;default:l="none"}return l}const N={setConf:R,draw:B},W={parser:E.p,db:E.d,renderer:N,styles:E.s,init:o=>{o.class||(o.class={}),o.class.arrowMarkerAbsolute=o.arrowMarkerAbsolute,E.d.clear()}}}}]);
