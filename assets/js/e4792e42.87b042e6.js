"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[412],{47:(k,g,o)=>{o.r(g),o.d(g,{assets:()=>w,contentTitle:()=>T,default:()=>V,frontMatter:()=>y,metadata:()=>I,toc:()=>S});var e=o(5893),m=o(1151),v=o(4866),x=o(5162);const y={},T="@oas-typescript/express",I={id:"nodejs-server-stubs/adapters/express",title:"@oas-typescript/express",description:"This section contains the quick start on how to use @oas-typescript/express.",source:"@site/docs/nodejs-server-stubs/adapters/01-express.mdx",sourceDirName:"nodejs-server-stubs/adapters",slug:"/nodejs-server-stubs/adapters/express",permalink:"/oas-typescript/docs/nodejs-server-stubs/adapters/express",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/nodejs-server-stubs/adapters/01-express.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"gettingStartedSidebar",previous:{title:"@oas-typescript/koa",permalink:"/oas-typescript/docs/nodejs-server-stubs/adapters/koa"},next:{title:"Examples",permalink:"/oas-typescript/docs/examples"}},w={},S=[{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Create a server file",id:"create-a-server-file",level:2}];function E(f){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,m.a)(),...f.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.h1,{id:"oas-typescriptexpress",children:"@oas-typescript/express"}),`
`,(0,e.jsxs)(t.p,{children:["This section contains the quick start on how to use ",(0,e.jsx)(t.code,{children:"@oas-typescript/express"}),"."]}),`
`,(0,e.jsx)(t.h2,{id:"requirements",children:"Requirements"}),`
`,(0,e.jsxs)(t.p,{children:["The requirements to use ",(0,e.jsx)(t.code,{children:"@oas-typescript/express"})," are as the following."]}),`
`,(0,e.jsxs)(t.ul,{children:[`
`,(0,e.jsxs)(t.li,{children:["Node.js installation, along with Working package manager, such as ",(0,e.jsx)(t.code,{children:"npm"})," or ",(0,e.jsx)(t.code,{children:"yarn"}),"."]}),`
`,(0,e.jsxs)(t.li,{children:["OpenAPI 3.0 specification file. If you are still using Swagger 2.0, you might need to ",(0,e.jsx)(t.a,{href:"https://swagger.io/blog/news/whats-new-in-openapi-3-0/",children:"migrate"})," or convert your Swagger 2.0 specification into OpenAPI 3.0."]}),`
`]}),`
`,(0,e.jsx)(t.h2,{id:"installation",children:"Installation"}),`
`,(0,e.jsxs)(t.p,{children:["To install ",(0,e.jsx)(t.code,{children:"@oas-typescript/express"}),", run the command below."]}),`
`,(0,e.jsxs)(v.Z,{groupId:"package-managers",children:[(0,e.jsx)(x.Z,{value:"npm",label:"npm",default:!0,children:(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-bash",children:`npm install -D @oas-typescript/express
`})})}),(0,e.jsx)(x.Z,{value:"yarn",label:"Yarn",children:(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-bash",children:`yarn add -D @oas-typescript/express
`})})})]}),`
`,(0,e.jsx)(t.h2,{id:"usage",children:"Usage"}),`
`,(0,e.jsx)(t.p,{children:"To use the CLI, use the following command."}),`
`,(0,e.jsxs)(v.Z,{groupId:"package-managers",children:[(0,e.jsx)(x.Z,{value:"npm",label:"npm",default:!0,children:(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-bash",children:`npx oas-typescript-express generate ./path/to/openapi.json --output ./path-to-output-directory
`})})}),(0,e.jsx)(x.Z,{value:"yarn",label:"Yarn",children:(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-bash",children:`yarn oas-typescript-express generate ./path/to/openapi.json --output ./path-to-output-directory
`})})})]}),`
`,(0,e.jsx)(t.p,{children:"The CLI has following options that can be passed as arguments."}),`
`,`
`,(0,e.jsxs)(t.table,{children:[(0,e.jsx)(t.thead,{children:(0,e.jsxs)(t.tr,{children:[(0,e.jsx)(t.th,{children:"Option"}),(0,e.jsx)(t.th,{children:"Description"}),(0,e.jsx)(t.th,{children:"Default value"})]})}),(0,e.jsxs)(t.tbody,{children:[(0,e.jsxs)(t.tr,{children:[(0,e.jsxs)(t.td,{children:[(0,e.jsx)(t.code,{children:"--output"}),", ",(0,e.jsx)(t.code,{children:"-o"})]}),(0,e.jsx)(t.td,{children:"The output directory."}),(0,e.jsx)(t.td,{children:(0,e.jsx)(t.code,{children:"(pwd)/oas-typescript"})})]}),(0,e.jsxs)(t.tr,{children:[(0,e.jsx)(t.td,{children:(0,e.jsx)(t.code,{children:"--app-security-schemes-field"})}),(0,e.jsxs)(t.td,{children:["The security scheme field used in the OpenAPI Specification. Mostly useful when you have custom ",(0,e.jsx)(t.code,{children:"securitySchemes"})," that are not supported by the specification."]}),(0,e.jsx)(t.td,{children:(0,e.jsx)(t.code,{children:"securitySchemes"})})]}),(0,e.jsxs)(t.tr,{children:[(0,e.jsx)(t.td,{children:(0,e.jsx)(t.code,{children:"--app-security-requirements-field"})}),(0,e.jsxs)(t.td,{children:["The custom security requirements field used in the OpenAPI Specification. Mostly useful when you have custom ",(0,e.jsx)(t.code,{children:"security"})," that are not supported by the specification."]}),(0,e.jsx)(t.td,{children:(0,e.jsx)(t.code,{children:"security"})})]}),(0,e.jsxs)(t.tr,{children:[(0,e.jsx)(t.td,{children:(0,e.jsx)(t.code,{children:"--module"})}),(0,e.jsxs)(t.td,{children:["The output module. Available values are ",(0,e.jsx)(t.code,{children:"cjs"})," or ",(0,e.jsx)(t.code,{children:"esm"}),"."]}),(0,e.jsx)(t.td,{children:(0,e.jsx)(t.code,{children:"esm"})})]})]})]}),`
`,`
`,(0,e.jsx)(t.p,{children:"There's that! After running that command, you will have your generated files ready at the output directory."}),`
`,(0,e.jsx)(t.h2,{id:"create-a-server-file",children:"Create a server file"}),`
`,(0,e.jsxs)(t.p,{children:["The CLI does not automatically generate a server file, so you will need you create it yourselves. You could create a file, say, ",(0,e.jsx)(t.code,{children:"server.ts"})," outside of the ",(0,e.jsx)(t.code,{children:"output"})," folder."]}),`
`,(0,e.jsx)(t.pre,{children:(0,e.jsx)(t.code,{className:"language-ts",children:`import express from 'express';
import { generatedRouter } from './static/router.js';

const app = express();

app.use(generatedRouter);

app.get('/healthz', (_req, res) => {
  res.send({ healthy: true });
});

app.listen(3000, () => {
  console.info('Server is running on port 3000');
});
`})}),`
`,(0,e.jsxs)(t.p,{children:["So, what we are doing above is, we define the Express application, in which we use the ",(0,e.jsx)(t.code,{children:"generatedRouter"})," as well as the common router (in the case above we are defining ",(0,e.jsx)(t.code,{children:"/healthz"})," endpoint which is used to indicate if the server is already running)."]})]})}function V(f={}){const{wrapper:t}={...(0,m.a)(),...f.components};return t?(0,e.jsx)(t,{...f,children:(0,e.jsx)(E,{...f})}):E(f)}},5162:(k,g,o)=>{o.d(g,{Z:()=>y});var e=o(7294),m=o(6010);const v={tabItem:"tabItem_Ymn6"};var x=o(5893);function y(T){let{children:I,hidden:w,className:S}=T;return(0,x.jsx)("div",{role:"tabpanel",className:(0,m.Z)(v.tabItem,S),hidden:w,children:I})}},4866:(k,g,o)=>{o.d(g,{Z:()=>z});var e=o(7294),m=o(6010),v=o(2466),x=o(6550),y=o(469),T=o(1980),I=o(7392),w=o(12);function S(r){const{props:s}=r;return!!s&&typeof s=="object"&&"value"in s}function E(r){return e.Children.toArray(r).filter(s=>s!==`
`).map(s=>{if(!s||(0,e.isValidElement)(s)&&S(s))return s;throw new Error(`Docusaurus error: Bad <Tabs> child <${typeof s.type=="string"?s.type:s.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function V(r){return E(r).map(s=>{let{props:{value:n,label:a,attributes:l,default:c}}=s;return{value:n,label:a,attributes:l,default:c}})}function f(r){const s=(0,I.l)(r,(n,a)=>n.value===a.value);if(s.length>0)throw new Error(`Docusaurus error: Duplicate values "${s.map(n=>n.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}function t(r){const{values:s,children:n}=r;return(0,e.useMemo)(()=>{const a=s??V(n);return f(a),a},[s,n])}function D(r){let{value:s,tabValues:n}=r;return n.some(a=>a.value===s)}function M(r){let{defaultValue:s,tabValues:n}=r;if(n.length===0)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(s){if(!D({value:s,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${s}" but none of its children has the corresponding value. Available values are: ${n.map(l=>l.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return s}const a=n.find(l=>l.default)??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}function A(r){return r?`docusaurus.tab.${r}`:null}function L(r){let{queryString:s=!1,groupId:n}=r;if(typeof s=="string")return s;if(s===!1)return null;if(s===!0&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}function O(r){let{queryString:s=!1,groupId:n}=r;const a=(0,x.k6)(),l=L({queryString:s,groupId:n}),c=(0,T._X)(l),i=(0,e.useCallback)(C=>{if(!l)return;const j=new URLSearchParams(a.location.search);j.set(l,C),a.replace({...a.location,search:j.toString()})},[l,a]);return[c,i]}function U(r){let{groupId:s}=r;const n=A(s),[a,l]=(0,w.Nk)(n),c=(0,e.useCallback)(i=>{n&&l.set(i)},[n,l]);return[a,c]}function Z(r){const{defaultValue:s,queryString:n=!1,groupId:a}=r,l=t(r),[c,i]=(0,e.useState)(()=>M({defaultValue:s,tabValues:l})),[C,j]=O({queryString:n,groupId:a}),[N,h]=U({groupId:a}),u=(()=>{const d=C??N;return D({value:d,tabValues:l})?d:null})();(0,y.Z)(()=>{u&&i(u)},[u]);const p=(0,e.useCallback)(d=>{if(!D({value:d,tabValues:l}))throw new Error(`Can't select invalid tab value=${d}`);i(d),j(d),h(d)},[j,h,l]);return{selectedValue:c,selectValue:p,tabValues:l}}var R=o(2389);const P={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=o(5893);function B(r){let{className:s,block:n,selectedValue:a,selectValue:l,tabValues:c}=r;const i=[],{blockElementScrollPositionUntilNextRender:C}=(0,v.o5)(),j=h=>{const u=h.currentTarget,p=i.indexOf(u),d=c[p].value;d!==a&&(C(u),l(d))},N=h=>{let u=null;switch(h.key){case"Enter":{j(h);break}case"ArrowRight":{const p=i.indexOf(h.currentTarget)+1;u=i[p]??i[0];break}case"ArrowLeft":{const p=i.indexOf(h.currentTarget)-1;u=i[p]??i[i.length-1];break}default:break}u?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,m.Z)("tabs",{"tabs--block":n},s),children:c.map(h=>{let{value:u,label:p,attributes:d}=h;return(0,b.jsx)("li",{role:"tab",tabIndex:a===u?0:-1,"aria-selected":a===u,ref:W=>i.push(W),onKeyDown:N,onClick:j,...d,className:(0,m.Z)("tabs__item",P.tabItem,d?.className,{"tabs__item--active":a===u}),children:p??u},u)})})}function K(r){let{lazy:s,children:n,selectedValue:a}=r;const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(s){const c=l.find(i=>i.props.value===a);return c?(0,e.cloneElement)(c,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:l.map((c,i)=>(0,e.cloneElement)(c,{key:i,hidden:c.props.value!==a}))})}function $(r){const s=Z(r);return(0,b.jsxs)("div",{className:(0,m.Z)("tabs-container",P.tabList),children:[(0,b.jsx)(B,{...r,...s}),(0,b.jsx)(K,{...r,...s})]})}function z(r){const s=(0,R.Z)();return(0,b.jsx)($,{...r,children:E(r.children)},String(s))}}}]);
